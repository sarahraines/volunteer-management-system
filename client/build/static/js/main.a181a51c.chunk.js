(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,t,a){e.exports=a.p+"static/media/register.2c0812b6.svg"},182:function(e,t,a){},190:function(e,t,a){},217:function(e,t,a){e.exports=a.p+"static/media/login.303e4a67.svg"},221:function(e,t,a){e.exports=a.p+"static/media/undraw_hang_out.16968210.svg"},223:function(e,t,a){e.exports=a.p+"static/media/undraw_team_spirit.6a115251.svg"},257:function(e,t,a){},275:function(e,t,a){e.exports=a.p+"static/media/Recruit.7b478bae.svg"},308:function(e,t,a){},309:function(e,t,a){},345:function(e,t,a){e.exports=a.p+"static/media/landing.260d8c04.svg"},346:function(e,t,a){e.exports=a.p+"static/media/AboutImage.988d75bf.svg"},347:function(e,t,a){e.exports=a.p+"static/media/Onboard.73ac7aa3.svg"},348:function(e,t,a){e.exports=a.p+"static/media/Engage.8a1b15dd.svg"},349:function(e,t,a){e.exports=a.p+"static/media/Retain.a1fd7184.svg"},350:function(e,t,a){e.exports=a.p+"static/media/Analyze.914be106.svg"},351:function(e,t,a){e.exports=a.p+"static/media/Automate.c1882f12.svg"},352:function(e,t,a){e.exports=a.p+"static/media/volunteersense.98bf0bb3.png"},371:function(e,t,a){e.exports=a(636)},380:function(e,t,a){},529:function(e,t,a){},530:function(e,t,a){},535:function(e,t,a){},536:function(e,t,a){},537:function(e,t,a){},538:function(e,t,a){},539:function(e,t,a){},608:function(e,t,a){},614:function(e,t,a){},615:function(e,t,a){},630:function(e,t,a){},631:function(e,t,a){},632:function(e,t,a){},634:function(e,t,a){},635:function(e,t,a){},636:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(30),c=a.n(l),i=a(32),o=a(140),s=Object(o.b)({alerts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ALERT":return e.concat([t]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==t.id}));default:return e}},orgs:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_ORGS":return null!==(e=null===a||void 0===a?void 0:a.orgs)&&void 0!==e?e:t;default:return t}},sidebar_item:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"loading",a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_SIDEBAR":return null!==(e=null===a||void 0===a?void 0:a.sidebar_item)&&void 0!==e?e:t;default:return t}}}),u=a(68),m=(a(380),a(43)),d=a(6),p=a.n(d),f=a(9),b=a(341),v=a.n(b),g=a(269),h=a.n(g),E="".concat("","/api/"),y=localStorage.getItem("access_token"),k=v.a.create({baseURL:E,timeout:2e4,headers:{Authorization:"Bearer "+y,"Content-Type":"application/json",accept:"application/json"}});k.interceptors.response.use((function(e){return e}),function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.config,!t.response||401!==t.response.status||a.url!==k.baseURL+"token/refresh/"){e.next=4;break}return window.location.href="/login/",e.abrupt("return",Promise.reject(t));case 4:if(!t.response||401!==t.response.status||"token_not_valid"!==t.response.data.code){e.next=21;break}return n=localStorage.getItem("refresh_token"),e.prev=6,e.next=9,k.post("/token/refresh/",{refresh:n});case 9:return r=e.sent,localStorage.setItem("access_token",r.data.access),localStorage.setItem("refresh_token",r.data.refresh),k.defaults.headers.Authorization="Bearer "+r.data.access,a.headers.Authorization="Bearer "+r.data.access,e.abrupt("return",k(a));case 17:return e.prev=17,e.t0=e.catch(6),window.location.href="/login/",e.abrupt("return",Promise.reject(t));case 21:return e.abrupt("return",Promise.reject(t));case 22:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}());function w(e){k.defaults.headers.Authorization="Bearer "+e.data.access,localStorage.setItem("access_token",e.data.access),localStorage.setItem("refresh_token",e.data.refresh),localStorage.setItem("user_id",e.data.user_id)}h()(k,{retries:0,retryDelay:function(){return 1e3+1e3*Math.random()},retryCondition:h.a.isRetryableError});var O=k;function x(e,t,a,n){return j.apply(this,arguments)}function j(){return(j=Object(f.a)(p.a.mark((function e(t,a,n,r){var l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.post("users/create/",{email:t,first_name:a,last_name:n,password:r});case 2:return l=e.sent,localStorage.setItem("user",l.data),e.abrupt("return",l);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t,a,n,r){return S.apply(this,arguments)}function S(){return(S=Object(f.a)(p.a.mark((function e(t,a,n,r,l){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.post("users/create-from-invite/",{email:t,first_name:a,last_name:n,password:r,invite_id:l});case 2:return c=e.sent,localStorage.setItem("user",c.data),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return I.apply(this,arguments)}function I(){return(I=Object(f.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.post("token/obtain/",{email:t,password:a});case 2:return n=e.sent,localStorage.setItem("email",t),w(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t){return N.apply(this,arguments)}function N(){return(N=Object(f.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("user_id"),e.next=3,O.post("users/change-password/",{user_id:n,old_password:t,new_password:a});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return D.apply(this,arguments)}function D(){return(D=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.post("users/forgot-password/",{email:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=a(656),q=a(638),L=a(646),M=a(114),V=a(366),R=a(643),z=a(651),P=a(42),U=a(673),B=a(657),W=a(342),Y=a.n(W);function G(e,t){return{type:"ADD_ALERT",id:Y.a.generate(),message:e,alert_type:t}}function H(e){return{type:"REMOVE_ALERT",id:e}}function Q(e){return{type:"SET_ORGS",orgs:e}}function J(e){return{type:"SET_SIDEBAR",sidebar_item:e}}var K=a(126),X=function(e){return K.a.pageview(e)},Z=function(e){return Object(n.useEffect)((function(){X(e)}),[e])},$=function(e){return K.a.event(e)},ee=(a(48),a(182),function(e){var t=e.isRegister,a=Object(m.f)(),l=Object(i.c)(),c=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=8;break}return e.next=4,x(n.email,n.first_name,n.last_name,n.password);case 4:$({category:"auth",action:"registration_success"}),l(G("Account created! Check your email to confirm your account.","success")),e.next=11;break;case 8:return e.next=10,C(n.email,n.password);case 10:a.push("/");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),t?($({category:"auth",action:"registration_fail"}),l(G("Account could not be created. Have you already created an account with this email?","error"))):V.b.error("Login failed. Email or password is incorrect.");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),[t,a,l]),o=t?"Create account":"Log in",s=t?r.a.createElement(r.a.Fragment,null,"Already have an account? ",r.a.createElement(u.b,{to:"/login"},"Log in")):r.a.createElement(r.a.Fragment,null,"New user? ",r.a.createElement(u.b,{to:"/register"},"Create account"));return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{name:"auth",className:"auth-form",initialValues:{remember:!0},onFinish:c},"   ",t&&r.a.createElement(R.a.Item,null,r.a.createElement(z.a.Group,{compact:!0},r.a.createElement(R.a.Item,{name:"first_name",noStyle:!0,rules:[{required:!0,message:"First name is required"}]},r.a.createElement(z.a,{style:{width:"50%"},placeholder:"First name"})),r.a.createElement(R.a.Item,{name:"last_name",noStyle:!0,rules:[{required:!0,message:"Last name is required"}]},r.a.createElement(z.a,{style:{width:"50%"},placeholder:"Last name"})))),r.a.createElement(R.a.Item,{name:"email",hasFeedback:!0,rules:[{required:!0,message:"Email is a required field."},{type:"email",message:"Not a valid email."}]},r.a.createElement(z.a,{prefix:r.a.createElement(U.a,{className:"site-form-item-icon"}),placeholder:"Email"})),r.a.createElement(R.a.Item,{name:"password",hasFeedback:t,rules:[{required:!0,message:"Password is a required field."}].concat(Object(M.a)(t?[{min:12,message:"Password must be at least 12 characters long."}]:[]))},r.a.createElement(z.a,{prefix:r.a.createElement(B.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),t&&r.a.createElement(R.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password."},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("Passwords do not match."):Promise.resolve()}}}]},r.a.createElement(z.a,{prefix:r.a.createElement(B.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Confirm password"})),r.a.createElement(R.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"auth-form-button"},o),s,!t&&r.a.createElement(u.b,{className:"auth-form-forgot",to:"/forgot-password"},"Forgot password?"))))}),te=a(217),ae=a.n(te),ne=a(109),re=a.n(ne),le=(a(190),function(e){var t=e.isRegister,a=t?"Create account":"Log in",l=t?re.a:ae.a,c=Object(i.d)((function(e){return e.alerts}),i.b),o=Object(i.c)();Z(t?"/register":"/login");var s=Object(n.useCallback)((function(e){setTimeout((function(){return o(H(e))}),500)}),[o]),u=c.map((function(e){return r.a.createElement(T.a,{key:e.id,type:e.alert_type,message:e.message,banner:!0,closable:!0,onClose:function(){return s(e.id)}})}));return r.a.createElement(q.a,{style:{height:"100vh"}},u,r.a.createElement(q.a.Content,{className:"auth-content"},r.a.createElement("div",{className:"auth-container"},r.a.createElement(L.a.Title,{level:2},a),r.a.createElement("img",{className:"auth-logo",src:l,alt:a+" logo"}),r.a.createElement(ee,{isRegister:t}))))}),ce=a(84),ie=a(85),oe=a(90),se=a(87),ue=a(273),me=a(159),de=a(45),pe=a(91),fe=a(179),be=/\.svg/,ve=function(e,t){var a=0===e.name.indexOf("title")?"h1":"div";a=e.href?"a":a;var n="string"===typeof e.children&&e.children.match(be)?r.a.createElement("img",{src:e.children,height:"150px",alt:"img"}):e.children;return 0===e.name.indexOf("button")&&"object"===typeof e.children&&(n=r.a.createElement(P.a,Object(fe.a)({},e.children))),r.a.createElement(a,Object(fe.a)({key:t.toString()},e),n)},ge=pe.a.Item,he=pe.a.SubMenu,Ee=function(e){Object(oe.a)(a,e);var t=Object(se.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).phoneClick=function(){var e=!n.state.phoneOpen;n.setState({phoneOpen:e})},n.state={phoneOpen:void 0},n}return Object(ie.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dataSource,n=t.isMobile,l=Object(me.a)(t,["dataSource","isMobile"]),c=this.state.phoneOpen,i=a.Menu.children.map((function(e){var t=e.children,a=e.subItem,n=Object(me.a)(e,["children","subItem"]);return a?r.a.createElement(he,Object.assign({key:e.name},n,{title:r.a.createElement("div",Object.assign({},t,{className:"header3-item-block ".concat(t.className).trim()}),t.children.map(ve)),popupClassName:"header3-item-child"}),a.map((function(e,t){var a=e.children,n=a.href?r.a.createElement("a",a,a.children.map(ve)):r.a.createElement("div",a,a.children.map(ve));return r.a.createElement(ge,Object.assign({key:e.name||t.toString()},e),n)}))):r.a.createElement(ge,Object.assign({key:e.name},n),r.a.createElement("a",Object.assign({},t,{className:"header3-item-block ".concat(t.className).trim()}),t.children.map(ve)))})),o=void 0===c?300:null;return r.a.createElement(de.a,Object.assign({component:"header",animation:{opacity:0,type:"from"}},a.wrapper,l),r.a.createElement("div",Object.assign({},a.page,{className:"".concat(a.page.className).concat(c?" open":"")}),r.a.createElement(de.a,Object.assign({animation:{x:-30,type:"from",ease:"easeOutQuad"}},a.logo),r.a.createElement("img",{width:"100%",src:a.logo.children,alt:"img"})),n&&r.a.createElement("div",Object.assign({},a.mobileMenu,{onClick:function(){e.phoneClick()}}),r.a.createElement("em",null),r.a.createElement("em",null),r.a.createElement("em",null)),r.a.createElement(de.a,Object.assign({},a.Menu,{animation:n?{x:0,height:0,duration:300,onComplete:function(t){e.state.phoneOpen&&(t.target.style.height="auto")},ease:"easeInOutQuad"}:null,moment:o,reverse:!!c}),r.a.createElement(pe.a,{mode:n?"inline":"horizontal",defaultSelectedKeys:["sub0"],theme:"light"},i))))}}]),a}(r.a.Component),ye=a(151),ke=function(e){Object(oe.a)(a,e);var t=Object(se.a)(a);function a(){return Object(ce.a)(this,a),t.apply(this,arguments)}return Object(ie.a)(a,[{key:"render",value:function(){var e=Object.assign({},this.props),t=e.dataSource;delete e.dataSource,delete e.isMobile;var a={queue:"bottom",one:{y:"+=30",opacity:0,type:"from",ease:"easeOutQuad"}};return r.a.createElement("div",Object.assign({},e,t.wrapper),r.a.createElement("div",t.page,r.a.createElement(ye.a,Object.assign({key:"text",type:a.queue,leaveReverse:!0,ease:["easeOutQuad","easeInQuad"]},t.childWrapper,{componentProps:{md:t.childWrapper.md,xs:t.childWrapper.xs}}),t.childWrapper.children.map(ve)),r.a.createElement(de.a,Object.assign({animation:a.one,key:"title"},t.image),r.a.createElement("img",{src:t.image.children,width:"100%",alt:"img"}))))}}]),a}(r.a.PureComponent),we=a(160),Oe=a(77),xe=a(147),je=a.n(xe),_e=function(e){Object(oe.a)(a,e);var t=Object(se.a)(a);function a(){return Object(ce.a)(this,a),t.apply(this,arguments)}return Object(ie.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dataSource,a=(e.isMobile,Object(me.a)(e,["dataSource","isMobile"])),n=t.wrapper,l=t.titleWrapper,c=t.page,i=t.OverPack,o=t.childWrapper;return r.a.createElement("div",Object.assign({},a,n),r.a.createElement("div",c,r.a.createElement("div",l,l.children.map(ve)),r.a.createElement(je.a,i,r.a.createElement(ye.a,{type:"bottom",key:"block",leaveReverse:!0,component:we.a,componentProps:o},o.children.map((function(e,t){var a=e.children,n=Object(me.a)(e,["children"]);return r.a.createElement(Oe.a,Object.assign({key:t.toString()},n),r.a.createElement("div",a,a.children.map(ve)))}))))))}}]),a}(r.a.PureComponent),Se=function(e){Object(oe.a)(a,e);var t=Object(se.a)(a);function a(){return Object(ce.a)(this,a),t.apply(this,arguments)}return Object(ie.a)(a,[{key:"render",value:function(){var e=Object.assign({},this.props),t=e.dataSource;return delete e.dataSource,delete e.isMobile,r.a.createElement("div",Object.assign({},e,t.wrapper),r.a.createElement(je.a,t.OverPack,r.a.createElement(de.a,t.links,t.links.children.map((function(e,t){return r.a.createElement("a",Object.assign({key:t.toString()},e),r.a.createElement("img",{src:e.children,height:"100%",alt:"img"}))}))),r.a.createElement(de.a,Object.assign({animation:{x:"+=30",opacity:0,type:"from"},key:"copyright"},t.copyright),t.copyright.children.map((function(e,t){return r.a.createElement(0===e.name.indexOf("title")?"h1":"div",Object(fe.a)({key:t.toString()},e),"string"===typeof e.children&&e.children.match(be)?r.a.createElement("img",{src:e.children,alt:"img"}):e.children)})))))}}]),a}(r.a.PureComponent);var Ce,Ie=function(e){var t=Object.assign({},e),a=t.dataSource,n=t.isMobile;delete t.dataSource,delete t.isMobile;var l={queue:n?"bottom":"right",one:n?{scaleY:"+=0.3",opacity:0,type:"from",ease:"easeOutQuad"}:{x:"-=30",opacity:0,type:"from",ease:"easeOutQuad"}};return r.a.createElement("div",Object.assign({},t,a.wrapper),r.a.createElement(je.a,Object.assign({},a.OverPack,{component:we.a}),r.a.createElement(de.a,Object.assign({key:"img",animation:l.one,resetStyle:!0},a.imgWrapper,{component:Oe.a,componentProps:{md:a.imgWrapper.md,xs:a.imgWrapper.xs}}),r.a.createElement("span",a.img,r.a.createElement("img",{src:a.image.children,width:"100%",alt:"img"}))),r.a.createElement(ye.a,Object.assign({key:"text",type:l.queue,leaveReverse:!0,ease:["easeOutQuad","easeInQuad"]},a.textWrapper,{component:Oe.a,componentProps:{md:a.textWrapper.md,xs:a.textWrapper.xs}}),r.a.createElement("h1",Object.assign({key:"h1"},a.title),a.title.children),r.a.createElement("div",Object.assign({key:"p"},a.content),a.content.children))))},Fe=a(345),Ne=a.n(Fe),Ae=a(346),De=a.n(Ae),Te=a(275),qe=a.n(Te),Le=a(347),Me=a.n(Le),Ve=a(348),Re=a.n(Ve),ze=a(349),Pe=a.n(ze),Ue=a(350),Be=a.n(Ue),We=a(351),Ye=a.n(We),Ge=a(352),He={wrapper:{className:"header3 home-page-wrapper jzih1dpqqrg-editor_css"},page:{className:"home-page"},logo:{className:"header3-logo jzjgnya1gmn-editor_css",children:a.n(Ge).a},Menu:{className:"header3-menu",children:[{name:"item1",className:"header3-item",children:{href:"/login",children:[{children:r.a.createElement("p",null,"Log in"),name:"text"}]}},{name:"item2",className:"header3-item",children:{href:"/register",children:[{children:r.a.createElement("p",null,"Register"),name:"text"}]}}]},mobileMenu:{className:"header3-mobile-menu"}},Qe={wrapper:{className:"home-page-wrapper banner5"},page:{className:"home-page banner5-page"},childWrapper:{className:"banner5-title-wrapper",children:[{name:"title",children:"Connect with your volunteers",className:"banner5-title"},{name:"explain",className:"banner5-explain",children:"Build and engage your community with our volunteer management platform."},{name:"button",className:"banner5-button-wrapper",children:{href:"#Feature0_0",className:"banner5-button",type:"primary",children:"Learn more"}}]},image:{className:"banner5-image",children:Ne.a}},Je={wrapper:{className:"home-page-wrapper content1-wrapper"},OverPack:{className:"home-page content1",playScale:.3},imgWrapper:{className:"content1-img",md:12,xs:24},textWrapper:{className:"content1-text",md:10,xs:24},title:{className:"content1-title",children:r.a.createElement("span",null,r.a.createElement("span",null,r.a.createElement("span",null,r.a.createElement("span",null,r.a.createElement("blockquote",null,"About VolunteerSense")))))},content:{className:"content1-content",children:r.a.createElement("span",null,r.a.createElement("p",null,"VolunteerSense is designed to help nonprofits onboard, engage, and retain volunteers by serving as a single source of truth for nonprofits to interface with their volunteers. This volunteer management platform allows nonprofits to automate key volunteer interactions, enabling them to move away from inefficient methods of volunteer management, scale up their volunteer community, and refocus on what's really important: ",r.a.createElement("i",null,"advancing their mission.")," "))},image:{className:"banner5-image",children:De.a}},Ke={wrapper:{className:"home-page-wrapper content0-wrapper"},page:{className:"home-page content0"},OverPack:{playScale:.3,className:""},titleWrapper:{className:"title-wrapper",children:[{name:"title",children:"Why Use VolunteerSense?"},{name:"explain",children:"Are you a nonprofit that finds itself spending hours entering data into Excel or filing paperwork in order to manage your volunteers? Are these time consuming tasks preventing your nonprofit from scaling up your volunteer base (and your impact)? VolunteerSense will allow your nonprofit to manage volunteers in a fraction of the time, easily engage volunteers, and expand your volunteer base. Still unsure if you should switch to VolunteerSense? Check out a few of our key features below."}]},childWrapper:{className:"content0-block-wrapper",children:[{name:"block0",className:"content0-block",md:8,xs:24,children:{className:"content0-block-item",children:[{name:"image",className:"content0-block-icon",children:qe.a},{name:"title",className:"content0-block-title",children:"Recruit"},{name:"content",children:"Easily invite new volunteers and allow VolunteerSense to track volunteer event sign-ups for you automatically."}]}},{name:"block1",className:"content0-block",md:8,xs:24,children:{className:"content0-block-item",children:[{name:"image",className:"content0-block-icon",children:Me.a},{name:"title",className:"content0-block-title",children:"Onboard"},{name:"content",children:"Say goodbye to filing volunteer permission slips and waivers. Manage these 'clearances' with just a few button clicks instead."}]}},{name:"block2",className:"content0-block",md:8,xs:24,children:{className:"content0-block-item",children:[{name:"image",className:"content0-block-icon",children:Re.a},{name:"title",className:"content0-block-title",children:"Engage"},{name:"content",children:"Alert your community about new opportunities to get involved with a single click."}]}},{name:"block3",className:"content0-block",md:8,xs:24,children:{className:"content0-block-item",children:[{name:"image",className:"content0-block-icon",children:Pe.a},{name:"title",className:"content0-block-title",children:"Retain"},{name:"content",children:"Remind your volunteers about upcoming events and solicit their feedback."}]}},{name:"block4",className:"content0-block",md:8,xs:24,children:{className:"content0-block-item",children:[{name:"image",className:"content0-block-icon",children:Be.a},{name:"title",className:"content0-block-title",children:"Analyze"},{name:"content",children:"Use VolunteerSense's extensive analytics page to understand volunteer behavior and how best to engage with your community."}]}},{name:"block5",className:"content0-block",md:8,xs:24,children:{className:"content0-block-item",children:[{name:"image",className:"content0-block-icon",children:Ye.a},{name:"title",className:"content0-block-title",children:"Automate"},{name:"content",children:"Automatically track volunteers' service hours and remind volunteers to attend events they've signed up for."}]}}]},image:{className:"banner5-image",children:qe.a}},Xe={wrapper:{className:"home-page-wrapper footer2-wrapper"},OverPack:{className:"home-page footer2",playScale:.05},copyright:{className:"copyright",children:[{name:"copyright",children:"Copyright \xa9 VolunteerSense",className:"copyright-text"}]},links:{className:"links",children:[]}};a(529);Object(ue.enquireScreen)((function(e){Ce=e}));var Ze=("undefined"!==typeof window?window:{}).location,$e=void 0===Ze?{}:Ze,et=function(e){Object(oe.a)(a,e);var t=Object(se.a)(a);function a(e){var n;return Object(ce.a)(this,a),(n=t.call(this,e)).state={isMobile:Ce,show:!$e.port},n}return Object(ie.a)(a,[{key:"componentDidMount",value:function(){var e=this;K.a.pageview(window.location.pathname+"home"),Object(ue.enquireScreen)((function(t){e.setState({isMobile:!!t})})),$e.port&&setTimeout((function(){e.setState({show:!0})}),500)}},{key:"render",value:function(){var e=this,t=[r.a.createElement(Ee,{id:"Nav3_0",key:"Nav3_0",dataSource:He,isMobile:this.state.isMobile}),r.a.createElement(ke,{id:"Banner5_0",key:"Banner5_0",dataSource:Qe,isMobile:this.state.isMobile}),r.a.createElement(Ie,{id:"Feature1_0",key:"Feature1_0",dataSource:Je,isMobile:this.state.isMobile}),r.a.createElement(_e,{id:"Feature0_0",key:"Feature0_0",dataSource:Ke,isMobile:this.state.isMobile}),r.a.createElement(Se,{id:"Footer2_0",key:"Footer2_0",dataSource:Xe,isMobile:this.state.isMobile})];return r.a.createElement("div",{className:"templates-wrapper",ref:function(t){e.dom=t}},this.state.show&&t)}}]),a}(r.a.Component),tt=a(7),at=a(671),nt=a(662),rt=a(362),lt=a(670),ct=a(669),it=a(668),ot=a(227),st=a(667),ut=a(230),mt=a(666),dt=a(665),pt=a(664),ft=a(663),bt=(a(530),pe.a.Divider),vt=pe.a.Item,gt=pe.a.SubMenu,ht=function(e){var t=e.member,a=Object(i.d)((function(e){return e.sidebar_item})).toString(),l=Object(m.f)(),c=Object(i.c)(),o=function(e){c(J(e.key))},s=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.post("token/blacklist/",{refresh_token:localStorage.getItem("refresh_token")});case 2:localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user_id"),O.defaults.headers.Authorization=null,l.push("/login");case 4:case"end":return e.stop()}}),e)}))),[l]),u=t.map((function(e){var t,a;return r.a.createElement(vt,{key:null===e||void 0===e||null===(t=e.organization)||void 0===t?void 0:t.id},null===e||void 0===e||null===(a=e.organization)||void 0===a?void 0:a.name)}));return r.a.createElement("div",{className:"menu-container"},r.a.createElement(pe.a,{mode:"inline",theme:"dark",selectedKeys:[a],onSelect:o},r.a.createElement(gt,{title:"Take action",icon:r.a.createElement(lt.a,null)},r.a.createElement(vt,{className:"action-submenu-item",key:"create-org",icon:r.a.createElement(ct.a,null)},"Create an organization"),r.a.createElement(vt,{className:"action-submenu-item",key:"create-event",icon:r.a.createElement(it.a,null)},"Create event"),r.a.createElement(vt,{className:"action-submenu-item",key:"browse-orgs",icon:r.a.createElement(ot.a,null)},"Browse organizations"),r.a.createElement(vt,{className:"action-submenu-item",key:"set-goals",icon:r.a.createElement(st.a,null)},"Set goals"),r.a.createElement(vt,{className:"action-submenu-item",key:"calendar",icon:r.a.createElement(ut.a,null)},"View my events"),r.a.createElement(vt,{className:"action-submenu-item",key:"view-analytics",icon:r.a.createElement(mt.a,null)},"View my analytics"),r.a.createElement(vt,{className:"action-submenu-item",key:"give-feedback",icon:r.a.createElement(dt.a,null)},"Give feedback")),r.a.createElement(bt,null)),r.a.createElement(pe.a,{mode:"inline",theme:"dark",selectedKeys:[a],onSelect:o},u),r.a.createElement(pe.a,{mode:"inline",theme:"dark",selectedKeys:[a],onSelect:o},r.a.createElement(bt,null),r.a.createElement(vt,{key:"settings",icon:r.a.createElement(pt.a,null)},"Manage user settings"),r.a.createElement(vt,{key:"logout",icon:r.a.createElement(ft.a,null),onClick:s},"Logout")))},Et=a(120),yt=a(168),kt=a(642),wt=a(358),Ot=(a(535),function(e){var t=e.updateImageField,a=e.initialImageURL,l=Object(n.useState)([]),c=Object(tt.a)(l,2),i=c[0],o=c[1];Object(n.useEffect)((function(){a&&(o([{name:"",status:"done",url:a}]),t(-1))}),[a,t]);var s=function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=t.fileList).length>0?(n=a[0],(r=new FileReader).readAsDataURL(n.originFileObj),r.onload=function(){n.thumbUrl=r.result,o(a)}):o(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.url){e.next=5;break}return e.next=4,new Promise((function(e){var a=new FileReader;a.readAsDataURL(t.originFileObj),a.onload=function(){return e(a.result)}}));case 4:a=e.sent;case 5:(n=new Image).src=a,n.height=500,(r=window.open(a))&&r.document.write(n.outerHTML);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(wt.a,{rotate:!0,quality:1},r.a.createElement(kt.a,{listType:"picture-card",fileList:i,onChange:s,onPreview:u,onRemove:function(e){t(null)},customRequest:function(){var e=Object(f.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.onSuccess(null,a.file),t(a.file);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},i.length<1&&"+ Upload"))}),xt=(a(308),z.a.TextArea),jt=function(e){var t=e.form,a=e.org,l=e.closeModalWithUpdate,c=e.setLoading,o=Object(n.useState)(!1),s=Object(tt.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)([]),b=Object(tt.a)(d,2),v=b[0],g=b[1],h=Object(n.useState)([]),E=Object(tt.a)(h,2),y=E[0],k=E[1],w=Object(n.useState)(null),x=Object(tt.a)(w,2),j=x[0],_=x[1],S=Object(i.c)(),C=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("causes/get/");case 3:t=e.sent,k(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[k]);Object(n.useEffect)((function(){C()}),[C]),Object(n.useEffect)((function(){(null===a||void 0===a?void 0:a.id)&&t.setFieldsValue(a)}),[t,a]);var I=Object(n.useMemo)((function(){return y.filter((function(e){return!v.includes(e)}))}),[v,y]),F=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(n){var r,i,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t?c(!0):m(!0),e.prev=1,r=new FormData,(null===a||void 0===a?void 0:a.id)&&r.append("id",a.id),r.append("name",n.name),r.append("causes",n.causes),r.append("description",n.description),r.append("website",n.website),r.append("phone",n.phone),r.append("address",n.address),r.append("email",n.email),r.append("is_public",n.is_public),-1!==j&&r.append("image",j),e.next=15,O.post("organization/upsert/",r);case 15:if(i=e.sent,t){e.next=19;break}return e.next=19,O.post("member/create/",{user_id:localStorage.getItem("user_id"),org_id:i.data.id,member_type:1,status:0});case 19:return e.next=21,O.get("user/get-member/",{params:{user_id:localStorage.getItem("user_id")}});case 21:(o=e.sent).data.forEach((function(e){return e.key=e.organization.id})),S(Q(o.data)),S(J(i.data.id)),V.b.success("Organization ".concat(t?"updated":"created")),t?(l(),c(!1)):m(!1),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(1),V.b.error("Organization ".concat(t?"update":"creation"," failed"));case 32:t?c(!1):m(!1);case 33:case"end":return e.stop()}}),e,null,[[1,29]])})));return function(t){return e.apply(this,arguments)}}(),[m,t,j,a,l,S,c]);return r.a.createElement(R.a,{name:"org",className:"org-form",form:t,onFinish:F,initialValues:{is_public:!0}},r.a.createElement(R.a.Item,{name:"name",hasFeedback:!0,rules:[{required:!0,message:"Organization name is required."}]},r.a.createElement(z.a,{style:{width:"100%"},placeholder:"Organization name",maxLength:128})),r.a.createElement(R.a.Item,{name:"causes",hasFeedback:!0,rules:[{required:!0,message:"Charitable causes are required."}]},r.a.createElement(Et.a,{mode:"multiple",placeholder:"Charitable cause(s)",value:v,onChange:g},I.map((function(e){return r.a.createElement(Et.a.Option,{key:e.id,value:e.id},e.name)})))),r.a.createElement(R.a.Item,{name:"image"},r.a.createElement(Ot,{updateImageField:_,initialImageURL:null===a||void 0===a?void 0:a.image})),r.a.createElement(R.a.Item,{name:"website"},r.a.createElement(z.a,{style:{width:"100%"},placeholder:"Website"})),r.a.createElement(R.a.Item,{name:"phone"},r.a.createElement(z.a,{style:{width:"100%"},placeholder:"Telephone"})),r.a.createElement(R.a.Item,{name:"email",hasFeedback:!0,rules:[{type:"email",message:"Not a valid email."}]},r.a.createElement(z.a,{placeholder:"Email"})),r.a.createElement(R.a.Item,{name:"address"},r.a.createElement(xt,{style:{width:"100%"},placeholder:"Street Address",autoSize:!0})),r.a.createElement(R.a.Item,{name:"description",hasFeedback:!0,rules:[{required:!0,message:"Organization description is required."}]},r.a.createElement(xt,{row:6,style:{width:"100%"},placeholder:"Describe your organization..."})),r.a.createElement(R.a.Item,{name:"is_public"},r.a.createElement(yt.a.Group,null,r.a.createElement(yt.a,{value:!0},"Public"),r.a.createElement(yt.a,{value:!1},"Invitation Only"))),!t&&r.a.createElement(R.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"org-form-button",loading:u},"Create")))},_t=(a(81),function(){return Z("/create-organization"),r.a.createElement("div",{className:"org-container"},r.a.createElement(L.a.Title,{level:2},"Create organization"),r.a.createElement(jt,null))}),St=L.a.Text,Ct=function(e){var t=e.user,a=Object(i.c)(),l=Object(n.useState)(!1),c=Object(tt.a)(l,2),o=c[0],s=c[1],u=Object(n.useState)(null===t||void 0===t?void 0:t.first_name),m=Object(tt.a)(u,2),d=m[0],b=m[1],v=Object(n.useState)(null===t||void 0===t?void 0:t.last_name),g=Object(tt.a)(v,2),h=g[0],E=g[1],y=Object(n.useState)(null===t||void 0===t?void 0:t.email),k=Object(tt.a)(y,2),w=k[0],x=k[1];Object(n.useEffect)((function(){b(null===t||void 0===t?void 0:t.first_name),E(null===t||void 0===t?void 0:t.last_name),x(null===t||void 0===t?void 0:t.email)}),[t]);var j=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=13;break}return e.prev=1,e.next=4,O.post("users/update/",{user_id:localStorage.getItem("user_id"),first_name:d,last_name:h,email:w});case 4:s(!1),a(G("Profile update success","success")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a(G("Profile update failed","error"));case 11:e.next=14;break;case 13:s(!0);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),[o,s,a,w,d,h]),_=function(e,t){return r.a.createElement(we.a,{style:{marginBottom:"8px"}},r.a.createElement(Oe.a,{span:4},r.a.createElement(St,null,e,":")),r.a.createElement(Oe.a,{span:20},r.a.createElement(St,null,t)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,Object.assign({name:"update-profile",onFinish:j,requiredMark:!1,initialValues:{first_name:d,last_name:h,email:w}},{labelCol:{span:4},labelAlign:"left"}),o?r.a.createElement(R.a.Item,{label:"Name"},r.a.createElement(z.a.Group,{compact:!0},r.a.createElement(R.a.Item,{name:"first_name",noStyle:!0,rules:[{required:!0,message:"First name is required"}]},r.a.createElement(z.a,{style:{width:"50%"},placeholder:"First name",value:d,onChange:function(e){b(e.target.value)}})),r.a.createElement(R.a.Item,{name:"last_name",noStyle:!0,rules:[{required:!0,message:"Last name is required"}]},r.a.createElement(z.a,{style:{width:"50%"},placeholder:"Last name",value:h,onChange:function(e){E(e.target.value)}})))):_("Name","".concat(d," ").concat(h)),o?r.a.createElement(R.a.Item,{label:"Email",name:"email",hasFeedback:!0,rules:[{required:!0,message:"Email is a required field."},{type:"email",message:"Not a valid email."}]},r.a.createElement(z.a,{placeholder:"Email",value:w,onChange:function(e){x(e.target.value)}})):_("Email",w),r.a.createElement(R.a.Item,null,r.a.createElement(P.a.Group,{style:{width:"100%"}},r.a.createElement(P.a,{style:{width:o?"50%":"100%",transition:"none"},type:"primary",htmlType:"submit"},o?"Update":"Edit"),r.a.createElement(P.a,{style:{width:"50%",transition:"none"},type:"secondary",onClick:function(){s(!1)},hidden:!o},"Cancel")))))},It=a(649),Ft=a(639);var Nt=function(){var e=Object(n.useState)(null),t=Object(tt.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){c()}),[]);var c=function(){var e=Object(f.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("user_id"),a="users/get/?user_id=".concat(t),e.next=4,O.get(a);case 4:n=e.sent,l(n.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{maxWidth:"600px"}},r.a.createElement(L.a.Title,{level:4},"Update Profile"),r.a.createElement(It.a,{active:!0,loading:!a,paragraph:{rows:3,width:"auto"},title:!1},r.a.createElement(Ct,{user:a}))),r.a.createElement(Ft.a,null))},At=function(e){var t=e.isAuthenticated,a=Object(i.c)(),l=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}return e.prev=1,e.next=4,F(n.old_password,n.new_password);case 4:a(G("Password reset success","success")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a(G("Cannot reset password","error"));case 10:e.next=21;break;case 12:return e.prev=12,e.next=15,O.post("/users/reset-password/",{rt:new URLSearchParams(window.location.search).get("rt"),new_password:n.new_password});case 15:a(G("Password reset success","success")),e.next=21;break;case 18:e.prev=18,e.t1=e.catch(12),a(G("Cannot reset password","error"));case 21:case"end":return e.stop()}}),e,null,[[1,7],[12,18]])})));return function(t){return e.apply(this,arguments)}}(),[t,a]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{name:"reset-password",className:"reset-password-form",initialValues:{remember:!0},onFinish:l},t&&r.a.createElement(R.a.Item,{name:"old_password",hasFeedback:!0,rules:[{required:!0,message:"Old password is a required field."}]},r.a.createElement(z.a,{prefix:r.a.createElement(B.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Old password"})),r.a.createElement(R.a.Item,{name:"new_password",hasFeedback:!0,rules:[{required:!0,message:"New password is a required field."},{min:12,message:"Password must be at least 12 characters long."}]},r.a.createElement(z.a,{prefix:r.a.createElement(B.a,{className:"site-form-item-icon"}),type:"password",placeholder:"New password"})),r.a.createElement(R.a.Item,{name:"confirm",dependencies:["new_password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your new password."},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("new_password")!==a?Promise.reject("Passwords do not match."):Promise.resolve()}}}]},r.a.createElement(z.a,{prefix:r.a.createElement(B.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Confirm password"})),r.a.createElement(R.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"auth-form-button"},"Submit"),t&&r.a.createElement(u.b,{style:{paddingLeft:4,paddingRight:4},to:"/forgot-password"},"Forgot password?"))))};var Dt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{maxWidth:"600px"}},r.a.createElement(L.a.Title,{level:4},"Reset password"),r.a.createElement(At,{isAuthenticated:!0})),r.a.createElement(Ft.a,null))},Tt=a(178),qt=function(e){var t=e.user,a=Object(i.c)(),l=Object(n.useState)(null===t||void 0===t?void 0:t.email),c=Object(tt.a)(l,2),o=c[0],s=c[1],u=Object(n.useState)(null===t||void 0===t?void 0:t.text),m=Object(tt.a)(u,2),d=m[0],b=m[1],v=Object(n.useState)(null===t||void 0===t?void 0:t.phone_number),g=Object(tt.a)(v,2),h=g[0],E=g[1];Object(n.useEffect)((function(){s(null===t||void 0===t?void 0:t.email),b(null===t||void 0===t?void 0:t.text),E(null===t||void 0===t?void 0:t.phone_number)}),[h,t]);var y=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.post("user/submit-notification-settings/",{user_id:localStorage.getItem("user_id"),email:o,text:d,phone_number:t.phone_number});case 3:a(G("Settings update success","success")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a(G("Settings update failed","error"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[o,d,a]),k=R.a.useForm(),w=Object(tt.a)(k,1)[0];return Object(n.useEffect)((function(){w.setFieldsValue({email:o,text:d,phone_number:h})}),[w,o,d,h]),r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,Object.assign({form:w,name:"update-profile",onFinish:y,initialValues:{email:o,text:d,phone_number:h}},{labelCol:{span:4},labelAlign:"left"}),r.a.createElement(R.a.Item,{name:"email"},r.a.createElement(Tt.a,{checked:o,onChange:function(e){s(e.target.checked)}},"Send email notifications")),r.a.createElement(R.a.Item,{name:"text"},r.a.createElement(Tt.a,{checked:d,onChange:function(e){b(e.target.checked)},disabled:!0},"Send text notifications")),r.a.createElement(R.a.Item,{name:"phone_number",hasFeedback:d,rules:[{required:d,message:"Phone is a required field."}]},r.a.createElement(z.a,{addonBefore:"Phone Number",placeholder:"Phone Number",disabled:!0})),r.a.createElement(R.a.Item,null,r.a.createElement(P.a,{style:{width:"100%"},type:"primary",htmlType:"submit"},"Update"))))};var Lt=function(){var e=Object(n.useState)(null),t=Object(tt.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){c()}),[]);var c=function(){var e=Object(f.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("user_id"),a="user/get-notification-settings/?user_id=".concat(t),e.next=4,O.get(a);case 4:n=e.sent,l(n.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{maxWidth:"600px"}},r.a.createElement(L.a.Title,{level:4},"Update Notifications"),r.a.createElement(It.a,{active:!0,loading:!1,paragraph:{rows:3,width:"auto"},title:!1},r.a.createElement(qt,{user:a}))),r.a.createElement(Ft.a,null))},Mt=a(276),Vt=Mt.a.TabPane,Rt=function(){return Z("/settings"),r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a.Title,{level:3},"Manage user settings"),r.a.createElement(Mt.a,{defaultActiveKey:"1"},r.a.createElement(Vt,{tab:"Profile",key:"1"},r.a.createElement(Nt,null)),r.a.createElement(Vt,{tab:"Security",key:"2"},r.a.createElement(Dt,null)),r.a.createElement(Vt,{tab:"Notifications",key:"3"},r.a.createElement(Lt,null))))},zt=a(647),Pt=a(658),Ut=a(652),Bt=a(76),Wt=a.n(Bt),Yt=(a(536),z.a.TextArea),Gt=zt.a.RangePicker,Ht=function(e){var t=e.form,a=e.event,l=e.closeModalWithUpdate,c=e.setLoading,i=Object(n.useState)(!1),o=Object(tt.a)(i,2),s=o[0],u=o[1],m=Object(n.useState)([]),d=Object(tt.a)(m,2),b=d[0],v=d[1],g=Object(n.useState)([]),h=Object(tt.a)(g,2),E=h[0],y=h[1],k=Object(n.useState)([]),w=Object(tt.a)(k,2),x=w[0],j=w[1],_=Object(n.useState)(null),S=Object(tt.a)(_,2),C=S[0],I=S[1],F=Object(n.useState)([]),N=Object(tt.a)(F,2),A=N[0],D=N[1],T=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("causes/get/");case 3:t=e.sent,y(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[y]),q=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("admin/get-orgs/",{params:{user_id:localStorage.getItem("user_id")}});case 3:t=e.sent,D(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[D]);Object(n.useEffect)((function(){T(),q()}),[T,q]),Object(n.useEffect)((function(){if(null===a||void 0===a?void 0:a.id){t.setFieldsValue(a);var e=Wt()(new Date(null===a||void 0===a?void 0:a.begindate)),n=Wt()(new Date(null===a||void 0===a?void 0:a.enddate));t.setFieldsValue({date:[e,n]})}}),[a,t]);var L=Object(n.useMemo)((function(){return E.filter((function(e){return!b.includes(e)}))}),[b,E]),M=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t?c(!1):u(!1),e.prev=1,r=new FormData,(null===a||void 0===a?void 0:a.id)&&r.append("id",a.id),r.append("name",n.name),r.append("virtual",n.virtual),r.append("location",n.location),r.append("causes",n.causes),r.append("organization",n.organization),r.append("begindate",n.date[0].toISOString()),r.append("enddate",n.date[1].toISOString()),r.append("attendee_cap",n.attendee_cap),r.append("description",n.description),r.append("instructions",n.instructions),-1!==C&&r.append("image",C),e.next=17,O.post("event/upsert/",r);case 17:t?(c(!1),l()):u(!1),V.b.success("Event ".concat(t?"updated":"created")),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(1),V.b.error("Event ".concat(t?"update":"creation"," failed")),t?c(!1):u(!1);case 25:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t){return e.apply(this,arguments)}}(),[u,t,C,a,c,l]);return r.a.createElement(R.a,{name:"event",className:"event-form",form:t,initialValues:{remember:!0},onFinish:M,layout:"vertical"},r.a.createElement(R.a.Item,{name:"organization",hasFeedback:!0,rules:[{required:!0,message:"Organization name is required."}]},r.a.createElement(Et.a,{placeholder:"Organization",value:x,onChange:j,style:{width:"100%"}},A.map((function(e){return r.a.createElement(Et.a.Option,{key:e.id,value:e.id},e.name)})))),r.a.createElement(R.a.Item,{name:"name",hasFeedback:!0,rules:[{required:!0,message:"Event name is required."}]},r.a.createElement(z.a,{style:{width:"100%"},placeholder:"Event name"})),r.a.createElement(R.a.Item,{name:"image"},r.a.createElement(Ot,{updateImageField:I,initialImageURL:null===a||void 0===a?void 0:a.image})),r.a.createElement(R.a.Item,{name:"virtual",hasFeedback:!0,valuePropName:"checked",initialValue:!0},r.a.createElement(Pt.a,{checkedChildren:"Virtual",unCheckedChildren:"Non-virtual",defaultChecked:!0})),r.a.createElement(R.a.Item,{name:"location",hasFeedback:!0,rules:[{required:!0,message:"Location is required."}]},r.a.createElement(z.a,{style:{width:"100%"},placeholder:"Location"})),r.a.createElement(R.a.Item,{name:"date",hasFeedback:!0,rules:[{required:!0,message:"Date is required."}]},r.a.createElement(Gt,{style:{width:"100%"},showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm"})),r.a.createElement(R.a.Item,{name:"causes",hasFeedback:!0,rules:[{required:!0,message:"Causes are required."}]},r.a.createElement(Et.a,{mode:"multiple",placeholder:"Charitable cause(s)",value:b,onChange:v,style:{width:"100%"}},L.map((function(e){return r.a.createElement(Et.a.Option,{key:e.id,value:e.id},e.name)})))),r.a.createElement(R.a.Item,{name:"attendee_cap",hasFeedback:!0,rules:[{required:!0,message:"Max number of attendees is required and must be a number."}]},r.a.createElement(Ut.a,{style:{width:"100%"},placeholder:"Maximum number of attendees"})),r.a.createElement(R.a.Item,{name:"description",hasFeedback:!0,rules:[{required:!0,message:"Description is required."}]},r.a.createElement(Yt,{row:6,style:{width:"100%"},placeholder:"Event description"})),r.a.createElement(R.a.Item,{name:"instructions",hasFeedback:!0,rules:[{required:!0,message:"Instructions is required."}]},r.a.createElement(Yt,{row:6,style:{width:"100%"},placeholder:"Provide volunteers with instructions (i.e. how to get there, what to bring, etc.)"})),!t&&r.a.createElement(R.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"event-form-button",loading:s},"Create")))},Qt=(a(537),function(){return Z("/new-event"),r.a.createElement("div",{className:"event-container"},r.a.createElement(L.a.Title,{level:2},"Create an event"),r.a.createElement(Ht,null))}),Jt=a(655),Kt=a(368),Xt=(a(538),L.a.Paragraph);var Zt=function(e){var t=e.isAdmin,a=e.item,l=e.removeFaq,c=e.orgId,i=Object(n.useState)((null===a||void 0===a?void 0:a.question)||""),o=Object(tt.a)(i,2),s=o[0],u=o[1],m=Object(n.useState)((null===a||void 0===a?void 0:a.answer)||""),d=Object(tt.a)(m,2),b=d[0],v=d[1],g=Object(n.useState)(!!(null===a||void 0===a?void 0:a.is_public)),h=Object(tt.a)(g,2),E=h[0],y=h[1],k=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(t),e.prev=1,e.next=4,O.post("faq/upsert/",{id:null===a||void 0===a?void 0:a.id,question:t,answer:b,org_id:c});case 4:V.b.success("Question updated"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),V.b.error("Question failed to update");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(t),e.prev=1,e.next=4,O.post("faq/upsert/",{id:null===a||void 0===a?void 0:a.id,question:s,answer:t,is_public:E,org_id:c});case 4:V.b.success("Answer updated"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),V.b.error("Answer failed to update");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(t),e.prev=1,e.next=4,O.post("faq/upsert/",{id:null===a||void 0===a?void 0:a.id,question:s,answer:b,is_public:t,org_id:c});case 4:V.b.success("FAQ updated"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),V.b.error("FAQ failed to update");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.delete("faq/delete/",{params:{id:null===a||void 0===a?void 0:a.id}});case 3:l(null===a||void 0===a?void 0:a.id),V.b.success("FAQ deleted"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),V.b.error("FAQ failed to delete");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Jt.a,{style:{marginTop:8,marginBottom:8},loading:!a,actions:t&&[r.a.createElement(Kt.a,{onClick:j,key:"delete"})]},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Xt,{style:{float:"left",verticalAlign:"top",fontWeight:700}},"Question: "),"  ",r.a.createElement("div",{style:{marginLeft:4,flexGrow:100}},r.a.createElement(Xt,{style:{width:"100%"},editable:{onChange:function(e){return k(e)}}},s))),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Xt,{style:{float:"left",verticalAlign:"top",fontWeight:700}},"Answer: "),"  ",r.a.createElement("div",{style:{marginLeft:4,flexGrow:100}},r.a.createElement(Xt,{style:{width:"100%"},editable:!!t&&{onChange:function(e){return w(e)}}},b))),t&&r.a.createElement(Pt.a,{checkedChildren:"Public",unCheckedChildren:"Hidden",onChange:function(e){return x(e)},defaultChecked:null===a||void 0===a?void 0:a.is_public}))},$t=L.a.Title;var ea=function(e){var t=e.isAdmin,a=e.orgId,l=Object(n.useState)([]),c=Object(tt.a)(l,2),i=c[0],o=c[1],s=function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("organization/get-faq/",{params:{org_id:t}});case 3:a=e.sent,o(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),u=function(e){o(i.filter((function(t){return t.id!==e})))};Object(n.useEffect)((function(){a&&s(a)}),[a]);var m=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.post("faq/upsert/",{org_id:a,question:"question",answer:"Not yet answered"});case 2:t=e.sent,o([].concat(Object(M.a)(i),[{id:t.data.id,question:"question",answer:"Not yet answered"}]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement($t,{level:4},"Frequently asked questions"),i.map((function(e){return r.a.createElement(Zt,{isAdmin:t,key:e.id,item:e,removeFaq:u,orgId:a})})),r.a.createElement(P.a,{style:{width:"100%"},type:"primary",onClick:function(){m()}},"Add New FAQ"))},ta=a(659),aa=a(660),na=(a(539),a(644)),ra=a(369),la=a(672),ca=a(221),ia=a.n(ca),oa=a(365),sa=a(645),ua=(a(257),a(138)),ma=a.n(ua),da=(a(309),L.a.Paragraph);var pa=function(e){var t,a=e.event,n=e.causes,l=e.onClose,c=e.isModalVisible,i=r.a.createElement(r.a.Fragment,null,n.map((function(e){return r.a.createElement(oa.a,{key:e.id,color:"blue"},e.name)}))),o=new Date(a.begindate),s=new Date(a.enddate),u={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"},m=o.getDate()===s.getDate()?{hour:"2-digit",minute:"2-digit"}:u,d=o.toLocaleString("en-US",u)+" - "+s.toLocaleString("en-US",m),p=a.virtual?"Yes.":"No.",f=r.a.createElement(r.a.Fragment,null,r.a.createElement(da,null,r.a.createElement("b",null,"Date: "),d),r.a.createElement(da,null,r.a.createElement("b",null,"Location: "),a.location),r.a.createElement(da,null,r.a.createElement("b",null,"No. of Attendees: "),a.attendee_count,"/",a.attendee_cap),r.a.createElement(da,null,r.a.createElement("b",null,"Virtual? "),p),r.a.createElement(da,null,r.a.createElement("b",null,"Description: "),a.description),r.a.createElement(da,null,r.a.createElement("b",null,"Instructions: "),a.instructions)),b=function(e){var t=e.children,a=e.extraContent;return r.a.createElement(we.a,null,r.a.createElement("div",{style:{marginRight:24}},a),r.a.createElement("div",{style:{flex:1}},t))};return r.a.createElement(ma.a,{visible:c,footer:null,onCancel:l,width:800},r.a.createElement(sa.a,{title:"".concat(null===a||void 0===a?void 0:a.name),tags:i},r.a.createElement(b,{extraContent:r.a.createElement(na.a,{preview:!1,alt:"img",src:null!==(t=null===a||void 0===a?void 0:a.image)&&void 0!==t?t:ia.a,height:300,width:300})},f)))};var fa=function(e){var t=e.item,a=Object(n.useState)(!1),l=Object(tt.a)(a,2),c=l[0],i=l[1],o=Object(n.useState)(!1),s=Object(tt.a)(o,2),u=s[0],m=s[1],d=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(a,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!0),e.prev=1,!n){e.next=9;break}return e.next=5,O.post("attendees/delete/",{user_id:localStorage.getItem("user_id"),event:a});case 5:t.attendee_count-=1,V.b.success("Unjoined event"),e.next=13;break;case 9:return e.next=11,O.post("attendees/create/",{user_id:localStorage.getItem("user_id"),event:a});case 11:t.attendee_count+=1,V.b.success("Joined event");case 13:i(!n),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),r=n?"Unjoin failed":"Join failed",V.b.error(r);case 20:m(!1);case 21:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,a){return e.apply(this,arguments)}}(),[t.attendee_count]),b=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("events/get-register-status/",{params:{user_id:localStorage.getItem("user_id"),event:t.id}});case 3:a=e.sent,i(!1),1===a.data&&i(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[t.id]);Object(n.useEffect)((function(){b()}),[b]);var v=c?"Unjoin":"Join",g=t.attendee_count>=t.attendee_cap&&!c;return r.a.createElement("div",null,c?r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"event-form-button",onClick:function(){return d(t.id,c)},loading:u,disabled:g,style:{background:"#a4a4a4",borderColor:"#a4a4a4"}},v):r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"event-form-button",onClick:function(){return d(t.id,c)},loading:u,disabled:g},v))},ba=L.a.Paragraph;var va=function(e){var t,a=e.item,l=e.isAdmin,c=e.removeEvent,i=e.updateEvents,o=Object(n.useState)(!1),s=Object(tt.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)(!1),b=Object(tt.a)(d,2),v=b[0],g=b[1],h=Object(n.useState)(!1),E=Object(tt.a)(h,2),y=E[0],k=E[1],w=Object(n.useState)(!1),x=Object(tt.a)(w,2),j=x[0],_=x[1],S=Object(n.useState)(!1),C=Object(tt.a)(S,2),I=C[0],F=C[1],N=Object(n.useState)([]),A=Object(tt.a)(N,2),D=A[0],T=A[1],q=R.a.useForm(),L=Object(tt.a)(q,1)[0],M=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("event/get-causes/",{params:{eventId:a.id}});case 3:t=e.sent,T(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[T,a.id]);Object(n.useEffect)((function(){M()}),[M]);var z=Object(n.useCallback)((function(){F(!1)}),[]),U=Object(n.useCallback)((function(){F(!1),i(),M()}),[i,M]),B=Object(n.useCallback)((function(e){_(e)}),[]),W=new Date(a.begindate),Y=new Date(a.enddate),G={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"},H=W.getDate()===Y.getDate()?{hour:"2-digit",minute:"2-digit"}:G,Q=Object(n.useCallback)((function(){m(!1)}),[m]),J=W.toLocaleString("en-US",G)+" - "+Y.toLocaleString("en-US",H),K=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.delete("event/delete/",{params:{id:t}});case 3:c(t),V.b.success("Event deleted"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),V.b.error("Event failed to delete");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Jt.a,{className:"event-card",bordered:!0,actions:l?[r.a.createElement(ra.a,{key:"edit",onClick:function(){F(!0)}}),r.a.createElement(Kt.a,{key:"delete",onClick:function(){g(!0)}})]:[],style:{height:"auto"},cover:r.a.createElement("div",{className:"button-container"},r.a.createElement(na.a,{preview:!1,alt:"img",src:null!==(t=null===a||void 0===a?void 0:a.image)&&void 0!==t?t:ia.a}),r.a.createElement(P.a,{className:"expand-button",icon:r.a.createElement(la.a,null),ghost:!0,onClick:m}))},r.a.createElement(Jt.a.Meta,{title:a.name,description:r.a.createElement(r.a.Fragment,null,r.a.createElement(ba,null,r.a.createElement("i",null,J)),a.attendee_count===a.attendee_cap?r.a.createElement(ba,null,r.a.createElement("i",null,"No. of Attendees: ",a.attendee_count,"/",a.attendee_cap," [Closed]")):r.a.createElement(ba,null,r.a.createElement("i",null,"No. of Attendees: ",a.attendee_count,"/",a.attendee_cap," ")),r.a.createElement(fa,{item:a}))})),r.a.createElement(pa,{event:a,causes:D,isModalVisible:u,onClose:Q}),r.a.createElement(rt.a,{title:"Delete Event",visible:v,onOk:function(){k(!0),K(a.id),k(!1),g(!1)},onCancel:function(){return g(!1)},okText:"Delete",okButtonProps:{loading:y,danger:!0}},r.a.createElement("p",null,"Are you sure that you want to delete ".concat(a.name,"?"))),r.a.createElement(rt.a,{title:"Edit event",visible:I,onCancel:z,width:448,footer:[r.a.createElement(P.a,{key:"cancel",onClick:z},"Cancel"),r.a.createElement(P.a,{key:"submit",type:"primary",loading:j,onClick:L.submit},"Update")]},r.a.createElement(Ht,{form:L,event:a,closeModalWithUpdate:U,setLoading:B})))},ga=Et.a.Option,ha=zt.a.RangePicker,Ea=function(e){var t=e.orgId,a=e.isAdmin,l=Object(n.useState)([]),c=Object(tt.a)(l,2),i=c[0],o=c[1],s=Object(n.useState)([]),u=Object(tt.a)(s,2),m=u[0],d=u[1],b=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("events/get-by-org/",{params:{orgId:t}});case 3:a=e.sent,o(a.data),d(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[o,t]);Object(n.useEffect)((function(){b()}),[t,b]);var v=function(){b()},g=Object(n.useCallback)((function(e){o(i.filter((function(t){return t.id!==e}))),d(i.filter((function(t){return t.id!==e})))}),[i]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a.Title,{level:4},"Upcoming events"),r.a.createElement(ta.b,{direction:"vertical"},r.a.createElement("div",{style:{width:"100%"}},"Search by name: ",r.a.createElement(z.a,{onChange:function(e){return function(e){var t=i;if(""!==e){var a;a=t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})),d(a)}else d(t)}(e.target.value)},placeholder:"Event name",size:"medium",className:"search",style:{height:33.825,width:"40%",marginLeft:4}})),r.a.createElement(ta.b,null,"Filter by date:",r.a.createElement(ta.b,{direction:"vertical",size:12},r.a.createElement(ha,{onChange:function(e){return function(e){var t=i;if(null!=e){var a=new Date(e[0]),n=new Date(e[1]),r=i.filter((function(e){var t=new Date(e.begindate),r=new Date(e.enddate);return a.getMonth()<=r.getMonth()&&n.getMonth()>=t.getMonth()&&a.getDate()<=r.getDate()&&n.getDate()>=t.getDate()&&a.getFullYear()<=r.getFullYear()&&n.getFullYear()>=t.getFullYear()}));d(r)}else d(t)}(e)}})),"Filter by open:",r.a.createElement(Et.a,{defaultValue:"none",style:{width:120},onChange:function(e){return function(e){var t=i;if("open"===e){var a;a=t.filter((function(e){return e.attendee_count<e.attendee_cap})),d(a)}else if("closed"===e){var n;n=t.filter((function(e){return!(e.attendee_count<e.attendee_cap)})),d(n)}else d(t)}(e)},size:"medium"},r.a.createElement(ga,{value:"none"},"Select All"),r.a.createElement(ga,{value:"open"},"Open"),r.a.createElement(ga,{value:"closed"},"Closed")),"Filter by virtual:",r.a.createElement(Et.a,{defaultValue:"none",style:{width:120},onChange:function(e){return function(e){var t=i;if("virtual"===e){var a;a=t.filter((function(e){return e.virtual})),d(a)}else if("inperson"===e){var n;n=t.filter((function(e){return!e.virtual})),d(n)}else d(t)}(e)},size:"medium"},r.a.createElement(ga,{value:"none"},"Select All"),r.a.createElement(ga,{value:"virtual"},"Virtual"),r.a.createElement(ga,{value:"inperson"},"Not Virtual")))),r.a.createElement(aa.b,{grid:{gutter:16,xs:1,sm:1,md:2,lg:2,xl:3,xxl:3},dataSource:m,renderItem:function(e){return r.a.createElement(aa.b.Item,null,r.a.createElement(va,{key:e.id,item:e,isAdmin:a,removeEvent:g,updateEvents:v}))}}))},ya=a(653),ka=L.a.Paragraph,wa=function(e){var t=e.org,a=e.isAdmin,l=Object(n.useState)([]),c=Object(tt.a)(l,2),i=c[0],o=c[1],s=Object(n.useState)(!1),u=Object(tt.a)(s,2),m=u[0],d=u[1],b=Object(n.useState)(!1),v=Object(tt.a)(b,2),g=v[0],h=v[1],E=R.a.useForm(),y=Object(tt.a)(E,1)[0],k=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===t||void 0===t?void 0:t.id)){e.next=11;break}return e.prev=1,e.next=4,O.get("organization/get-causes/",{params:{orgId:null===t||void 0===t?void 0:t.id}});case 4:a=e.sent,o(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[o,t]),w=Object(n.useCallback)((function(){d(!1)}),[]),x=Object(n.useCallback)((function(){d(!1),k()}),[k]),j=Object(n.useCallback)((function(e){h(e)}),[]);Object(n.useEffect)((function(){k()}),[k]);var _=r.a.createElement(r.a.Fragment,null,i.map((function(e){return r.a.createElement(oa.a,{key:e.id,color:"blue"},e.name)})));return r.a.createElement(It.a,{loading:!t,active:!0},r.a.createElement(sa.a,{title:"About ".concat(null===t||void 0===t?void 0:t.name),className:"site-page-header",tags:_,extra:a&&[r.a.createElement(P.a,{key:"1",type:"primary",icon:r.a.createElement(ra.a,null),onClick:d},"Edit organization")]},r.a.createElement(ya.b,null,(null===t||void 0===t?void 0:t.website)&&r.a.createElement(ya.b.Item,{label:"Website"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t.website},t.website)),(null===t||void 0===t?void 0:t.phone)&&r.a.createElement(ya.b.Item,{label:"Telephone"},t.phone),(null===t||void 0===t?void 0:t.email)&&r.a.createElement(ya.b.Item,{label:"Email"},r.a.createElement("a",{href:"mailto:".concat(t.email)},t.email)),(null===t||void 0===t?void 0:t.address)&&r.a.createElement(ya.b.Item,{label:"Street Address"},t.address)),r.a.createElement(ka,null,null===t||void 0===t?void 0:t.description)),r.a.createElement(rt.a,{title:"Edit organization",visible:m,onCancel:w,width:448,footer:[r.a.createElement(P.a,{key:"cancel",onClick:w},"Cancel"),r.a.createElement(P.a,{key:"submit",type:"primary",loading:g,onClick:y.submit},"Update")]},r.a.createElement(jt,{form:y,org:t,closeModalWithUpdate:x,setLoading:j})))},Oa=a(50),xa=a(640),ja=a(641),_a=L.a.Title,Sa=z.a.Search;var Ca=function(e){var t=e.orgId,a=Object(n.useState)([]),l=Object(tt.a)(a,2),c=l[0],i=l[1],o=Object(n.useState)(!0),s=Object(tt.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)([]),b=Object(tt.a)(d,2),v=b[0],g=b[1],h=localStorage.getItem("user_id"),E=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("organization/get-members/",{params:{org_id:t}});case 3:(a=e.sent).data.forEach((function(e){return e.key=e.id})),g(a.data),i(a.data),m(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[t]),y=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.delete("member/delete/",{params:{member_id:t}});case 3:i(c.filter((function(e){return e.key!==t}))),V.b.success("Member deleted"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),V.b.error("Member could not be deleted.");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[c]);Object(n.useEffect)((function(){t&&E(t)}),[E,t]);var k=[{title:"Name",dataIndex:["user","name"],key:"name"},{title:"Email",dataIndex:["user","email"],key:"email"},{title:"Role",dataIndex:"role",key:"role",render:function(e,t){return 1===t.member_type?"Admin":"Member"}},{title:"Status",dataIndex:"status",key:"status",render:function(e,t){return"Active"}},{title:"Action",key:"action",render:function(e,t){return parseInt(h)===t.user.id?r.a.createElement(Oa.a,{title:"Cannot delete your own user."},r.a.createElement(P.a,{type:"primary",danger:!0,disabled:!0},"Delete")):r.a.createElement(xa.a,{title:"Are you sure you want to delete this member?",onConfirm:function(){return y(t.key)},okText:"Yes",cancelText:"No",disabled:parseInt(h)===t.user.id},r.a.createElement(P.a,{type:"primary",danger:!0},"Delete"))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(_a,{level:4},"Members"),r.a.createElement(Sa,{placeholder:"search by member name",onChange:function(e){return function(e){var t=c;if(""!==e){var a;a=t.filter((function(t){return t.user.name.toLowerCase().includes(e.toLowerCase())})),g(a)}else g(t)}(e.target.value)},style:{width:300,marginBottom:16}}),r.a.createElement(ja.a,{columns:k,dataSource:v,loading:u}))},Ia=z.a.Search,Fa=function(e){var t=e.isAdmin,a=e.orgId,l=Object(n.useState)([]),c=Object(tt.a)(l,2),i=c[0],o=c[1],s=Object(n.useState)([]),u=Object(tt.a)(s,2),m=u[0],d=u[1],b=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("eventFeedback/get-by-org/",{params:{orgId:a,isAdmin:t,userId:localStorage.getItem("user_id")}});case 3:n=e.sent,o(n.data),d(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[a,t]);Object(n.useEffect)((function(){b()}),[b]);var v={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a.Title,{level:4},"Event feedback"),r.a.createElement(Ia,{placeholder:"search by event or volunteer",onChange:function(e){return function(e){var t=i;if(""!==e){var a;a=t.filter((function(t){return t.event__name.toLowerCase().includes(e.toLowerCase())||t.name.toLowerCase().includes(e.toLowerCase())})),d(a)}else d(t)}(e.target.value)},style:{width:300,marginBottom:16}}),r.a.createElement(ja.a,{dataSource:m,columns:[{title:"Event Name",dataIndex:"event__name",key:"event__name",sorter:function(e,t){return e.event__name.localeCompare(t.event__name)}},{title:"Volunteer Name",dataIndex:"name",key:"name",sorter:function(e,t){return e.name.localeCompare(t.name)}},{title:"Volunteer Email",dataIndex:"username__email",key:"username__email",sorter:function(e,t){return e.username__email.localeCompare(t.username__email)}},{title:"Overall Experience",dataIndex:"overall",key:"overall",filters:[{text:"Poor",value:"Poor"},{text:"Fair",value:"Fair"},{text:"Average",value:"Average"},{text:"Good",value:"Good"},{text:"Excellent",value:"Excellent"}],filterMultiple:!0,onFilter:function(e,t){return t.overall===e}},{title:"Satisfaction",dataIndex:"satisfaction",key:"satisfaction",filters:[{text:"Very Dissatisfed",value:"Very Dissatisfied"},{text:"Dissatisfied",value:"Dissatisfied"},{text:"Neutral",value:"Neutral"},{text:"Satisfied",value:"Satisfied"},{text:"Very Satisfied",value:"Very Satisfied"}],filterMultiple:!0,onFilter:function(e,t){return t.satisfaction===e}},{title:"Recommend Likelihood",dataIndex:"likely",key:"likely",filters:[{text:"Very Unlikely",value:"Very Unlikely"},{text:"Somewhat Unlikely",value:"Somewhat Unlikely"},{text:"Neutral",value:"Neutral"},{text:"Somewhat Likely",value:"Somewhat Likely"},{text:"Very Likely",value:"Very Likely"}],filterMultiple:!0,onFilter:function(e,t){return t.likely===e}},{title:"Met Expectations",dataIndex:"expectations",key:"expectations",filters:[{text:"Yes",value:"Yes"},{text:"No",value:"No"}],filterMultiple:!0,onFilter:function(e,t){return t.expectations===e}},{title:"Future Volunteer",dataIndex:"future",key:"future",filters:[{text:"Yes",value:"Yes"},{text:"No",value:"No"}],filterMultiple:!0,onFilter:function(e,t){return t.future===e}}],expandedRowRender:function(e){return r.a.createElement("p",null,r.a.createElement("b",null,"Event Details"),r.a.createElement("br",null),"Name: ",e.event__name,r.a.createElement("br",null),"Location: ",e.event__location,r.a.createElement("br",null),"Date: ",new Date(e.event__begindate).toLocaleString("en-US",v)," - ",new Date(e.event__enddate).toLocaleString("en-US",v),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Additional Feedback"),r.a.createElement("br",null),"What could we have done better?",r.a.createElement("br",null),e.better,r.a.createElement("br",null),r.a.createElement("br",null),"Is there anything else we should know about your volunteer experience?",r.a.createElement("br",null),e.experience,r.a.createElement("br",null))}}))},Na=a(46),Aa=a.n(Na);a(608);var Da=function(e){var t=e.funnel,a=e.breakdown,n=e.volunteers,l=e.events,c=[],i=[],o=[];a.forEach((function(e){return c.push(e.label)})),a.forEach((function(e){return i.push(e.count)})),a.forEach((function(e){return o.push(e.hours)})),c.splice(-1,1),i.splice(-1,1),o.splice(-1,1);var s=[],u=[];n.forEach((function(e){return s.push(e.count)})),n.forEach((function(e){return u.push(e.total)}));var m=[0,0,0,0,0],d=[0,0,0,0,0];return l.forEach((function(e){return m[Math.floor(e.avg_rating)-1]+=1})),l.forEach((function(e){return d[Math.floor(e.avg_satisfaction)-1]+=1})),r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a.Title,{level:5},"Summary"),r.a.createElement("div",{className:"rowC"},r.a.createElement(Aa.a,{data:[{type:"funnel",y:["Members","Event Attendees","Feedback Providers"],hoverinfo:"Members+percent total+x",opacity:.65,marker:{color:["003F5C","58508D","BC5090"]},x:t}],layout:{margin:{l:125,r:20,b:20,t:75},title:"Volunteer Engagement",width:600,height:350}}),r.a.createElement(Aa.a,{data:[{type:"pie",marker:{colors:["003F5C","58508D","BC5090"]},labels:["Returning","One-Time","Inactive"],values:i,name:"Count",textinfo:"percent+value",opacity:.65,domain:{row:0,column:0}},{type:"pie",marker:{colors:["003F5C","58508D","BC5090"]},labels:["Returning","One-Time","Inactive"],values:o,name:"Hours",textinfo:"percent+value",opacity:.65,domain:{row:0,column:1}}],layout:{grid:{rows:1,columns:2},showlegend:!0,legend:{orientation:"h"},margin:{l:125,r:20,b:20,t:75},width:600,height:350,title:"Volunteer Counts and Hours"}})),r.a.createElement("div",{className:"rowC"},r.a.createElement(Aa.a,{data:[{type:"histogram",x:s,nbinsx:5,marker:{color:["003F5C","374C80","7A5195","DD5182","FF6E54","FFA600"]},opacity:.65}],layout:{margin:{l:125,r:20,b:50,t:75},title:"Events per Volunteer",width:600,height:350,bargap:.2,xaxis:{title:{text:"Events Attended"}},yaxis:{title:{text:"Number of Volunteers"}}}}),r.a.createElement(Aa.a,{data:[{type:"histogram",x:u,nbinsx:5,marker:{color:["003F5C","374C80","7A5195","DD5182","FF6E54","FFA600"]},opacity:.65}],layout:{margin:{l:125,r:20,b:50,t:75},title:"Hours per Volunteer",width:600,height:350,bargap:.2,xaxis:{title:{text:"Hours Volunteered"}},yaxis:{title:{text:"Number of Volunteers"}}}})),r.a.createElement("div",{className:"rowC"},r.a.createElement(Aa.a,{data:[{type:"bar",x:m,y:["Poor","Fair","Average","Good","Excellent"],orientation:"h",nbinsx:5,marker:{color:["003F5C","58508D","BC5090","FF6361","FFA600"]},opacity:.65}],layout:{margin:{l:125,r:20,b:50,t:75},title:"Average Event Ratings",width:600,height:350,bargap:.2,xaxis:{title:{text:"Number of Events"}}}}),r.a.createElement(Aa.a,{data:[{type:"bar",x:d,y:["Very Dissatisfied","Dissatisfied","Neutral","Satisfied","Very Satisfied"],orientation:"h",nbinsx:5,marker:{color:["003F5C","58508D","BC5090","FF6361","FFA600"]},opacity:.65}],layout:{margin:{l:125,r:20,b:50,t:75},title:"Average Event Satisfaction",width:600,height:350,bargap:.2,xaxis:{title:{text:"Number of Events"}}}})))},Ta=z.a.Search,qa=Et.a.Option;var La=function(e){var t=e.data,a=Object(n.useState)(t[2]),l=Object(tt.a)(a,2),c=l[0],i=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a.Title,{level:5},"Volunteer Leaderboard"),r.a.createElement(Ta,{placeholder:"search by volunteer",onChange:function(e){return function(e){var a=t[2];if(""!==e){var n;n=a.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})),i(n)}else i(a)}(e.target.value)},style:{width:300,marginBottom:16}}),r.a.createElement(Et.a,{defaultValue:"none",style:{width:120,marginBottom:16,float:"right"},onChange:function(e){return function(e){i("month"===e?t[0]:"year"===e?t[1]:t[2])}(e)},size:"medium"},r.a.createElement(qa,{value:"none"},"All Events"),r.a.createElement(qa,{value:"month"},"Past Month"),r.a.createElement(qa,{value:"year"},"Past Year")),r.a.createElement(ja.a,{columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Events Attended",dataIndex:"count",key:"count",defaultSortOrder:"descend",sorter:function(e,t){return e.count-t.count}},{title:"Volunteer Hours",dataIndex:"total",key:"total",defaultSortOrder:"descend",sorter:function(e,t){return e.total-t.total}}],pagination:{pageSize:5},expandedRowRender:function(e){return r.a.createElement("p",{style:{margin:0}},r.a.createElement("b",null,"Events Attended: "),e.event_list)},dataSource:c}))};var Ma=function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Aa.a,{data:[{type:"pie",labels:t.ratings_arr[0],values:t.ratings_arr[1],marker:{colors:["003F5C","58508D","BC5090","FF6361","FFA600"]},opacity:.65}],layout:{width:360,height:270,title:"Rating"}}),r.a.createElement(Aa.a,{data:[{type:"pie",labels:t.satisfactions_arr[0],values:t.satisfactions_arr[1],marker:{colors:["003F5C","58508D","BC5090","FF6361","FFA600"]},opacity:.65}],layout:{width:360,height:270,title:"Satisfaction"}}),r.a.createElement(Aa.a,{data:[{type:"pie",labels:t.likely_arr[0],values:t.likely_arr[1],marker:{colors:["003F5C","58508D","BC5090","FF6361","FFA600"]},opacity:.65}],layout:{width:360,height:270,title:"Recommend Likelihood"}}),r.a.createElement(Aa.a,{data:[{type:"pie",labels:t.expectations_arr[0],values:t.expectations_arr[1],marker:{colors:["003F5C","58508D"]},opacity:.65}],layout:{width:360,height:270,title:"Met Expectations"}}),r.a.createElement(Aa.a,{data:[{type:"pie",labels:t.future_arr[0],values:t.future_arr[1],marker:{colors:["003F5C","58508D"]},opacity:.65}],layout:{width:360,height:270,title:"Future Volunteer"}}))},Va=z.a.Search,Ra=Et.a.Option;var za=function(e){var t=e.data,a=Object(n.useState)(t),l=Object(tt.a)(a,2),c=l[0],i=l[1],o={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a.Title,{level:5},"Event Leaderboard"),r.a.createElement(Va,{placeholder:"search by event",onChange:function(e){return function(e){var a=t;if(""!==e){var n;n=a.filter((function(t){return t.event__name.toLowerCase().includes(e.toLowerCase())})),i(n)}else i(a)}(e.target.value)},style:{width:300,marginBottom:16}}),r.a.createElement(Et.a,{defaultValue:"none",style:{width:120,marginBottom:16,float:"right"},onChange:function(e){return function(e){var a=t;if("month"===e){var n,r=new Date;r.setMonth(r.getMonth()-1),r.setHours(0,0,0,0),n=a.filter((function(e){return parseInt(new Date(e.event__begindate.slice(0,10)).valueOf(),10)-parseInt(r.valueOf(),10)>0})),i(n)}else if("year"===e){var l,c=new Date;c.setYear(c.getFullYear()-1),l=a.filter((function(e){return parseInt(new Date(e.event__begindate.slice(0,10)).valueOf(),10)-parseInt(c.valueOf(),10)>0})),i(l)}else i(a)}(e)},size:"medium"},r.a.createElement(Ra,{value:"none"},"All Events"),r.a.createElement(Ra,{value:"month"},"Past Month"),r.a.createElement(Ra,{value:"year"},"Past Year")),r.a.createElement(ja.a,{columns:[{title:"Event",dataIndex:"event__name",key:"event__name"},{title:"Volunteers",dataIndex:"count",key:"count",defaultSortOrder:"descend",sorter:function(e,t){return e.count-t.count}},{title:"Average Rating",dataIndex:"avg_rating",key:"avg_rating",defaultSortOrder:"descend",sorter:function(e,t){return e.avg_rating-t.avg_rating}},{title:"Average Satisfaction",dataIndex:"avg_satisfaction",key:"avg_satisfaction",defaultSortOrder:"descend",sorter:function(e,t){return e.avg_satisfaction-t.avg_satisfaction}}],pagination:{pageSize:5},expandedRowRender:function(e){return r.a.createElement("p",null,r.a.createElement("b",null,"Event Details"),r.a.createElement("br",null),"Name: ",e.event__name,r.a.createElement("br",null),"Location: ",e.event__location,r.a.createElement("br",null),"Date: ",new Date(e.event__begindate).toLocaleString("en-US",o)," - ",new Date(e.event__enddate).toLocaleString("en-US",o),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Attendes: "),e.attendees,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ma,{data:e}))},dataSource:c}))};var Pa=function(e){var t=e.data,a=[{title:"",dataIndex:"label",key:"label",ellipsis:!0,render:function(e){return r.a.createElement("b",null,e)}},{title:"Count",dataIndex:"count",key:"count",ellipsis:!0},{title:"Hours",dataIndex:"hours",key:"hours",ellipsis:!0}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a.Title,{level:5},"Volunteer Breakdown"),r.a.createElement(ja.a,{dataSource:t,columns:a,expandedRowRender:function(e){return r.a.createElement("p",{style:{margin:0}},r.a.createElement("b",null,"Volunteer Names: "),e.name)},rowExpandable:function(e){return"Total"!==e.label},pagination:!1}),r.a.createElement("br",null),r.a.createElement("br",null))},Ua=function(e){var t=e.orgId,a=Object(n.useState)([0,0,0,0]),l=Object(tt.a)(a,2),c=l[0],i=l[1],o=Object(n.useState)([]),s=Object(tt.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)([]),b=Object(tt.a)(d,2),v=b[0],g=b[1],h=Object(n.useState)([]),E=Object(tt.a)(h,2),y=E[0],k=E[1],w=Object(n.useState)([]),x=Object(tt.a)(w,2),j=x[0],_=x[1],S=Object(n.useState)("chart"),C=Object(tt.a)(S,2),I=C[0],F=C[1],N=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("analytics/volunteer-funnel/",{params:{org_id:t}});case 3:a=e.sent,i(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t]),A=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("analytics/volunteer-breakdown/",{params:{org_id:t}});case 3:a=e.sent,m(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t]),D=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("analytics/volunteer-leaderboard/",{params:{org_id:t}});case 3:a=e.sent,g(a.data),k(a.data[2]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[t]),T=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("analytics/event-leaderboard/",{params:{org_id:t}});case 3:a=e.sent,_(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t]);return Object(n.useEffect)((function(){t&&(N(t),A(t),D(t),T(t))}),[N,A,D,T,t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a.Group,{style:{marginBottom:16,float:"right"},onChange:function(e){return function(e){F(e)}(e.target.value)},defaultValue:"chart"},r.a.createElement(yt.a.Button,{value:"chart"},"Chart View"),r.a.createElement(yt.a.Button,{value:"table"},"Table View")),r.a.createElement(L.a.Title,{level:4},"Analytics"),"chart"===I?r.a.createElement(Da,{funnel:c,breakdown:u,volunteers:y,events:j}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Pa,{data:u}),r.a.createElement(La,{data:v}),r.a.createElement(za,{data:j})))},Ba=a(367),Wa=L.a.Title,Ya=Et.a.Option;var Ga=function(e){var t=e.orgId,a=Object(n.useState)([]),l=Object(tt.a)(a,2),c=l[0],i=l[1],o=Object(n.useState)(!0),s=Object(tt.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)(!1),b=Object(tt.a)(d,2),v=b[0],g=b[1],h=Object(n.useState)(!1),E=Object(tt.a)(h,2),y=E[0],k=E[1],w=Object(n.useState)([]),x=Object(tt.a)(w,2),j=x[0],_=x[1],S=Object(n.useState)(0),C=Object(tt.a)(S,2),I=C[0],F=C[1],N=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("organization/get-invites/",{params:{org_id:t}});case 3:(a=e.sent).data.forEach((function(e){return e.key=e.id})),i(a.data),m(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[t]),A=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),e.next=4,O.post("member/invite/",{emails:j,member_type:I,org_id:t});case 4:_([]),N(),V.b.success("Invitation sent"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),V.b.error("Invitations could not be sent.");case 13:k(!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])}))),[j,N,_,I,t,k]),D=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.delete("invite/delete/",{params:{invite_id:t}});case 3:i(c.filter((function(e){return e.key!==t}))),V.b.success("Invitation deleted"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),V.b.error("Invitation could not be deleted");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[c]),T=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("invite/resend/",{params:{invite_id:t}});case 3:V.b.success("Invitation successfully resent"),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),V.b.error("Invitation could not be resent");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[]);Object(n.useEffect)((function(){t&&N(t)}),[N,t]);var q=[{title:"Email",dataIndex:"email",key:"email"},{title:"Role",dataIndex:"role",key:"role",render:function(e,t){return 1===t.member_type?"Admin":"Member"}},{title:"Status",dataIndex:"status",key:"status",render:function(e,t){return"Active"}},{title:"Resend",key:"resend",render:function(e,t){return r.a.createElement(xa.a,{title:"Are you sure you want to resend an invitation to this member?",onConfirm:function(){return T(t.key)},okText:"Yes",cancelText:"No"},r.a.createElement(P.a,{type:"primary"},"Resend"))}},{title:"Delete",key:"delete",render:function(e,t){return r.a.createElement(xa.a,{title:"Are you sure you want to delete this invitation?",onConfirm:function(){return D(t.key)},okText:"Yes",cancelText:"No"},r.a.createElement(P.a,{type:"primary",danger:!0},"Delete"))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(we.a,{justify:"space-between"},r.a.createElement(Wa,{level:4},"Outstanding invites"),r.a.createElement(P.a,{type:"primary",icon:r.a.createElement(Ba.a,null),onClick:function(){return g(!0)}},"Invite new members")),r.a.createElement(ja.a,{columns:q,dataSource:c,loading:u})),r.a.createElement(rt.a,{visible:v,title:"Invite new members",onOk:function(){},onCancel:function(){return g(!1)},footer:[r.a.createElement(P.a,{key:"back",onClick:function(){return g(!1)}},"Close"),r.a.createElement(P.a,{key:"submit",type:"primary",loading:y,onClick:A},"Send")]},r.a.createElement(Et.a,{title:"hello:",defaultValue:0,style:{width:"100%",marginBottom:8},onChange:F,placeholder:"Member Type"},r.a.createElement(Ya,{value:0},"Member"),r.a.createElement(Ya,{value:1},"Admin")),r.a.createElement(Et.a,{mode:"tags",style:{width:"100%"},onChange:function(e){return _(e)},tokenSeparators:[","],placeholder:"Emails",allowClear:!0},[])))},Ha=a(235),Qa=a.n(Ha),Ja=(a(609),{Complete:r.a.createElement(Qa.a,{color:"green"},"Complete"),Rejected:r.a.createElement(Qa.a,{color:"red"},"Rejected"),Pending:r.a.createElement(Qa.a,{color:"orange"},"Pending Approval"),None:r.a.createElement("p",null)}),Ka=function(e){var t=e.status;return Ja[t]},Xa=a(661),Za=kt.a.Dragger,$a=L.a.Text;var en=function(e){var t=e.orgId,a=e.fileList,l=Object(n.useState)([]),c=Object(tt.a)(l,2),i=c[0],o=c[1],s=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("clearances/get-user-files/",{params:{userId:localStorage.getItem("user_id"),orgId:t}});case 3:a=e.sent,n=a.data,r=n.map((function(e){return{uid:e.id,orgFormId:e.org_file,status:e.status,url:e.url,comment:e.comment}})),o(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),[]);Object(n.useEffect)((function(){s(t)}),[s,t]);var u={listType:"text",fileList:[],onChange:function(e){var t=Object(M.a)(e.fileList);t=t.map((function(e){return e.response&&(e.url=e.response.data.filled_form),e})),o(t)}},m=[{title:"Incomplete File",dataIndex:"incomplete_file",key:"incomplete_file",render:function(e){return e?r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e},e.split("/").slice(-1)[0].split("?")[0]):null}},{title:"Your Uploaded File",dataIndex:"uploaded_file",key:"uploaded_file",render:function(e){return e?r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e},e.split("/").slice(-1)[0].split("?")[0]):null}},{title:"Status",dataIndex:"status",key:"status",render:function(e,t){return r.a.createElement(Ka,{status:t.status})}},{title:"Comment",dataIndex:"comment",key:"comment",render:function(e,t){return r.a.createElement("p",null,e)}},{title:"Upload New File",key:"upload",render:function(e){return r.a.createElement(Za,Object.assign({},u,{customRequest:function(){var a=Object(f.a)(p.a.mark((function a(n){var r,l;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(r=new FormData).append("org_file_id",e.key),r.append("user_id",localStorage.getItem("user_id")),r.append("filled_form",n.file,n.file.name),r.append("status","Pending"),r.append("comment","N/A"),a.prev=6,a.next=9,O.post("clearances/upload-user-file",r,{headers:{"Content-Type":"multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW"}});case 9:l=a.sent,n.onSuccess(l,n.file),s(t),V.b.success("File uploaded"),a.next=19;break;case 15:a.prev=15,a.t0=a.catch(6),V.b.success("File failed to upload"),console.error(a.t0);case 19:case"end":return a.stop()}}),a,null,[[6,15]])})));return function(e){return a.apply(this,arguments)}}()}),r.a.createElement(Xa.a,null),r.a.createElement("p",null),r.a.createElement($a,null,"Click or drag file to this area to upload"))}}];function d(e,t){return i.filter((function(e){return e.orgFormId===t})).length>0?i.filter((function(e){return e.orgFormId===t}))[0][e]:"status"===e?"None":null}var b=a.map((function(e,t){return{key:e.uid,incomplete_file:e.url,uploaded_file:d("url",e.uid),status:d("status",e.uid),comment:d("comment",e.uid)}}));return r.a.createElement("div",null,r.a.createElement(ja.a,{columns:m,dataSource:b}))},tn=kt.a.Dragger;var an=function(e){var t=e.isAdmin,a=e.orgId,l=e.eId,c=Object(n.useState)([]),i=Object(tt.a)(c,2),o=i[0],s=i[1],u=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("clearances/get-org-files-for-event/",{params:{orgId:t,eventId:l}});case 3:a=e.sent,n=a.data,r=n.map((function(e){return{key:e.id,uid:e.id,name:e.url.split("/").slice(-1)[0].split("?")[0],status:"done",url:e.url,event:e.event,eventName:e.event__name}})),s(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),[l]);Object(n.useEffect)((function(){u(a)}),[u,a]);var m={listType:"picture",fileList:o,onChange:function(e){var t=Object(M.a)(e.fileList);t=t.map((function(e){return e.response&&(e.url=e.response.data.empty_form),e})),s(t)},customRequest:function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("empty_form",t.file,t.file.name),n.append("orgId",a),n.append("eventId",l),e.prev=4,e.next=7,O.post("clearances/upload-org-file",n,{headers:{"Content-Type":"multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW"}});case 7:r=e.sent,t.onSuccess(r,t.file),V.b.success("File uploaded"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),V.b.success("File failed to upload"),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}()};return r.a.createElement("div",null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement(tn,m,r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(Xa.a,null)),r.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"))):r.a.createElement(en,{orgId:a,fileList:o}))},nn=L.a.Paragraph;var rn=function(e){var t=e.orgId,a=e.eId,l=Object(n.useState)([]),c=Object(tt.a)(l,2),i=c[0],o=c[1],s=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value,e.prev=1,e.next=4,O.post("clearances/set-status-user-file/",{id:a.key,status:n});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,a){return e.apply(this,arguments)}}(),u=function(){var e=Object(f.a)(p.a.mark((function e(a,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.post("clearances/set-status-user-file/",{id:n.key,comment:a});case 3:m(t),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),m=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("clearances/get-user-files-for-org/",{params:{orgId:t,eventId:a}});case 3:n=e.sent,r=n.data,l=r.map((function(e){return{key:e.id,user:e.user__email,url:e.url,status:e.status,comment:e.comment}})),o(l),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),[a]);Object(n.useEffect)((function(){m(t)}),[t,m]);var d=[{title:"User",dataIndex:"user",key:"user",render:function(e){return r.a.createElement("p",null,e)}},{title:"File",dataIndex:"url",key:"url",render:function(e){return e?r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e},e.split("/").slice(-1)[0].split("?")[0]):null}},{title:"Action",key:"action",render:function(e,t,a){return r.a.createElement(yt.a.Group,{defaultValue:t.status,onChange:function(e){return s(e,t)},buttonStyle:"solid"},r.a.createElement(yt.a.Button,{value:"Complete"},"Accept"),r.a.createElement(yt.a.Button,{value:"Rejected"},"Reject"))}},{title:"Comment",dataIndex:"comment",key:"comment",render:function(e,t,a){return r.a.createElement("div",{style:{marginLeft:4,flexGrow:100}},r.a.createElement(nn,{style:{width:"100%"},editable:{onChange:function(e){return u(e,t)}}},t.comment))}}];return r.a.createElement("div",null,r.a.createElement(ja.a,{columns:d,dataSource:i}))},ln=L.a.Title,cn=L.a.Text;var on=function(e){var t=e.isAdmin,a=e.orgId,l=Object(n.useState)(!0),c=Object(tt.a)(l,2),i=c[0],o=c[1],s=Object(n.useState)([]),u=Object(tt.a)(s,2),m=u[0],d=u[1],b=Object(n.useState)(0),v=Object(tt.a)(b,2),g=v[0],h=v[1],E=Object(n.useState)(0),y=Object(tt.a)(E,2),k=y[0],w=y[1],x=Object(n.useState)([]),j=Object(tt.a)(x,2),_=j[0],S=j[1],C={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"},I=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var n,r,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n={},!t){e.next=10;break}return e.next=5,O.get("events/get-by-org/",{params:{orgId:a}});case 5:r=e.sent,(n=r.data).map((function(e){return e.bdate=new Date(e.begindate).toLocaleString("en-US",C),e.edate=new Date(e.enddate).toLocaleString("en-US",C),e})),e.next=15;break;case 10:return e.next=12,O.get("attendees/get-volunteer-events-for-org/",{params:{orgId:a,user_id:localStorage.getItem("user_id")}});case 12:l=e.sent,(n=l.data).map((function(e){return e.id=e.events__id,e.name=e.events__name,e.bdate=new Date(e.events__begindate).toLocaleString("en-US",C),e.edate=new Date(e.events__enddate).toLocaleString("en-US",C),e}));case 15:d(n),S(n),o(!1),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.error(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])}))),[d,a,t]),F=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var n,r,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n={},!t){e.next=10;break}return e.next=5,O.get("events/get-num-pending-clearances-for-org/",{params:{orgId:a}});case 5:r=e.sent,n=r.data,w(n),e.next=15;break;case 10:return e.next=12,O.get("attendees/get-num-incomplete-clearances/",{params:{orgId:a,user_id:localStorage.getItem("user_id")}});case 12:l=e.sent,n=l.data,h(n);case 15:o(!1),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])}))),[a,t]);return Object(n.useEffect)((function(){I(),F()}),[I,F]),r.a.createElement("div",null,r.a.createElement(ln,{level:4},"Manage clearances for upcoming events"),t?r.a.createElement(r.a.Fragment,null,r.a.createElement(cn,null,'Use the "+" button to upload clearances or manage attendee clearances for an upcoming event in the table below.'),r.a.createElement("p",null),r.a.createElement(T.a,{message:"Pending Clearances to Approve/Reject",description:"You have "+k+" pending clearances that require approval/rejection.",type:"warning",showIcon:!0})):r.a.createElement(r.a.Fragment,null,r.a.createElement(cn,null,'Use the "+" button to view/download blank clearances, upload your completed clearances, and view the status of your completed clearance for an upcoming event in the table below. Only upcoming events you\'ve joined will appear here.'),r.a.createElement("p",null),r.a.createElement(T.a,{message:"Incomplete Clearances Notice",description:"You have "+g+" incomplete clearances for upcoming events.",type:"warning",showIcon:!0})),r.a.createElement("p",null),r.a.createElement(z.a,{onChange:function(e){return function(e){var t=m;if(""!==e){var a;a=t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})),S(a)}else S(t)}(e.target.value)},placeholder:"Search for events",className:"search",style:{width:200,float:"right",marginBottom:4}}),r.a.createElement(ja.a,{columns:[{title:"Event",dataIndex:"name",key:"name"},{title:"Start Date",dataIndex:"bdate",key:"bdate"},{title:"End Date",dataIndex:"edate",key:"edate"}],dataSource:_,loading:i,expandedRowRender:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(an,{isAdmin:t,orgId:a,eId:e.id}),t?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null),r.a.createElement(ln,{level:5},"Manage attendees' uploaded clearances"),r.a.createElement(rn,{orgId:a,eId:e.id})):r.a.createElement(r.a.Fragment,null))}}))},sn=(a(614),z.a.TextArea),un=z.a.Search,mn=L.a.Title;var dn=function(e){var t=e.orgId,a=Object(n.useState)([]),l=Object(tt.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(!0),u=Object(tt.a)(s,2),m=u[0],d=u[1],b=Object(n.useState)([]),v=Object(tt.a)(b,2),g=v[0],h=v[1],E=Object(n.useState)([]),y=Object(tt.a)(E,2),k=y[0],w=y[1],x=Object(i.c)(),j=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("organization/get-members/",{params:{org_id:t}});case 3:(a=e.sent).data.forEach((function(e){return e.key=e.id})),w(a.data),o(a.data),d(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[t]);Object(n.useEffect)((function(){t&&j(t)}),[j,t]);var _=Object(n.useCallback)((function(e,t){h(t)}),[]),S=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.post("member/email/",{subject:t.subject,body:t.body,membersList:g});case 3:x(G("Email sent","success")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),x(G("Email not sent","error"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[x,g]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(mn,{level:4},"Email members"),r.a.createElement(un,{placeholder:"search by volunteer name",onChange:function(e){return function(e){var t=c;if(""!==e){var a;a=t.filter((function(t){return t.user.name.toLowerCase().includes(e.toLowerCase())})),w(a)}else w(t)}(e.target.value)},style:{width:300,marginBottom:16}}),r.a.createElement(ja.a,{className:"member-table",rowSelection:{onChange:_},columns:[{title:"Name",dataIndex:["user","name"],key:"name"},{title:"Email",dataIndex:["user","email"],key:"email"},{title:"Role",dataIndex:"role",key:"role",render:function(e,t){return 1===t.member_type?"Admin":"Member"}}],dataSource:k,loading:m,pagination:{pageSize:5}}),r.a.createElement(R.a,{name:"org",className:"org-form",initialValues:{remember:!0},onFinish:S},r.a.createElement(R.a.Item,{name:"subject",hasFeedback:!0,rules:[{required:!0,message:"Email subject is required."}]},r.a.createElement(z.a,{placeholder:"Email subject"})),r.a.createElement(R.a.Item,{name:"body",hasFeedback:!0,rules:[{required:!0,message:"Email body is required."}]},r.a.createElement(sn,{row:6,style:{width:"100%"},placeholder:"Email body here..."})),r.a.createElement(R.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"org-form-button"},"Send email"))))},pn=L.a.Title;var fn=function(e){var t=e.orgId,a=Object(n.useState)([]),l=Object(tt.a)(a,2),c=l[0],i=l[1],o=Object(n.useState)(!0),s=Object(tt.a)(o,2),u=s[0],m=s[1],d=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("event/get-attendees/",{params:{org_id:t}});case 3:a=e.sent,i(a.data),m(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[t]);Object(n.useEffect)((function(){d()}),[d]);var b={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(pn,{level:4},"Attendees"),r.a.createElement(ja.a,{columns:[{title:"Upcoming Event",dataIndex:"events__name",key:"events__name"},{title:"Attendees",dataIndex:"count",key:"count"},{title:"Cap",dataIndex:"events__attendee_cap",key:"events__attendee_cap"}],dataSource:c,loading:u,expandedRowRender:function(e){return r.a.createElement("p",null,r.a.createElement("b",null,"Event Details"),r.a.createElement("br",null),"Name: ",e.events__name,r.a.createElement("br",null),"Location: ",e.events__location,r.a.createElement("br",null),"Date: ",new Date(e.events__begindate).toLocaleString("en-US",b)," - ",new Date(e.events__enddate).toLocaleString("en-US",b),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Attendees: "),e.attendees)}}))},bn=(a(615),L.a.Title),vn=Mt.a.TabPane;var gn=function(e){var t=e.member,a=e.orgId,l=Object(n.useState)(null),c=Object(tt.a)(l,2),i=c[0],o=c[1],s=Object(n.useState)("home"),u=Object(tt.a)(s,2),m=u[0],d=u[1],p=1===(null===t||void 0===t?void 0:t.member_type);return Object(n.useEffect)((function(){a&&(t&&o(t.organization),d("home"))}),[d,a,t]),r.a.createElement(r.a.Fragment,null,i&&r.a.createElement(bn,{style:{textAlign:"center"},level:2},null===i||void 0===i?void 0:i.name),r.a.createElement(Mt.a,{activeKey:m,onChange:function(e){d(e),X("/"+e)},style:{height:"100%"}},r.a.createElement(vn,{tab:"Home",key:"home",style:{height:"100%"}},r.a.createElement(wa,{org:i,isAdmin:p})),p&&r.a.createElement(vn,{tab:"Invites",key:"invites"},r.a.createElement(Ga,{orgId:a})),r.a.createElement(vn,{tab:"Events",key:"events"},r.a.createElement(Ea,{orgId:a,isAdmin:p})),r.a.createElement(vn,{tab:"Clearances",key:"clearance"},r.a.createElement(on,{isAdmin:p,orgId:a})),p&&r.a.createElement(vn,{tab:"Attendees",key:"attendees"},r.a.createElement(fn,{orgId:a})),r.a.createElement(vn,{tab:"Feedback",key:"feedback"},r.a.createElement(Fa,{isAdmin:null===t||void 0===t?void 0:t.member_type,orgId:a})),p&&r.a.createElement(vn,{tab:"Analytics",key:"analytics"},r.a.createElement(Ua,{orgId:a})),r.a.createElement(vn,{tab:"FAQ",key:"faq"},r.a.createElement(ea,{isAdmin:p,orgId:a})),p&&r.a.createElement(vn,{tab:"Members",key:"members"},r.a.createElement(Ca,{orgId:a})),p&&r.a.createElement(vn,{tab:"Communication",key:"member_emails"},r.a.createElement(dn,{orgId:a}))))},hn=function(){return r.a.createElement(It.a,{active:!0,paragraph:{rows:Math.round((window.innerHeight-136)/32)-1}})};var En=function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a.Title,{level:5},"Event Leaderboard"),r.a.createElement(ja.a,{columns:[{title:"Event",dataIndex:"event__name",key:"event__name"},{title:"Nonprofit",dataIndex:"event__organization__name",key:"event__organization__name"},{title:"Date",dataIndex:"date",key:"date"},{title:"Rating",dataIndex:"overall",key:"overall",sorter:function(e,t){return e.overall-t.overall},defaultSortOrder:"descend"},{title:"Satisfaction",dataIndex:"satisfaction",key:"satisfaction",sorter:function(e,t){return e.satisfaction-t.satisfaction},defaultSortOrder:"descend"}],pagination:{pageSize:5},dataSource:t}))};var yn=function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a.Title,{level:5},"Nonprofit Breakdown"),r.a.createElement(ja.a,{columns:[{title:"Nonprofit",dataIndex:"events__organization__name",key:"events__organization__name"},{title:"Events",dataIndex:"count",key:"count",sorter:function(e,t){return e.count-t.count},defaultSortOrder:"descend"},{title:"Hours",dataIndex:"hours",key:"hours",sorter:function(e,t){return e.hours-t.hours},defaultSortOrder:"descend"}],pagination:{pageSize:5},expandedRowRender:function(e){return r.a.createElement("p",{style:{margin:0}},r.a.createElement("b",null,"Events Attended: "),e.events)},dataSource:t}))};var kn=function(e){var t=e.data,a=[{title:"",dataIndex:"label",key:"label",ellipsis:!0,render:function(e){return r.a.createElement("b",null,e)}},{title:"Nonprofits",dataIndex:"nonprofits",key:"nonprofits",ellipsis:!0},{title:"Events",dataIndex:"events",key:"events",ellipsis:!0},{title:"Hours",dataIndex:"hours",key:"hours",ellipsis:!0}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a.Title,{level:5},"Summary"),r.a.createElement(ja.a,{dataSource:t,columns:a,expandedRowRender:function(e){return r.a.createElement("p",{style:{margin:0}},r.a.createElement("b",null,"Nonprofits: "),e.nonprofits_list,r.a.createElement("br",null),r.a.createElement("b",null,"Events: "),e.events_list,r.a.createElement("br",null))},pagination:!1}),r.a.createElement("br",null),r.a.createElement("br",null))};var wn=function(e){var t=e.monthlyHours,a=e.nonprofits,n=e.events,l=[],c=[],i=[];a.forEach((function(e){return l.push(e.events__organizations__name)})),a.forEach((function(e){return c.push(e.count)})),a.forEach((function(e){return i.push(e.hours)}));var o=[0,0,0,0,0],s=[0,0,0,0,0];return n.forEach((function(e){return o[e.overall-1]+=1})),n.forEach((function(e){return s[e.satisfaction-1]+=1})),r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a.Title,{level:5},"Summary"),r.a.createElement("div",{className:"rowC"},r.a.createElement(Aa.a,{data:[{type:"bar",x:t[2],y:t[3],nbinsx:5,marker:{color:"58508D"},opacity:.65}],layout:{margin:{l:125,r:20,b:50,t:75},title:"Events over Time",width:600,height:350,bargap:.2}}),r.a.createElement(Aa.a,{data:[{type:"bar",x:t[0],y:t[1],nbinsx:5,marker:{color:"58508D"},opacity:.65}],layout:{margin:{l:125,r:20,b:50,t:75},title:"Hours Over Time",width:600,height:350,bargap:.2}})),r.a.createElement("div",{className:"rowC"},r.a.createElement(Aa.a,{data:[{type:"pie",marker:{colors:["003F5C","58508D","BC5090"]},labels:l,values:c,name:"Events",textinfo:"percent+value",opacity:.65}],layout:{showlegend:!0,margin:{l:125,r:20,b:20,t:75},width:600,height:350,title:"Events by Nonprofit"}}),r.a.createElement(Aa.a,{data:[{type:"pie",marker:{colors:["003F5C","58508D","BC5090"]},labels:l,values:i,name:"Hours",textinfo:"percent+value",opacity:.65}],layout:{showlegend:!0,margin:{l:125,r:20,b:20,t:75},width:600,height:350,title:"Hours by Nonprofit"}})),r.a.createElement("div",{className:"rowC"},r.a.createElement(Aa.a,{data:[{type:"bar",x:o,y:["Poor","Fair","Average","Good","Excellent"],orientation:"h",nbinsx:5,marker:{color:["003F5C","58508D","BC5090","FF6361","FFA600"]},opacity:.65}],layout:{margin:{l:125,r:20,b:50,t:75},title:"Event Ratings",width:600,height:350,bargap:.2,xaxis:{title:{text:"Number of Events"}}}}),r.a.createElement(Aa.a,{data:[{type:"bar",x:s,y:["Very Dissatisfied","Dissatisfied","Neutral","Satisfied","Very Satisfied"],orientation:"h",nbinsx:5,marker:{color:["003F5C","58508D","BC5090","FF6361","FFA600"]},opacity:.65}],layout:{margin:{l:125,r:20,b:50,t:75},title:"Event Satisfaction",width:600,height:350,bargap:.2,xaxis:{title:{text:"Number of Events"}}}})))},On=function(){var e=localStorage.getItem("user_id"),t=Object(n.useState)([]),a=Object(tt.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)([]),o=Object(tt.a)(i,2),s=o[0],u=o[1],m=Object(n.useState)([]),d=Object(tt.a)(m,2),b=d[0],v=d[1],g=Object(n.useState)([]),h=Object(tt.a)(g,2),E=h[0],y=h[1],k=Object(n.useState)("chart"),w=Object(tt.a)(k,2),x=w[0],j=w[1];Z("/volunteer-analytics");var _=Object(n.useCallback)(Object(f.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.get("analytics/get-monthly-hours/",{params:{user:e}});case 3:a=t.sent,c(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e]),S=Object(n.useCallback)(Object(f.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.get("analytics/volunteer-summary/",{params:{user:e}});case 3:a=t.sent,u(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e]),C=Object(n.useCallback)(Object(f.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.get("analytics/nonprofit-breakdown/",{params:{user:e}});case 3:a=t.sent,v(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e]),I=Object(n.useCallback)(Object(f.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.get("analytics/volunteer-event-leaderboard/",{params:{user:e}});case 3:a=t.sent,y(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e]);return Object(n.useEffect)((function(){I(),C(),S(),_()}),[I,C,S,_]),r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a.Group,{style:{marginBottom:16,float:"right"},onChange:function(e){return function(e){j(e)}(e.target.value)},defaultValue:"chart"},r.a.createElement(yt.a.Button,{value:"chart"},"Chart View"),r.a.createElement(yt.a.Button,{value:"table"},"Table View")),r.a.createElement(L.a.Title,{level:4},"Analytics"),"chart"===x?r.a.createElement(wn,{monthlyHours:l,nonprofits:b,events:E}):r.a.createElement(r.a.Fragment,null,r.a.createElement(kn,{data:s}),r.a.createElement(yn,{data:b}),r.a.createElement(En,{data:E})))},xn=a(654),jn=a(355),_n=L.a.Paragraph;var Sn=function(e){var t=e.item,a=e.isYearView,l=Object(n.useState)([!1]),c=Object(tt.a)(l,2),i=c[0],o=c[1],s=Object(n.useState)(!1),u=Object(tt.a)(s,2),m=u[0],d=u[1],b=Object(n.useState)(!1),v=Object(tt.a)(b,2),g=v[0],h=v[1],E=Object(n.useState)(0),y=Object(tt.a)(E,2),k=y[0],w=y[1],x=function(){o(!i)},j=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,O.post("attendees/delete/",{user_id:localStorage.getItem("user_id"),event:t});case 4:V.b.success("Unjoined event"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),"Unjoin failed",V.b.error("Unjoin failed");case 11:d(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),[]),_=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,O.get("events/get-event-attendee-count/",{params:{event:t.events__id}});case 4:n=e.sent,w(n.data),h(!a),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),"Viewmore failed",V.b.error("Viewmore failed");case 13:d(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),[t.events__id]),S={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"},C=new Date(t.events__begindate),I=new Date(t.events__enddate),F=t.events__virtual?"Yes.":"No.",N=a?new Date(t.events__begindate).getMonth()+"/"+new Date(t.events__begindate).getDate():new Date(t.events__begindate).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"});return g?r.a.createElement(jn.a,{content:r.a.createElement("div",null,r.a.createElement(L.a.Title,{level:4},t.events__name,r.a.createElement("a",{onClick:x,style:{float:"right",color:"grey"},href:"#"},"X")),r.a.createElement(_n,null,r.a.createElement("b",null,"Location: "),t.events__location),r.a.createElement(_n,null,r.a.createElement("b",null,"Date: "),C.toLocaleString("en-US",S)," - ",I.toLocaleString("en-US",S)),r.a.createElement(_n,null,r.a.createElement("b",null,"Description: "),t.events__description),r.a.createElement(_n,null,r.a.createElement("b",null,"Virtual? "),F),r.a.createElement(_n,null,r.a.createElement("b",null,"Instructions: "),t.events__instructions),r.a.createElement(_n,null,r.a.createElement("b",null,"No. of Attendees: "),k,"/",t.events__attendee_cap),r.a.createElement("p",{style:{color:"#1890ff"}},">>",r.a.createElement(P.a,{type:"link",className:"event-viewmore-form-button",onClick:function(){return _(g)}},"View Less")),r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"event-form-button",onClick:function(){return j(t.events__id)},loading:m},"Unjoin")),trigger:"click",visible:!i,overlayStyle:{width:"40vw",height:"30vw"}},r.a.createElement(P.a,{type:"link",className:"event-viewmore-form-button",onClick:x},N," ",t.events__name)):r.a.createElement(jn.a,{content:r.a.createElement("div",null,r.a.createElement(L.a.Title,{level:4},t.events__name,r.a.createElement("a",{onClick:x,style:{float:"right",color:"grey"},href:"#"},"X")),r.a.createElement(_n,null,r.a.createElement("b",null,"Location: "),t.events__location),r.a.createElement(_n,null,r.a.createElement("b",null,"Date: "),C.toLocaleString("en-US",S)," - ",I.toLocaleString("en-US",S)),r.a.createElement(_n,null,r.a.createElement("b",null,"Description: "),t.events__description.substring(0,50),"..."),r.a.createElement("p",{style:{color:"#1890ff"}},">>",r.a.createElement(P.a,{type:"link",className:"event-viewmore-form-button",onClick:function(){return _(g)}},"View More")),r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"event-form-button",onClick:function(){return j(t.events__id)},loading:m},"Unjoin")),trigger:"click",visible:!i,overlayStyle:{width:"40vw",height:"30vw"}},r.a.createElement(P.a,{type:"link",className:"event-viewmore-form-button",onClick:x},N," ",t.events__name))},Cn=function(){var e=Object(n.useState)([]),t=Object(tt.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),i=Object(tt.a)(c,2),o=i[0],s=i[1],u=Object(n.useState)([]),m=Object(tt.a)(u,2),d=m[0],b=m[1];Z("/calendar");var v=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("attendees/get-volunteer-events/",{params:{user_id:localStorage.getItem("user_id")}});case 3:t=e.sent,l(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),g=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("analytics/get-volunteer-goals/",{params:{user:localStorage.getItem("user_id")}});case 3:t=e.sent,s(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]);return Object(n.useEffect)((function(){v(),g()}),[v,g]),r.a.createElement("div",{align:"center"},r.a.createElement(L.a.Title,{level:2},d),r.a.createElement(xn.a,{dateCellRender:function(e){var t=function(e){return b(["January","February","March","April","May","June","July","August","September","October","November","December"][e.month()-1]+" "+e.year()),a.filter((function(t){var a=new Date(t.events__begindate),n=new Date(t.events__enddate);return e.month()<=n.getMonth()&&e.month()>=a.getMonth()&&e.date()<=n.getDate()&&e.date()>=a.getDate()&&e.year()<=n.getFullYear()&&e.year()>=a.getFullYear()}))||[]}(e),n=function(e){return o.filter((function(t){var a=parseInt(t.begindate.substring(0,4),10),n=parseInt(t.begindate.substring(5,7),10),r=parseInt(t.begindate.substring(8),10);return e.month()+1===n&&e.date()===r&&e.year()===a}))||[]}(e),l=function(e){return o.filter((function(t){var a=parseInt(t.enddate.substring(0,4),10),n=parseInt(t.enddate.substring(5,7),10),r=parseInt(t.enddate.substring(8),10);return e.month()+1===n&&e.date()===r&&e.year()===a}))||[]}(e);return r.a.createElement("ul",{className:"events"},n.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(P.a,{type:"link",disabled:!0,className:"event-viewmore-form-button"},"Start Goal: ",e.hours,"hrs"))})),l.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(P.a,{type:"link",disabled:!0,className:"event-viewmore-form-button"},"End Goal: ",e.hours,"hrs"))})),t.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(Sn,{key:t,item:e,isYearView:!1}))})))},monthCellRender:function(e){var t=function(e){return b(e.year()),a.filter((function(t){var a=new Date(t.events__begindate),n=new Date(t.events__enddate);return e.month()<=n.getMonth()&&e.month()>=a.getMonth()&&e.year()<=n.getFullYear()&&e.year()>=a.getFullYear()}))||[]}(e),n=function(e){return o.filter((function(t){var a=parseInt(t.begindate.substring(0,4),10),n=parseInt(t.begindate.substring(5,7),10);return e.month()+1===n&&e.year()===a}))||[]}(e),l=function(e){return o.filter((function(t){var a=parseInt(t.enddate.substring(0,4),10),n=parseInt(t.enddate.substring(5,7),10);return e.month()+1===n&&e.year()===a}))||[]}(e);return r.a.createElement("ul",{className:"events"},n.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(P.a,{type:"link",disabled:!0,className:"event-viewmore-form-button"},new Date(e.begindate).getMonth()+"/"+new Date(e.begindate).getDate()," Start Goal: ",e.hours,"hrs"))})),l.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(P.a,{type:"link",disabled:!0,className:"event-viewmore-form-button"},new Date(e.begindate).getMonth()+"/"+new Date(e.begindate).getDate()," End Goal: ",e.hours,"hrs"))})),t.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(Sn,{key:t,item:e,isYearView:!0}))})))}}))},In=zt.a.RangePicker,Fn=function(){var e=Object(i.c)(),t=Object(n.useCallback)(function(){var t=Object(f.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.post("user/create-goal/",{user_id:localStorage.getItem("user_id"),hours:a.hours,date:a.date});case 3:e(G("Goal created","success")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e(G("Goal creation failed","error"));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),[e]);return r.a.createElement(R.a,{name:"goal",className:"goal-form",initialValues:{remember:!0},onFinish:t},r.a.createElement(R.a.Item,{name:"hours",hasFeedback:!0,rules:[{required:!0,message:"Hours is required and must be a number."}]},r.a.createElement(Ut.a,{style:{width:"100%"},placeholder:"Volunteer hours"})),r.a.createElement(R.a.Item,{name:"date",hasFeedback:!0,rules:[{required:!0,message:"Date is required."}]},r.a.createElement(In,{style:{width:"100%"}})),r.a.createElement(R.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"org-form-button"},"Set volunteering goal")))},Nn=a(361);var An=function(e){var t=e.data,a=[{title:"Start Date",dataIndex:"begindate",key:"begindate",defaultSortOrder:"descend"},{title:"End Date",dataIndex:"enddate",key:"enddate",defaultSortOrder:"ascend"},{title:"Hours Completed",dataIndex:"completed",key:"completed"},{title:"Goal Hours",dataIndex:"hours",key:"hours"},{title:"Progress",dataIndex:"progress",key:"progress",render:function(e,t){return r.a.createElement(Nn.a,{percent:t.progress})}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a.Title,{level:5},"Goals"),r.a.createElement(ja.a,{columns:a,pagination:{pageSize:5},dataSource:t}))},Dn=(a(630),function(){var e=localStorage.getItem("user_id"),t=Object(n.useState)([]),a=Object(tt.a)(t,2),l=a[0],c=a[1],i=Object(n.useCallback)(Object(f.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.get("analytics/get-volunteer-goals/",{params:{user:e}});case 3:a=t.sent,c(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e]);return Object(n.useEffect)((function(){i()}),[i]),Z("/set-goal"),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"goal-container"},r.a.createElement(L.a.Title,{level:2},"Set volunteering goal"),r.a.createElement(Fn,null)),r.a.createElement(An,{data:l}))}),Tn=a(223),qn=a.n(Tn),Ln=L.a.Paragraph;var Mn=function(e){var t,a=e.org,n=e.causes,l=e.onClose,c=e.isModalVisible,i=r.a.createElement(r.a.Fragment,null,n.map((function(e){return r.a.createElement(oa.a,{key:e.id,color:"blue"},e.name)}))),o=r.a.createElement(r.a.Fragment,null,(null===a||void 0===a?void 0:a.email)&&r.a.createElement(Ln,null,r.a.createElement("b",null,"Email: "),null===a||void 0===a?void 0:a.email),(null===a||void 0===a?void 0:a.website)&&r.a.createElement(Ln,null,r.a.createElement("b",null,"Website: "),null===a||void 0===a?void 0:a.website),(null===a||void 0===a?void 0:a.phone)&&r.a.createElement(Ln,null,r.a.createElement("b",null,"Phone: "),null===a||void 0===a?void 0:a.phone),(null===a||void 0===a?void 0:a.address)&&r.a.createElement(Ln,null,r.a.createElement("b",null,"Address: "),null===a||void 0===a?void 0:a.address),(null===a||void 0===a?void 0:a.description)&&r.a.createElement(Ln,null,r.a.createElement("b",null,"Description: "),null===a||void 0===a?void 0:a.description)),s=function(e){var t=e.children,a=e.extraContent;return r.a.createElement(we.a,null,r.a.createElement("div",{style:{marginRight:24}},a),r.a.createElement("div",{style:{flex:1}},t))};return r.a.createElement(ma.a,{visible:c,footer:null,onCancel:l,width:800},r.a.createElement(sa.a,{title:"".concat(null===a||void 0===a?void 0:a.name),tags:i},r.a.createElement(s,{extraContent:r.a.createElement(na.a,{preview:!1,alt:"img",src:null!==(t=null===a||void 0===a?void 0:a.image)&&void 0!==t?t:qn.a,height:300,width:300})},o)))};var Vn=function(e){var t=e.item,a=Object(n.useState)(!1),l=Object(tt.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(!1),u=Object(tt.a)(s,2),m=u[0],d=u[1],b=Object(i.c)(),v=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(!0),e.prev=1,!a){e.next=8;break}return e.next=5,O.delete("member/delete-from-user/",{params:{user_id:localStorage.getItem("user_id"),org_id:t.id}});case 5:V.b.success("Unjoined organization"),e.next=11;break;case 8:return e.next=10,O.post("member/create/",{user_id:localStorage.getItem("user_id"),org_id:t.id,member_type:0,status:0});case 10:V.b.success("Joined organization");case 11:return o(!a),e.next=14,O.get("user/get-member/",{params:{user_id:localStorage.getItem("user_id")}});case 14:(n=e.sent).data.forEach((function(e){return e.key=e.organization.id})),b(Q(n.data)),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),r=a?"Unjoin failed":"Join failed",V.b.error(r);case 23:d(!1);case 24:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}(),[b,t.id]),g=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("user/get-member/",{params:{user_id:localStorage.getItem("user_id")}});case 3:a=e.sent,o(!1),a.data.some((function(e){var a;return(null===e||void 0===e||null===(a=e.organization)||void 0===a?void 0:a.id)===t.id}))&&o(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[t.id]);Object(n.useEffect)((function(){g()}),[g]);var h=c?"Unjoin":"Join";return r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"event-form-button",onClick:function(){return v(c)},loading:m},h)};var Rn=function(e){var t,a=e.organization,l=e.selectedCauses,c=Object(n.useState)(!1),i=Object(tt.a)(c,2),o=i[0],s=i[1],u=Object(n.useState)([]),m=Object(tt.a)(u,2),d=m[0],b=m[1],v=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("organization/get-causes/",{params:{orgId:null===a||void 0===a?void 0:a.id}});case 3:t=e.sent,b(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[b,a.id]);Object(n.useEffect)((function(){v()}),[v]);var g=Object(n.useCallback)((function(){s(!1)}),[s]),h=d.map((function(e){return e.id})).filter((function(e){return l.includes(e)})),E=l.length>0&&d.length>0&&0===h.length;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Jt.a,{className:"event-card",bordered:!0,style:{height:"auto"},cover:r.a.createElement("div",{className:"button-container"},r.a.createElement("div",{className:"image-container"},r.a.createElement(na.a,{className:"image",preview:!1,alt:"img",src:null!==(t=null===a||void 0===a?void 0:a.image)&&void 0!==t?t:qn.a}),r.a.createElement(P.a,{className:"expand-button",icon:r.a.createElement(la.a,null),ghost:!0,onClick:s}))),hidden:E},r.a.createElement(Jt.a.Meta,{title:null===a||void 0===a?void 0:a.name,description:r.a.createElement(r.a.Fragment,null,r.a.createElement(Vn,{item:a}))})),r.a.createElement(Mn,{org:a,causes:d,isModalVisible:o,onClose:g}))},zn=Et.a.Option;var Pn=function(){var e=Object(n.useState)([]),t=Object(tt.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),i=Object(tt.a)(c,2),o=i[0],s=i[1],u=Object(n.useState)([]),m=Object(tt.a)(u,2),d=m[0],b=m[1],v=Object(n.useState)([]),g=Object(tt.a)(v,2),h=g[0],E=g[1],y=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("organization/get-public-orgs/",{params:{user_id:localStorage.getItem("user_id")}});case 3:t=e.sent,l(t.data),b(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[l,b]),k=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("causes/get/");case 3:t=e.sent,E(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[E]);Object(n.useEffect)((function(){k()}),[k]);var w=Object(n.useMemo)((function(){return h.filter((function(e){return!o.includes(e)}))}),[o,h]);return Object(n.useEffect)((function(){y()}),[y]),r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a.Title,{level:2},"Browse organizations"),r.a.createElement(ta.b,null,"Search by name: ",r.a.createElement(z.a,{onChange:function(e){return function(e){if(""!==e){var t=a.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));b(t)}else b(a)}(e.target.value)},placeholder:"Event name",size:"medium",className:"search",style:{height:33.825}}),"Filter by cause:",r.a.createElement(Et.a,{mode:"multiple",placeholder:"Cause(s)",style:{minWidth:200},size:"medium",value:o,onChange:s},w.map((function(e){return r.a.createElement(zn,{key:e.id,value:e.id},e.name)})))),r.a.createElement(aa.b,{grid:{gutter:16,xs:1,sm:1,md:2,lg:2,xl:3,xxl:3},dataSource:d,renderItem:function(e){return r.a.createElement(aa.b.Item,null,r.a.createElement(Rn,{key:e.id,organization:e,selectedCauses:o}))}}))},Un=(a(631),z.a.TextArea),Bn=function(){var e=Object(n.useState)(!1),t=Object(tt.a)(e,2),a=t[0],l=t[1],c=Object(i.c)(),o=Object(n.useState)(null),s=Object(tt.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)([]),b=Object(tt.a)(d,2),v=b[0],g=b[1],h=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("attendees/get-volunteer-events/",{params:{user_id:localStorage.getItem("user_id")}});case 3:t=e.sent,g(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[g]);Object(n.useEffect)((function(){h()}),[h]);var E=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,O.post("eventFeedback/create/",{id:v.filter((function(e){return e.events__id===u})).map((function(e){return e.id}))[0],event:t.event,overall:t.overall,satisfaction:t.satisfaction,likely:t.likely,expectations:t.expectations,future:t.future,better:t.better,experience:t.experience});case 4:c(G("Feedback submitted","success")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c(G("Feedback submission failed","error"));case 10:l(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),[c,v,u]),y=[{label:"Yes",value:"Yes"},{label:"No",value:"No"}];return r.a.createElement(R.a,{name:"event-feedback",className:"event-feedback-form",initialValues:{remember:!0},onFinish:E},r.a.createElement("p",null,"Which event would you like to provide feedback for?"),r.a.createElement(R.a.Item,{name:"event",hasFeedback:!0,rules:[{required:!0,message:"Event is required."}]},r.a.createElement(Et.a,{placeholder:"Attended Events",value:u,onChange:m,style:{width:"100%"}},v.map((function(e){return r.a.createElement(Et.a.Option,{key:e.events__id,value:e.events__id},e.events__name)})))),r.a.createElement("p",null,"How would you rate your overall experience?"),r.a.createElement(R.a.Item,{name:"overall",hasFeedback:!0,rules:[{required:!0,message:"Overall experience rating required."}]},r.a.createElement(yt.a.Group,{options:[{label:"Poor",value:1},{label:"Fair",value:2},{label:"Average",value:3},{label:"Good",value:4},{label:"Excellent",value:5}],optionType:"button",buttonStyle:"solid"})),r.a.createElement("p",null,"How satisfied did you feel after volunteering?"),r.a.createElement(R.a.Item,{name:"satisfaction",hasFeedback:!0,rules:[{required:!0,message:"Satisfaction rating required."}]},r.a.createElement(yt.a.Group,{options:[{label:"Very Dissatisfied",value:1},{label:"Dissatisfied",value:2},{label:"Neutral",value:3},{label:"Satisfied",value:4},{label:"Very Satisfied",value:5}],optionType:"button",buttonStyle:"solid"})),r.a.createElement("p",null,"How likely are you to recommend future volunteer opportunities to your friends?"),r.a.createElement(R.a.Item,{name:"likely",hasFeedback:!0,rules:[{required:!0,message:"Recommend rating required."}]},r.a.createElement(yt.a.Group,{options:[{label:"Very Unlikely",value:1},{label:"Somewhat Unlikely",value:2},{label:"Neutral",value:3},{label:"Somewhat Likely",value:4},{label:"Very Likely",value:5}],optionType:"button",buttonStyle:"solid"})),r.a.createElement("p",null,"Did the experience meet your expectations?"),r.a.createElement(R.a.Item,{name:"expectations",hasFeedback:!0,rules:[{required:!0,message:"Expectations rating required."}]},r.a.createElement(yt.a.Group,{options:y})),r.a.createElement("p",null,"Do you plan to volunteer with us again in the future?"),r.a.createElement(R.a.Item,{name:"future",hasFeedback:!0,rules:[{required:!0,message:"Future rating required."}]},r.a.createElement(yt.a.Group,{options:y})),r.a.createElement("p",null,"What could we have done better?"),r.a.createElement(R.a.Item,{name:"better",hasFeedback:!0,rules:[{required:!0,message:"Improvement feedback is required."}]},r.a.createElement(Un,{row:6,style:{width:"100%"},placeholder:"Response here"})),r.a.createElement("p",null,"Is there anything else we should know about your volunteer experience?"),r.a.createElement(R.a.Item,{name:"experience",hasFeedback:!0,rules:[{required:!0,message:"Experience feedback is required."}]},r.a.createElement(Un,{row:6,style:{width:"100%"},placeholder:"Response here"})),r.a.createElement(R.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"event-feedback-form-button",loading:a},"Submit feedback")))},Wn=(a(632),function(){return Z("/feedback-form"),r.a.createElement("div",{className:"event-feedback-container"},r.a.createElement(L.a.Title,{level:2},"Event Feedback"),r.a.createElement(Bn,null))});var Yn=function(){var e=Object(n.useState)([]),t=Object(tt.a)(e,2),a=t[0],l=t[1];console.log(a);var c=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("organization/get-public-orgs/",{params:{user_id:localStorage.getItem("user_id")}});case 3:t=e.sent,l(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[l]);return Object(n.useEffect)((function(){c()}),[c]),r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a.Title,{level:2},"Notifications"))},Gn=function(e){var t=e.member,a=Object(i.d)((function(e){return e.sidebar_item}));switch(a){case"loading":return r.a.createElement(hn,null);case"create-org":return r.a.createElement(_t,null);case"settings":return r.a.createElement(Rt,null);case"create-event":return r.a.createElement(Qt,null);case"set-goals":return r.a.createElement(Dn,null);case"calendar":return r.a.createElement(Cn,null);case"view-analytics":return r.a.createElement(On,null);case"browse-orgs":return r.a.createElement(Pn,null);case"give-feedback":return r.a.createElement(Wn,null);case"notifications":return r.a.createElement(Yn,null);default:var n=parseInt(a);if(isNaN(n))return r.a.createElement(_t,null);var l=t.filter((function(e){return e.organization.id===n}))[0];return r.a.createElement(gn,{member:l,orgId:n})}},Hn=a(648);L.a.Paragraph;var Qn=function(e){var t,a,l=e.isModalShowing,c=e.onClose,i=Object(n.useState)(null),o=Object(tt.a)(i,2),s=o[0],u=o[1],m=Object(n.useState)(null),d=Object(tt.a)(m,2),b=d[0],v=d[1],g=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("users/get/",{params:{user_id:localStorage.getItem("user_id")}});case 3:t=e.sent,u(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[u]),h=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("user/generate-daily-report",{params:{user_id:localStorage.getItem("user_id")}});case 3:t=e.sent,v(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[v]);Object(n.useEffect)((function(){g(),h()}),[g,h]);var E={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return(null===b||void 0===b?void 0:b.new_clearances)&&console.log(null===b||void 0===b?void 0:b.new_clearances),r.a.createElement(rt.a,{visible:l,onCancel:c,onOk:c,footer:null},r.a.createElement(It.a,{active:!0,loading:!s,paragraph:{rows:1,width:400},title:!1},r.a.createElement(L.a.Title,{level:3},"Welcome back, ",null===s||void 0===s?void 0:s.first_name," \ud83d\udc4b")),r.a.createElement(L.a.Title,{level:5},"Here's what happened while you were out volunteering:"),r.a.createElement(ta.b,{direction:"vertical"},(null===b||void 0===b?void 0:b.events)&&(null===b||void 0===b||null===(t=b.events)||void 0===t?void 0:t.length)>0&&r.a.createElement(Hn.a,null,null===b||void 0===b?void 0:b.events.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(T.a,{message:"New event details",description:r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Changes were made to ",r.a.createElement("b",null,e.name,":")),r.a.createElement("ul",null,(null===e||void 0===e?void 0:e.old_location)&&(null===e||void 0===e?void 0:e.new_location)&&r.a.createElement("li",null,r.a.createElement("b",null,"New location: ")," ",e.new_location),(null===e||void 0===e?void 0:e.old_begindate)&&(null===e||void 0===e?void 0:e.new_begindate)&&r.a.createElement("li",null,r.a.createElement("b",null,"New start time: ")," ",new Date(e.new_begindate).toLocaleString("en-US",E)),(null===e||void 0===e?void 0:e.old_enddate)&&(null===e||void 0===e?void 0:e.new_enddate)&&r.a.createElement("li",null,r.a.createElement("b",null,"New end time: ")," ",new Date(e.new_enddate).toLocaleString("en-US",E)))),type:"info",showIcon:!0}))}))),(null===b||void 0===b?void 0:b.new_clearances)&&Object.keys(b.new_clearances).length>0&&r.a.createElement(Hn.a,null,Object.keys(b.new_clearances).map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(T.a,{message:"New clearances",description:r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Clearances were added to the following ",r.a.createElement("b",null,b.new_clearances[e][0].org_name)," events. Time to go fill them out!"),r.a.createElement("ul",null,b.new_clearances[e].map((function(e,t){return r.a.createElement("li",{key:t},e.event_name)})))),type:"warning",showIcon:!0}))}))),(null===b||void 0===b?void 0:b.changed_clearances)&&Object.keys(b.changed_clearances).length>0&&r.a.createElement(Hn.a,null,Object.keys(b.changed_clearances).map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(T.a,{message:"Clearances reviewed",description:r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Your clearances were reviewed for ",r.a.createElement("b",null,b.changed_clearances[e][0].event_name),":"),b.changed_clearances[e].map((function(e){return e.new_status})).includes("Rejected")?"At least one of your clearances was rejected.":"Your clearance(s) were accepted. Check back to see if additional clearances are required."),type:b.changed_clearances[e].map((function(e){return e.new_status})).includes("Rejected")?"error":"success",showIcon:!0}))}))),(null===b||void 0===b?void 0:b.uploaded_clearances)&&Object.keys(b.uploaded_clearances).length>0&&r.a.createElement(Hn.a,null,Object.keys(b.uploaded_clearances).map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(T.a,{message:"Review clearances",description:r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,b.uploaded_clearances[e].uploaded_clearances_count," new clearances were uploaded to ",r.a.createElement("b",null,b.uploaded_clearances[e].org_name)," events. Time to go review them!")),type:"warning",showIcon:!0}))}))),(null===b||void 0===b?void 0:b.feedback)&&(null===b||void 0===b||null===(a=b.feedback)||void 0===a?void 0:a.length)>0&&r.a.createElement(T.a,{message:"Incomplete feedback",description:r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"It's time to give feedback on the following events:"),r.a.createElement("ul",null,null===b||void 0===b?void 0:b.feedback.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("b",null,e.org_name,": ")," ",e.event_name)})))),type:"warning",showIcon:!0})))};var Jn=function(){var e={height:"160px",color:"#fff",background:"#364d79",padding:"20px"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Hn.a,null,r.a.createElement("div",null,r.a.createElement("p",{style:e},r.a.createElement("b",null,r.a.createElement("center",null,"Create and Access Organizations")),r.a.createElement("br",null),'If you are a nonprofit admin, click "Create Organization" under the "Take Action" dropdown in the application sidebar. Click on an organization from the sidebar of the application.')),r.a.createElement("div",null,r.a.createElement("p",{style:e},r.a.createElement("b",null,r.a.createElement("center",null,"Invite Members")),r.a.createElement("br",null),'If you are a nonprofit admin, send email invites to members of your nonprofit by clicking the "Invite New Members" button on the "Invites" tab of the organization page.')),r.a.createElement("div",null,r.a.createElement("p",{style:e},r.a.createElement("b",null,r.a.createElement("center",null,"Create Events")),r.a.createElement("br",null),'If you are a nonprofit admin, click "Create Event" under the "Take Action" dropdown in the application sidebar. Created events will be displayed in the "Events" tabs of the organization page.')),r.a.createElement("div",null,r.a.createElement("p",{style:e},r.a.createElement("b",null,r.a.createElement("center",null,"View Events")),r.a.createElement("br",null),'View upcoming events, join events, and filter and search for different events on the "Events" tab of the organization page. Click "View More" on any event card to view full event details.')),r.a.createElement("div",null,r.a.createElement("p",{style:e},r.a.createElement("b",null,r.a.createElement("center",null,"Upload Clearances")),r.a.createElement("br",null),'On the "Clearances" tab of the organization page, admins  upload blank clearances. Volunteers  upload completed clearances. Admins accept or reject uploaded clearances and write comments.')),r.a.createElement("div",null,r.a.createElement("p",{style:e},r.a.createElement("b",null,r.a.createElement("center",null,"Set and View Goals")),r.a.createElement("br",null),'Set and view volunteering hours goals within a specific duration by clicking on the "Set Goals" option under the "Take Action" dropdown in the application sidebar.')),r.a.createElement("div",null,r.a.createElement("p",{style:e},r.a.createElement("b",null,r.a.createElement("center",null,"View My Events")),r.a.createElement("br",null),'View upcoming events you are registered for and goals you have set in a calendar view by clicking "View my events" under the "Take Action" dropdown in the application sidebar.')),r.a.createElement("div",null,r.a.createElement("p",{style:e},r.a.createElement("b",null,r.a.createElement("center",null,"Feedback")),r.a.createElement("br",null),'By clicking on the "Feedback" tab of the organization page, view feedback you have given on prior events or view feedback given by all volunteers if you are a nonprofit admin.')),r.a.createElement("div",null,r.a.createElement("p",{style:e},r.a.createElement("b",null,r.a.createElement("center",null,"Analytics")),r.a.createElement("br",null),'If you are a nonporofit admin, view analytics for your organization on the "Analytics" tab of the organization page.')),r.a.createElement("div",null,r.a.createElement("p",{style:e},r.a.createElement("b",null,r.a.createElement("center",null,"View my analytics")),r.a.createElement("br",null),'View personal analytics including hours volunteered, events attended and top rated events by clicking the "View my analytics" option under the "Take Action" dropdown in the application sidebar.')),r.a.createElement("div",null,r.a.createElement("p",{style:e},r.a.createElement("b",null,r.a.createElement("center",null,"FAQ")),r.a.createElement("br",null),'Post questions if you are a volunteer or post and answer questions if you are a nonprofit admin on the "FAQ" tab of the organization page.')),r.a.createElement("div",null,r.a.createElement("p",{style:e},r.a.createElement("b",null,r.a.createElement("center",null,"Members")),r.a.createElement("br",null),'If you are a nonprofit admin, view all members of your organization and delete members on the "Members" tab of the organization page.')),r.a.createElement("div",null,r.a.createElement("p",{style:e},r.a.createElement("b",null,r.a.createElement("center",null,"Communication")),r.a.createElement("br",null),'If you are a nonprofit admin, select any group of members from your organization and send them an email on the "Communication" tab of the organization page.')),r.a.createElement("div",null,r.a.createElement("p",{style:e},r.a.createElement("b",null,r.a.createElement("center",null,"Manage User Settings")),r.a.createElement("br",null),'Change profile information, reset your password and change notification settings by clicking "Manage User Settings" on the sidebar.'))))},Kn=(a(634),q.a.Content),Xn=q.a.Sider,Zn=function(){var e=Object(n.useState)(!1),t=Object(tt.a)(e,2),a=t[0],l=t[1],c=Object(i.d)((function(e){return e.alerts}),i.b),o=Object(i.d)((function(e){return e.orgs})),s=Object(i.c)(),u=Object(n.useCallback)((function(e){setTimeout((function(){return s(H(e))}),500)}),[s]),m=c.map((function(e){return r.a.createElement(T.a,{key:e.id,type:e.alert_type,message:e.message,banner:!0,closable:!0,onClose:function(){return u(e.id)}})})),d=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("user/get-member/",{params:{user_id:localStorage.getItem("user_id")}});case 3:(n=e.sent).data.forEach((function(e){return e.key=e.organization.id})),s(Q(n.data)),s(J(null!==(t=null===n||void 0===n||null===(a=n.data[0])||void 0===a?void 0:a.key.toString())&&void 0!==t?t:"create-org")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[s]);Object(n.useEffect)((function(){d()}),[d]);var b=Object(n.useState)(!1),v=Object(tt.a)(b,2),g=v[0],h=v[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{id:"content",style:{minHeight:"100vh"}},r.a.createElement(Xn,{width:240,style:{background:"#fff"}},r.a.createElement(ht,{member:o})),r.a.createElement(q.a,null,m,r.a.createElement(q.a,{style:{padding:"24px",height:"100%"}},r.a.createElement(Kn,{style:{background:"#fff",padding:24,margin:0,display:"flex",flexDirection:"column"}},r.a.createElement("div",{className:"button-container"},r.a.createElement(P.a,{className:"tutorial-button",shape:"circle",icon:r.a.createElement(at.a,null),onClick:function(){h(!0)}}),r.a.createElement(P.a,{className:"notifications-button",shape:"circle",icon:r.a.createElement(nt.a,null),onClick:function(){return l(!0)}}),r.a.createElement(rt.a,{title:"Application Tutorial",visible:g,footer:null,onOk:function(){h(!1)},onCancel:function(){h(!1)}},r.a.createElement(Jn,null)),r.a.createElement(Gn,{member:o})))))),r.a.createElement(Qn,{isModalShowing:a,onClose:function(){l(!1)}}))},$n=a(650),er=a(222),tr=a(61),ar=function(e){var t=e.invite,a=Object(m.f)(),l=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(t.email,n.first_name,n.last_name,n.password,t.id);case 3:a.push("/login"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[a,t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{name:"auth",className:"auth-form",initialValues:{remember:!0},onFinish:l},r.a.createElement(R.a.Item,null,r.a.createElement(z.a.Group,{compact:!0},r.a.createElement(R.a.Item,{name:"first_name",noStyle:!0,rules:[{required:!0,message:"First name is required"}]},r.a.createElement(z.a,{style:{width:"50%"},placeholder:"First name"})),r.a.createElement(R.a.Item,{name:"last_name",noStyle:!0,rules:[{required:!0,message:"Last name is required"}]},r.a.createElement(z.a,{style:{width:"50%"},placeholder:"Last name"})))),r.a.createElement(R.a.Item,{name:"password",hasFeedback:!0,rules:[{required:!0,message:"Password is a required field."},{min:12,message:"Password must be at least 12 characters long."}]},r.a.createElement(z.a,{prefix:r.a.createElement(B.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),r.a.createElement(R.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password."},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("Passwords do not match."):Promise.resolve()}}}]},r.a.createElement(z.a,{prefix:r.a.createElement(B.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Confirm password"})),r.a.createElement(R.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"auth-form-button"},"Create Account"))))},nr=function(e){var t,a,l,c,i=e.isRegister,o=e.invite,s="Join ".concat(null!==(t=null===o||void 0===o||null===(a=o.organization)||void 0===a?void 0:a.name)&&void 0!==t?t:"Organization"),u="".concat(i?"Welcome!":"Hey there!"," You've been invited to join ").concat(null!==(l=null===o||void 0===o||null===(c=o.organization)||void 0===c?void 0:c.name)&&void 0!==l?l:"a new organization"," on VolunteerSense.\n    ").concat(i?"Get started my making an account.":"Do you want to join this organization?"),d=Object(m.f)(),b=i?re.a:ae.a,v=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("invite/accept/",{params:{rt:new URLSearchParams(window.location.search).get("rt")}});case 3:d.push("/login"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),[d]),g=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("invite/reject/",{params:{invite_id:o.id}});case 3:d.push("/login"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),[d,o]);return r.a.createElement(q.a,{style:{height:"100vh"}},r.a.createElement(q.a.Content,{className:"auth-content"},r.a.createElement("div",{className:"auth-container"},r.a.createElement(It.a,{active:!0,loading:!o,paragraph:!1},r.a.createElement(L.a.Title,{level:2},s)),r.a.createElement(It.a,{active:!0,loading:!o,title:!1},r.a.createElement(L.a.Paragraph,{level:2},u)),r.a.createElement("img",{className:"auth-logo",src:b,alt:s+" logo"}),i?r.a.createElement(ar,{invite:o}):r.a.createElement(ta.b,{style:{width:"100%"}},r.a.createElement(P.a,{style:{width:196},type:"primary",onClick:v},"Join"),r.a.createElement(P.a,{style:{width:196},type:"primary",danger:!0,onClick:g},"Decline Invitation")))))},rr=1,lr=2,cr=3,ir=4,or=function(){var e=Object(n.useState)(rr),t=Object(tt.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(null),i=Object(tt.a)(c,2),o=i[0],s=i[1],u=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t,a,n,r,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=window.location.search,a=t.split(/[?&=]/),n="",r=0;case 5:if(!(r<a.length-1)){e.next=12;break}if("rt"!==a[r]){e.next=9;break}return n=a[r+1],e.abrupt("break",12);case 9:r++,e.next=5;break;case 12:if(""===n){e.next=20;break}return c="invite/validate/".concat(t),e.next=16,O.get(c);case 16:200===(i=e.sent).status?(i.data.returning?l(cr):l(lr),s(i.data.invite)):l(ir),e.next=21;break;case 20:l(ir);case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),l(ir);case 26:case"end":return e.stop()}}),e,null,[[0,23]])}))),[l]);Object(n.useEffect)((function(){u()}),[u]);var m=r.a.createElement(tr.a,{style:{fontSize:24},spin:!0});switch(a){case ir:return r.a.createElement($n.a,{status:"error",title:"Failed to join organization",subTitle:"Your invitation token may be expired, or otherwise invalid. Contact the group administrator to receive another invitation.",extra:[r.a.createElement(P.a,{key:"home",href:"/"},"Return home")]});case rr:return r.a.createElement(er.a,{indicator:m});default:return r.a.createElement(nr,{isRegister:a===lr,invite:o})}},sr=1,ur=2,mr=3,dr=function(){var e=Object(n.useState)(sr),t=Object(tt.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){c()}),[]);var c=function(){var e=Object(f.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.location.search,a="users/activate/".concat(t),e.next=5,O.get(a);case 5:l(ur),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),l(mr);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),i=r.a.createElement(tr.a,{style:{fontSize:24},spin:!0});switch(a){case ur:return r.a.createElement($n.a,{status:"success",title:"Successfully activated account",extra:[r.a.createElement(P.a,{type:"primary",key:"login",href:"/login"},"Login"),r.a.createElement(P.a,{key:"home",href:"/"},"Return home")]});case mr:return r.a.createElement($n.a,{status:"error",title:"Failed to activate account",subTitle:"Your activation token may be expired, or otherwise invalid.",extra:[r.a.createElement(P.a,{type:"primary",key:"resend",href:"/"},"Resend confirmation email"),r.a.createElement(P.a,{key:"home",href:"/"},"Return home")]});default:return r.a.createElement(er.a,{indicator:i})}},pr=(a(635),function(e){e.isRegister;var t=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(t.email);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{name:"forgot-password",className:"forgot-password-form",initialValues:{remember:!0},onFinish:t},r.a.createElement(R.a.Item,{name:"email",hasFeedback:!0,rules:[{required:!0,message:"Email is a required field."},{type:"email",message:"Not a valid email."}]},r.a.createElement(z.a,{prefix:r.a.createElement(U.a,{className:"site-form-item-icon"}),placeholder:"Email"})),r.a.createElement(R.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"auth-form-button"},"Submit"))))}),fr=function(){var e=re.a;return r.a.createElement(q.a,{style:{height:"100vh"}},r.a.createElement(q.a.Content,{className:"auth-content"},r.a.createElement("div",{className:"auth-container"},r.a.createElement(L.a.Title,{level:2},"Forgot Password"),r.a.createElement("img",{className:"auth-logo",src:e,alt:"Forgot Password logo"}),r.a.createElement(pr,null))))},br=1,vr=2,gr=3,hr=function(){var e=Object(n.useState)(br),t=Object(tt.a)(e,2),a=t[0],l=t[1],c=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t,a,n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=window.location.search,a=t.split(/[?&=]/),n="",r=0;case 5:if(!(r<a.length-1)){e.next=12;break}if("rt"!==a[r]){e.next=9;break}return n=a[r+1],e.abrupt("break",12);case 9:r++,e.next=5;break;case 12:if(""===n){e.next=20;break}return c="users/validate-reset-password/".concat(t),e.next=16,O.get(c);case 16:200===e.sent.status?l(vr):l(gr),e.next=21;break;case 20:l(gr);case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),l(gr);case 26:case"end":return e.stop()}}),e,null,[[0,23]])}))),[l]);Object(n.useEffect)((function(){c()}),[c]);var i=r.a.createElement(tr.a,{style:{fontSize:24},spin:!0});switch(a){case gr:return r.a.createElement($n.a,{status:"error",title:"Failed to reset password",subTitle:"Your password token may be expired, or otherwise invalid. Please try again to reset your password.",extra:[r.a.createElement(P.a,{key:"home",href:"/"},"Return home")]});case br:return r.a.createElement(er.a,{indicator:i});default:return r.a.createElement(q.a,{style:{height:"100vh"}},r.a.createElement(q.a.Content,{className:"auth-content"},r.a.createElement("div",{className:"auth-container"},r.a.createElement(L.a.Title,{level:2},"Reset Password"),r.a.createElement("img",{className:"auth-logo",src:re.a,alt:"reset password logo"}),r.a.createElement(At,{isAuthenticated:!1}))))}};var Er=function(){return r.a.createElement(le,{isRegister:!0})},yr=function(){return r.a.createElement(le,{isRegister:!1})},kr=function(){return r.a.createElement(hr,{isAuthenticated:!1})},wr=function(){return Object(n.useEffect)((function(){document.title="VolunteerSense"}),[]),r.a.createElement("main",null,r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",render:function(){return localStorage.getItem("access_token")?r.a.createElement(Zn,null):r.a.createElement(et,null)}}),r.a.createElement(m.a,{path:"/login",component:yr}),r.a.createElement(m.a,{path:"/register",component:Er}),r.a.createElement(m.a,{path:"/activate",component:dr}),r.a.createElement(m.a,{path:"/invite",component:or}),r.a.createElement(m.a,{path:"/feedback",component:Wn}),r.a.createElement(m.a,{path:"/forgot-password",component:fr}),r.a.createElement(m.a,{path:"/reset-password",component:kr})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Or=Object(o.c)(s);K.a.initialize("UA-189701909-1"),c.a.render(r.a.createElement(i.a,{store:Or},r.a.createElement(u.a,null,r.a.createElement(wr,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},81:function(e,t,a){}},[[371,1,2]]]);
//# sourceMappingURL=main.a181a51c.chunk.js.map