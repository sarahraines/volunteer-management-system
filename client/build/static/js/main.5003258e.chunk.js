(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{204:function(e,t,a){e.exports=a.p+"static/media/login.303e4a67.svg"},205:function(e,t,a){e.exports=a.p+"static/media/register.2c0812b6.svg"},224:function(e,t,a){},274:function(e,t,a){},288:function(e,t,a){},314:function(e,t,a){e.exports=a.p+"static/media/landing.50e5cdde.svg"},315:function(e,t,a){e.exports=a.p+"static/media/volunteersense.98bf0bb3.png"},335:function(e,t,a){e.exports=a(596)},344:function(e,t,a){},493:function(e,t,a){},494:function(e,t,a){},495:function(e,t,a){},496:function(e,t,a){},497:function(e,t,a){},498:function(e,t,a){},499:function(e,t,a){},576:function(e,t,a){},577:function(e,t,a){},592:function(e,t,a){},593:function(e,t,a){},594:function(e,t,a){},595:function(e,t,a){},596:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),l=a.n(c),i=a(37),s=a(133),o=Object(s.b)({alerts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ALERT":return e.concat([t]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==t.id}));default:return e}}}),u=a(75),m=(a(344),a(42)),d=a(6),p=a.n(d),f=a(10),b=a(310),v=a.n(b),g=a(247),h=a.n(g),E="".concat("","/api/"),y=localStorage.getItem("access_token"),k=v.a.create({baseURL:E,timeout:2e4,headers:{Authorization:"JWT "+y,"Content-Type":"application/json",accept:"application/json"}});k.interceptors.response.use((function(e){return e}),function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.config,!t.response||401!==t.response.status||a.url!==k.baseURL+"token/refresh/"){e.next=4;break}return window.location.href="/login/",e.abrupt("return",Promise.reject(t));case 4:if(!t.response||401!==t.response.status||"token_not_valid"!==t.response.data.code){e.next=21;break}return n=localStorage.getItem("refresh_token"),e.prev=6,e.next=9,k.post("/token/refresh/",{refresh:n});case 9:return r=e.sent,localStorage.setItem("access_token",r.data.access),localStorage.setItem("refresh_token",r.data.refresh),k.defaults.headers.Authorization="JWT "+r.data.access,a.headers.Authorization="JWT "+r.data.access,e.abrupt("return",k(a));case 17:return e.prev=17,e.t0=e.catch(6),window.location.href="/login/",e.abrupt("return",Promise.reject(t));case 21:return e.abrupt("return",Promise.reject(t));case 22:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}());function w(e){k.defaults.headers.Authorization="JWT "+e.data.access,localStorage.setItem("access_token",e.data.access),localStorage.setItem("refresh_token",e.data.refresh),localStorage.setItem("user_id",e.data.user_id)}h()(k,{retries:0,retryDelay:function(){return 1e3+1e3*Math.random()},retryCondition:h.a.isRetryableError});var O=k;function j(e,t,a,n){return x.apply(this,arguments)}function x(){return(x=Object(f.a)(p.a.mark((function e(t,a,n,r){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.post("users/create/",{email:t,first_name:a,last_name:n,password:r});case 2:return c=e.sent,localStorage.setItem("user",c.data),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t,a,n,r){return S.apply(this,arguments)}function S(){return(S=Object(f.a)(p.a.mark((function e(t,a,n,r,c){var l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(c),e.next=4,O.post("users/create-from-invite/",{email:t,first_name:a,last_name:n,password:r,invite_id:c});case 4:return l=e.sent,localStorage.setItem("user",l.data),e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return C.apply(this,arguments)}function C(){return(C=Object(f.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.post("token/obtain/",{email:t,password:a});case 2:return n=e.sent,localStorage.setItem("email",t),w(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){return F.apply(this,arguments)}function F(){return(F=Object(f.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("user_id"),e.next=3,O.post("users/reset-password/",{user_id:n,old_password:t,new_password:a});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=a(614),T=a(598),A=a(604),L=a(81),D=a(333),R=a(603),M=a(610),P=a(41),V=a(617),z=a(618),U=a(311),W=a.n(U);function Y(e,t){return{type:"ADD_ALERT",id:W.a.generate(),message:e,alert_type:t}}function G(e){return{type:"REMOVE_ALERT",id:e}}var H,B=a(119),Q=function(e){return B.a.pageview(e)},K=function(e){return Object(n.useEffect)((function(){Q(e)}),[e])},J=function(e){return B.a.event(e)},X=(a(47),a(224),function(e){var t=e.isRegister,a=Object(m.f)(),c=Object(i.c)(),l=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=8;break}return e.next=4,j(n.email,n.first_name,n.last_name,n.password);case 4:J({category:"auth",action:"registration_success"}),c(Y("Account created! Check your email to confirm your account.","success")),e.next=11;break;case 8:return e.next=10,I(n.email,n.password);case 10:a.push("/");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),t?(J({category:"auth",action:"registration_fail"}),c(Y("Account could not be created. Have you already created an account with this email?","error"))):D.b.error("Login failed. Email or password is incorrect.");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),[t,a]),s=t?"Create account":"Log in",o=t?r.a.createElement(r.a.Fragment,null,"Already have an account? ",r.a.createElement(u.b,{to:"/login"},"Log in")):r.a.createElement(r.a.Fragment,null,"New user? ",r.a.createElement(u.b,{to:"/register"},"Create account"));return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{name:"auth",className:"auth-form",initialValues:{remember:!0},onFinish:l},"   ",t&&r.a.createElement(R.a.Item,null,r.a.createElement(M.a.Group,{compact:!0},r.a.createElement(R.a.Item,{name:"first_name",noStyle:!0,rules:[{required:!0,message:"First name is required"}]},r.a.createElement(M.a,{style:{width:"50%"},placeholder:"First name"})),r.a.createElement(R.a.Item,{name:"last_name",noStyle:!0,rules:[{required:!0,message:"Last name is required"}]},r.a.createElement(M.a,{style:{width:"50%"},placeholder:"Last name"})))),r.a.createElement(R.a.Item,{name:"email",hasFeedback:!0,rules:[{required:!0,message:"Email is a required field."},{type:"email",message:"Not a valid email."}]},r.a.createElement(M.a,{prefix:r.a.createElement(V.a,{className:"site-form-item-icon"}),placeholder:"Email"})),r.a.createElement(R.a.Item,{name:"password",hasFeedback:t,rules:[{required:!0,message:"Password is a required field."}].concat(Object(L.a)(t?[{min:12,message:"Password must be at least 12 characters long."}]:[]))},r.a.createElement(M.a,{prefix:r.a.createElement(z.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),t&&r.a.createElement(R.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password."},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("Passwords do not match."):Promise.resolve()}}}]},r.a.createElement(M.a,{prefix:r.a.createElement(z.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Confirm password"})),r.a.createElement(R.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"auth-form-button"},s),o,!t&&r.a.createElement(u.b,{className:"auth-form-forgot",to:"/register"},"Forgot password?"))))}),Z=a(204),$=a.n(Z),ee=a(205),te=a.n(ee),ae=(a(274),function(e){var t=e.isRegister,a=t?"Create account":"Log in",c=t?te.a:$.a,l=Object(i.d)((function(e){return e.alerts}),i.b),s=Object(i.c)();K(t?"/register":"/login");var o=Object(n.useCallback)((function(e){setTimeout((function(){return s(G(e))}),500)}),[s]),u=l.map((function(e){return r.a.createElement(q.a,{key:e.id,type:e.alert_type,message:e.message,banner:!0,closable:!0,onClose:function(){return o(e.id)}})}));return r.a.createElement(T.a,{style:{height:"100vh"}},u,r.a.createElement(T.a.Content,{className:"auth-content"},r.a.createElement("div",{className:"auth-container"},r.a.createElement(A.a.Title,{level:2},a),r.a.createElement("img",{className:"auth-logo",src:c,alt:a+" logo"}),r.a.createElement(X,{isRegister:t}))))}),ne=a(77),re=a(78),ce=a(84),le=a(80),ie=a(251),se=a(151),oe=a(45),ue=a(86),me=a(168),de=/^http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w-./?%&=]*)?/,pe=function(e,t){var a=0===e.name.indexOf("title")?"h1":"div";a=e.href?"a":a;var n="string"===typeof e.children&&e.children.match(de)?r.a.createElement("img",{src:e.children,alt:"img"}):e.children;return 0===e.name.indexOf("button")&&"object"===typeof e.children&&(n=r.a.createElement(P.a,Object(me.a)({},e.children))),r.a.createElement(a,Object(me.a)({key:t.toString()},e),n)},fe=ue.a.Item,be=ue.a.SubMenu,ve=function(e){Object(ce.a)(a,e);var t=Object(le.a)(a);function a(e){var n;return Object(ne.a)(this,a),(n=t.call(this,e)).phoneClick=function(){var e=!n.state.phoneOpen;n.setState({phoneOpen:e})},n.state={phoneOpen:void 0},n}return Object(re.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dataSource,n=t.isMobile,c=Object(se.a)(t,["dataSource","isMobile"]),l=this.state.phoneOpen,i=a.Menu.children.map((function(e){var t=e.children,a=e.subItem,n=Object(se.a)(e,["children","subItem"]);return a?r.a.createElement(be,Object.assign({key:e.name},n,{title:r.a.createElement("div",Object.assign({},t,{className:"header3-item-block ".concat(t.className).trim()}),t.children.map(pe)),popupClassName:"header3-item-child"}),a.map((function(e,t){var a=e.children,n=a.href?r.a.createElement("a",a,a.children.map(pe)):r.a.createElement("div",a,a.children.map(pe));return r.a.createElement(fe,Object.assign({key:e.name||t.toString()},e),n)}))):r.a.createElement(fe,Object.assign({key:e.name},n),r.a.createElement("a",Object.assign({},t,{className:"header3-item-block ".concat(t.className).trim()}),t.children.map(pe)))})),s=void 0===l?300:null;return r.a.createElement(oe.a,Object.assign({component:"header",animation:{opacity:0,type:"from"}},a.wrapper,c),r.a.createElement("div",Object.assign({},a.page,{className:"".concat(a.page.className).concat(l?" open":"")}),r.a.createElement(oe.a,Object.assign({animation:{x:-30,type:"from",ease:"easeOutQuad"}},a.logo),r.a.createElement("img",{width:"100%",src:a.logo.children,alt:"img"})),n&&r.a.createElement("div",Object.assign({},a.mobileMenu,{onClick:function(){e.phoneClick()}}),r.a.createElement("em",null),r.a.createElement("em",null),r.a.createElement("em",null)),r.a.createElement(oe.a,Object.assign({},a.Menu,{animation:n?{x:0,height:0,duration:300,onComplete:function(t){e.state.phoneOpen&&(t.target.style.height="auto")},ease:"easeInOutQuad"}:null,moment:s,reverse:!!l}),r.a.createElement(ue.a,{mode:n?"inline":"horizontal",defaultSelectedKeys:["sub0"],theme:"light"},i))))}}]),a}(r.a.Component),ge=a(210),he=function(e){Object(ce.a)(a,e);var t=Object(le.a)(a);function a(){return Object(ne.a)(this,a),t.apply(this,arguments)}return Object(re.a)(a,[{key:"render",value:function(){var e=Object.assign({},this.props),t=e.dataSource;delete e.dataSource,delete e.isMobile;var a={queue:"bottom",one:{y:"+=30",opacity:0,type:"from",ease:"easeOutQuad"}};return r.a.createElement("div",Object.assign({},e,t.wrapper),r.a.createElement("div",t.page,r.a.createElement(ge.a,Object.assign({key:"text",type:a.queue,leaveReverse:!0,ease:["easeOutQuad","easeInQuad"]},t.childWrapper,{componentProps:{md:t.childWrapper.md,xs:t.childWrapper.xs}}),t.childWrapper.children.map(pe)),r.a.createElement(oe.a,Object.assign({animation:a.one,key:"title"},t.image),r.a.createElement("img",{src:t.image.children,width:"100%",alt:"img"}))))}}]),a}(r.a.PureComponent),Ee=a(152),ye=a(69),ke=a(207),we=a.n(ke),Oe=function(e){Object(ce.a)(a,e);var t=Object(le.a)(a);function a(){return Object(ne.a)(this,a),t.apply(this,arguments)}return Object(re.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dataSource,a=(e.isMobile,Object(se.a)(e,["dataSource","isMobile"])),n=t.wrapper,c=t.titleWrapper,l=t.page,i=t.OverPack,s=t.childWrapper;return r.a.createElement("div",Object.assign({},a,n),r.a.createElement("div",l,r.a.createElement("div",c,c.children.map(pe)),r.a.createElement(we.a,i,r.a.createElement(ge.a,{type:"bottom",key:"block",leaveReverse:!0,component:Ee.a,componentProps:s},s.children.map((function(e,t){var a=e.children,n=Object(se.a)(e,["children"]);return r.a.createElement(ye.a,Object.assign({key:t.toString()},n),r.a.createElement("div",a,a.children.map(pe)))}))))))}}]),a}(r.a.PureComponent),je=function(e){Object(ce.a)(a,e);var t=Object(le.a)(a);function a(){return Object(ne.a)(this,a),t.apply(this,arguments)}return Object(re.a)(a,[{key:"render",value:function(){var e=Object.assign({},this.props),t=e.dataSource;return delete e.dataSource,delete e.isMobile,r.a.createElement("div",Object.assign({},e,t.wrapper),r.a.createElement(we.a,t.OverPack,r.a.createElement(oe.a,t.links,t.links.children.map((function(e,t){return r.a.createElement("a",Object.assign({key:t.toString()},e),r.a.createElement("img",{src:e.children,height:"100%",alt:"img"}))}))),r.a.createElement(oe.a,Object.assign({animation:{x:"+=30",opacity:0,type:"from"},key:"copyright"},t.copyright),t.copyright.children.map((function(e,t){return r.a.createElement(0===e.name.indexOf("title")?"h1":"div",Object(me.a)({key:t.toString()},e),"string"===typeof e.children&&e.children.match(de)?r.a.createElement("img",{src:e.children,alt:"img"}):e.children)})))))}}]),a}(r.a.PureComponent),xe=a(314),_e=a.n(xe),Se=a(315),Ie={wrapper:{className:"header3 home-page-wrapper jzih1dpqqrg-editor_css"},page:{className:"home-page"},logo:{className:"header3-logo jzjgnya1gmn-editor_css",children:a.n(Se).a},Menu:{className:"header3-menu",children:[{name:"item1",className:"header3-item",children:{href:"/login",children:[{children:r.a.createElement("p",null,"Log in"),name:"text"}]}},{name:"item2",className:"header3-item",children:{href:"/register",children:[{children:r.a.createElement("p",null,"Register"),name:"text"}]}}]},mobileMenu:{className:"header3-mobile-menu"}},Ce={wrapper:{className:"home-page-wrapper banner5"},page:{className:"home-page banner5-page"},childWrapper:{className:"banner5-title-wrapper",children:[{name:"title",children:"Connect with your volunteers",className:"banner5-title"},{name:"explain",className:"banner5-explain",children:"Build and engage your community with our volunteer management system."},{name:"button",className:"banner5-button-wrapper",children:{href:"#Feature0_0",className:"banner5-button",type:"primary",children:"Learn more"}}]},image:{className:"banner5-image",children:_e.a}},Ne={wrapper:{className:"home-page-wrapper content0-wrapper"},page:{className:"home-page content0"},OverPack:{playScale:.3,className:""},titleWrapper:{className:"title-wrapper",children:[{name:"title",children:"About VolunteerSense"},{name:"explain",children:"Our secret recipe for wrangling your volunteers."}]},childWrapper:{className:"content0-block-wrapper",children:[{name:"block0",className:"content0-block",md:8,xs:24,children:{className:"content0-block-item",children:[{name:"image",className:"content0-block-icon",children:"https://zos.alipayobjects.com/rmsportal/WBnVOjtIlGWbzyQivuyq.png"},{name:"title",className:"content0-block-title",children:"Recruit"},{name:"content",children:"Easily onboard new volunteers and track their progress in signing required clearances."}]}},{name:"block1",className:"content0-block",md:8,xs:24,children:{className:"content0-block-item",children:[{name:"image",className:"content0-block-icon",children:"https://zos.alipayobjects.com/rmsportal/YPMsLQuCEXtuEkmXTTdk.png"},{name:"title",className:"content0-block-title",children:"Engage"},{name:"content",children:"Alert your community about new opportunities to get involved."}]}},{name:"block2",className:"content0-block",md:8,xs:24,children:{className:"content0-block-item",children:[{name:"image",className:"content0-block-icon",children:"https://zos.alipayobjects.com/rmsportal/EkXWVvAaFJKCzhMmQYiX.png"},{name:"title",className:"content0-block-title",children:"Retain"},{name:"content",children:"Remind your volunteers about upcoming events and solicit their feedback."}]}}]}},Fe={wrapper:{className:"home-page-wrapper footer2-wrapper"},OverPack:{className:"home-page footer2",playScale:.05},copyright:{className:"copyright",children:[{name:"copyright",children:"Copyright \xa9 VolunteerSense",className:"copyright-text"}]},links:{className:"links",children:[]}};a(493);Object(ie.enquireScreen)((function(e){H=e}));var qe=("undefined"!==typeof window?window:{}).location,Te=void 0===qe?{}:qe,Ae=function(e){Object(ce.a)(a,e);var t=Object(le.a)(a);function a(e){var n;return Object(ne.a)(this,a),(n=t.call(this,e)).state={isMobile:H,show:!Te.port},n}return Object(re.a)(a,[{key:"componentDidMount",value:function(){var e=this;B.a.pageview(window.location.pathname+"home"),Object(ie.enquireScreen)((function(t){e.setState({isMobile:!!t})})),Te.port&&setTimeout((function(){e.setState({show:!0})}),500)}},{key:"render",value:function(){var e=this,t=[r.a.createElement(ve,{id:"Nav3_0",key:"Nav3_0",dataSource:Ie,isMobile:this.state.isMobile}),r.a.createElement(he,{id:"Banner5_0",key:"Banner5_0",dataSource:Ce,isMobile:this.state.isMobile}),r.a.createElement(Oe,{id:"Feature0_0",key:"Feature0_0",dataSource:Ne,isMobile:this.state.isMobile}),r.a.createElement(je,{id:"Footer2_0",key:"Footer2_0",dataSource:Fe,isMobile:this.state.isMobile})];return r.a.createElement("div",{className:"templates-wrapper",ref:function(t){e.dom=t}},this.state.show&&t)}}]),a}(r.a.Component),Le=a(9),De=a(620),Re=a(616),Me=a(621),Pe=a(622),Ve=a(215),ze=a(623),Ue=a(624),We=a(625),Ye=(a(494),ue.a.Divider),Ge=ue.a.Item,He=ue.a.SubMenu,Be=function(e){var t=e.selectedKeys,a=e.setSelectedKeys,c=e.setFeedContext,l=e.member,i=Object(m.f)(),s=function(e){a([e.key])},o=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.post("token/blacklist/",{refresh_token:localStorage.getItem("refresh_token")});case 2:localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user_id"),O.defaults.headers.Authorization=null,i.push("/login");case 4:case"end":return e.stop()}}),e)}))),[i]);Object(n.useEffect)((function(){var e;c(null!==(e=t[0])&&void 0!==e?e:"")}),[t,c]);var u=l.map((function(e){var t,a;return r.a.createElement(Ge,{key:null===e||void 0===e||null===(t=e.organization)||void 0===t?void 0:t.id},null===e||void 0===e||null===(a=e.organization)||void 0===a?void 0:a.name)}));return r.a.createElement("div",{className:"menu-container"},r.a.createElement(ue.a,{mode:"inline",theme:"dark",selectedKeys:t,onSelect:s},r.a.createElement(He,{title:"Take action",icon:r.a.createElement(De.a,null)},r.a.createElement(Ge,{className:"action-submenu-item",key:"create-org",icon:r.a.createElement(Re.a,null)},"Create an organization"),r.a.createElement(Ge,{className:"action-submenu-item",key:"create-event",icon:r.a.createElement(Me.a,null)},"Create event"),r.a.createElement(Ge,{className:"action-submenu-item",key:"set-goals",icon:r.a.createElement(Pe.a,null)},"Set goals"),r.a.createElement(Ge,{className:"action-submenu-item",key:"calendar",icon:r.a.createElement(Ve.a,null)},"View my events"),r.a.createElement(Ge,{className:"action-submenu-item",key:"view-analytics",icon:r.a.createElement(ze.a,null)},"View my analytics")),r.a.createElement(Ye,null)),r.a.createElement(ue.a,{mode:"inline",theme:"dark",selectedKeys:t,onSelect:s},u),r.a.createElement(ue.a,{mode:"inline",theme:"dark",selectedKeys:t,onSelect:s},r.a.createElement(Ye,null),r.a.createElement(Ge,{key:"settings",icon:r.a.createElement(Ue.a,null)},"Manage user settings"),r.a.createElement(Ge,{key:"logout",icon:r.a.createElement(We.a,null),onClick:o},"Logout")))},Qe=a(113),Ke=(a(288),M.a.TextArea),Je=function(){var e=Object(n.useState)([]),t=Object(Le.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),i=Object(Le.a)(l,2),s=i[0],o=i[1],u=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("causes/get/");case 3:t=e.sent,o(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[o]);Object(n.useEffect)((function(){u()}),[u]);var m=Object(n.useMemo)((function(){return s.filter((function(e){return!a.includes(e)}))}),[a,s]),d=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.post("organization/create/",{name:t.name,causes:t.causes,description:t.description,website:t.website,phone:t.phone,address:t.address,email:t.email});case 3:return e.next=5,O.post("member/create/",{user_id:localStorage.getItem("user_id"),organization:t.name,member_type:1,status:0});case 5:D.b.success("Organization created"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),D.b.error("Organization creation failed");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[]);return r.a.createElement(R.a,{name:"org",className:"org-form",initialValues:{remember:!0},onFinish:d},r.a.createElement(R.a.Item,{name:"name",hasFeedback:!0,rules:[{required:!0,message:"Organization name is required."}]},r.a.createElement(M.a,{style:{width:"100%"},placeholder:"Organization name",maxLength:128})),r.a.createElement(R.a.Item,{name:"causes",hasFeedback:!0},r.a.createElement(Qe.a,{mode:"multiple",placeholder:"Charitable cause(s)",value:a,onChange:c},m.map((function(e){return r.a.createElement(Qe.a.Option,{key:e.id,value:e.id},e.name)})))),r.a.createElement(R.a.Item,{name:"website"},r.a.createElement(M.a,{style:{width:"100%"},placeholder:"Website"})),r.a.createElement(R.a.Item,{name:"phone"},r.a.createElement(M.a,{style:{width:"100%"},placeholder:"Telephone"})),r.a.createElement(R.a.Item,{name:"email",hasFeedback:!0,rules:[{type:"email",message:"Not a valid email."}]},r.a.createElement(M.a,{placeholder:"Email"})),r.a.createElement(R.a.Item,{name:"address"},r.a.createElement(Ke,{style:{width:"100%"},placeholder:"Street Address",autoSize:!0})),r.a.createElement(R.a.Item,{name:"description",hasFeedback:!0,rules:[{required:!0,message:"Organization description is required."}]},r.a.createElement(Ke,{row:6,style:{width:"100%"},placeholder:"Describe your organization..."})),r.a.createElement(R.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"org-form-button"},"Create")))},Xe=(a(87),function(){return K("/create-organization"),r.a.createElement("div",{className:"org-container"},r.a.createElement(A.a.Title,{level:2},"Create organization"),r.a.createElement(Je,null))}),Ze=A.a.Text,$e=function(e){var t=e.user,a=Object(i.c)(),c=Object(n.useState)(!1),l=Object(Le.a)(c,2),s=l[0],o=l[1],u=Object(n.useState)(null===t||void 0===t?void 0:t.first_name),m=Object(Le.a)(u,2),d=m[0],b=m[1],v=Object(n.useState)(null===t||void 0===t?void 0:t.last_name),g=Object(Le.a)(v,2),h=g[0],E=g[1],y=Object(n.useState)(null===t||void 0===t?void 0:t.email),k=Object(Le.a)(y,2),w=k[0],j=k[1];Object(n.useEffect)((function(){b(null===t||void 0===t?void 0:t.first_name),E(null===t||void 0===t?void 0:t.last_name),j(null===t||void 0===t?void 0:t.email)}),[t]);var x=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=13;break}return e.prev=1,e.next=4,O.post("users/update/",{user_id:localStorage.getItem("user_id"),first_name:d,last_name:h,email:w});case 4:o(!1),a(Y("Profile update success","success")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a(Y("Profile update failed","error"));case 11:e.next=14;break;case 13:o(!0);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),[s,o,a,w,d,h]),_=function(e,t){return r.a.createElement(Ee.a,{style:{marginBottom:"8px"}},r.a.createElement(ye.a,{span:4},r.a.createElement(Ze,null,e,":")),r.a.createElement(ye.a,{span:20},r.a.createElement(Ze,null,t)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,Object.assign({name:"update-profile",onFinish:x,requiredMark:!1,initialValues:{first_name:d,last_name:h,email:w}},{labelCol:{span:4},labelAlign:"left"}),s?r.a.createElement(R.a.Item,{label:"Name"},r.a.createElement(M.a.Group,{compact:!0},r.a.createElement(R.a.Item,{name:"first_name",noStyle:!0,rules:[{required:!0,message:"First name is required"}]},r.a.createElement(M.a,{style:{width:"50%"},placeholder:"First name",value:d,onChange:function(e){b(e.target.value)}})),r.a.createElement(R.a.Item,{name:"last_name",noStyle:!0,rules:[{required:!0,message:"Last name is required"}]},r.a.createElement(M.a,{style:{width:"50%"},placeholder:"Last name",value:h,onChange:function(e){E(e.target.value)}})))):_("Name","".concat(d," ").concat(h)),s?r.a.createElement(R.a.Item,{label:"Email",name:"email",hasFeedback:!0,rules:[{required:!0,message:"Email is a required field."},{type:"email",message:"Not a valid email."}]},r.a.createElement(M.a,{placeholder:"Email",value:w,onChange:function(e){j(e.target.value)}})):_("Email",w),r.a.createElement(R.a.Item,null,r.a.createElement(P.a.Group,{style:{width:"100%"}},r.a.createElement(P.a,{style:{width:s?"50%":"100%",transition:"none"},type:"primary",htmlType:"submit"},s?"Update":"Edit"),r.a.createElement(P.a,{style:{width:"50%",transition:"none"},type:"secondary",onClick:function(){o(!1)},hidden:!s},"Cancel")))))},et=a(607),tt=a(599);var at=function(){var e=Object(n.useState)(null),t=Object(Le.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){l()}),[]);var l=function(){var e=Object(f.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("user_id"),a="users/get/?user_id=".concat(t),e.next=4,O.get(a);case 4:n=e.sent,c(n.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{maxWidth:"600px"}},r.a.createElement(A.a.Title,{level:4},"Update Profile"),r.a.createElement(et.a,{active:!0,loading:!a,paragraph:{rows:3,width:"auto"},title:!1},r.a.createElement($e,{user:a}))),r.a.createElement(tt.a,null))},nt=function(){var e=Object(i.c)(),t=Object(n.useCallback)(function(){var t=Object(f.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N(a.old_password,a.new_password);case 3:e(Y("Password reset success","success")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e(Y("Old password incorrect","error"));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),[e]),a=Object(n.useCallback)(Object(f.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a="users/forgot-password/?user_id="+localStorage.getItem("user_id"),t.next=4,O.get(a);case 4:e(Y("Password reset link sent to email","success")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e(Y("Password reset email failed to send","error"));case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{name:"reset-password",className:"reset-password-form",initialValues:{remember:!0},onFinish:t},r.a.createElement(R.a.Item,{name:"old_password",hasFeedback:!0,rules:[{required:!0,message:"Old password is a required field."}]},r.a.createElement(M.a,{prefix:r.a.createElement(z.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Old password"})),r.a.createElement(R.a.Item,{name:"new_password",hasFeedback:!0,rules:[{required:!0,message:"New password is a required field."},{min:12,message:"Password must be at least 12 characters long."}]},r.a.createElement(M.a,{prefix:r.a.createElement(z.a,{className:"site-form-item-icon"}),type:"password",placeholder:"New password"})),r.a.createElement(R.a.Item,{name:"confirm",dependencies:["new_password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your new password."},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("new_password")!==a?Promise.reject("Passwords do not match."):Promise.resolve()}}}]},r.a.createElement(M.a,{prefix:r.a.createElement(z.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Confirm password"})),r.a.createElement(R.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"auth-form-button"},"Submit"),"Forgot password?",r.a.createElement(P.a,{type:"link",style:{paddingLeft:4,paddingRight:4},onClick:a},"Send a password reset email"))))};var rt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{maxWidth:"600px"}},r.a.createElement(A.a.Title,{level:4},"Reset password"),r.a.createElement(nt,null)),r.a.createElement(tt.a,null))},ct=a(166),lt=(A.a.Text,function(e){var t=e.user,a=Object(i.c)(),c=Object(n.useState)(null===t||void 0===t?void 0:t.email),l=Object(Le.a)(c,2),s=l[0],o=l[1],u=Object(n.useState)(null===t||void 0===t?void 0:t.text),m=Object(Le.a)(u,2),d=m[0],b=m[1],v=Object(n.useState)(null===t||void 0===t?void 0:t.phone_number),g=Object(Le.a)(v,2),h=g[0],E=g[1];Object(n.useEffect)((function(){o(null===t||void 0===t?void 0:t.email),b(null===t||void 0===t?void 0:t.text),E(null===t||void 0===t?void 0:t.phone_number),console.log("phoneNumber",h)}),[h,t]);var y=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.post("user/submit-notification-settings/",{user_id:localStorage.getItem("user_id"),email:s,text:d,phone_number:t.phone_number});case 3:a(Y("Settings update success","success")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a(Y("Settings update failed","error"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[s,d,a]),k=R.a.useForm(),w=Object(Le.a)(k,1)[0];return Object(n.useEffect)((function(){w.setFieldsValue({email:s,text:d,phone_number:h})}),[w,s,d,h]),r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,Object.assign({form:w,name:"update-profile",onFinish:y,initialValues:{email:s,text:d,phone_number:h}},{labelCol:{span:4},labelAlign:"left"}),r.a.createElement(R.a.Item,{name:"email"},r.a.createElement(ct.a,{checked:s,onChange:function(e){o(e.target.checked)}},"Send email notifications")),r.a.createElement(R.a.Item,{name:"text"},r.a.createElement(ct.a,{checked:d,onChange:function(e){b(e.target.checked)},disabled:!0},"Send text notifications")),r.a.createElement(R.a.Item,{name:"phone_number",hasFeedback:d,rules:[{required:d,message:"Phone is a required field."}]},r.a.createElement(M.a,{addonBefore:"Phone Number",placeholder:"Phone Number",disabled:!0})),r.a.createElement(R.a.Item,null,r.a.createElement(P.a,{style:{width:"100%"},type:"primary",htmlType:"submit"},"Update"))))});var it=function(){var e=Object(n.useState)(null),t=Object(Le.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){l()}),[]);var l=function(){var e=Object(f.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("user_id"),a="user/get-notification-settings/?user_id=".concat(t),e.next=4,O.get(a);case 4:n=e.sent,c(n.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{maxWidth:"600px"}},r.a.createElement(A.a.Title,{level:4},"Update Notifications"),r.a.createElement(et.a,{active:!0,loading:!1,paragraph:{rows:3,width:"auto"},title:!1},r.a.createElement(lt,{user:a}))),r.a.createElement(tt.a,null))},st=a(254),ot=st.a.TabPane,ut=function(){return K("/settings"),r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a.Title,{level:3},"Manage user settings"),r.a.createElement(st.a,{defaultActiveKey:"1"},r.a.createElement(ot,{tab:"Profile",key:"1"},r.a.createElement(at,null)),r.a.createElement(ot,{tab:"Security",key:"2"},r.a.createElement(rt,null)),r.a.createElement(ot,{tab:"Notifications",key:"3"},r.a.createElement(it,null))))},mt=a(606),dt=a(626),pt=a(611),ft=(a(495),M.a.TextArea),bt=mt.a.RangePicker,vt=function(){var e=Object(n.useState)(!1),t=Object(Le.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),s=Object(Le.a)(l,2),o=s[0],u=s[1],m=Object(n.useState)([]),d=Object(Le.a)(m,2),b=d[0],v=d[1],g=Object(n.useState)([]),h=Object(Le.a)(g,2),E=h[0],y=h[1],k=Object(n.useState)([]),w=Object(Le.a)(k,2),j=w[0],x=w[1],_=Object(i.c)(),S=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("causes/get/");case 3:t=e.sent,v(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[v]),I=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("admin/get-orgs/",{params:{user_id:localStorage.getItem("user_id")}});case 3:t=e.sent,x(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[x]);Object(n.useEffect)((function(){S(),I()}),[S,I]);var C=Object(n.useMemo)((function(){return j.filter((function(e){return!E.includes(e)}))}),[E,j]),N=Object(n.useMemo)((function(){return b.filter((function(e){return!o.includes(e)}))}),[o,b]),F=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,O.post("event/create/",{name:t.name,virtual:t.virtual,location:t.location,causes:t.causes,organizations:t.organizations,date:t.date,description:t.description,instructions:t.instructions,attendee_cap:t.attendeeCap});case 4:D.b.success("Event created"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),D.b.success("Event creation failed");case 10:c(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),[_,c]);return r.a.createElement(R.a,{name:"event",className:"event-form",initialValues:{remember:!0},onFinish:F},r.a.createElement(R.a.Item,{name:"organizations",hasFeedback:!0,rules:[{required:!0,message:"Organization name is required."}]},r.a.createElement(Qe.a,{mode:"multiple",placeholder:"Organization(s)",value:E,onChange:y,style:{width:"100%"}},C.map((function(e){return r.a.createElement(Qe.a.Option,{key:e.id,value:e.id},e.name)})))),r.a.createElement(R.a.Item,{name:"name",hasFeedback:!0,rules:[{required:!0,message:"Event name is required."}]},r.a.createElement(M.a,{style:{width:"100%"},placeholder:"Event name"})),r.a.createElement(R.a.Item,{name:"virtual",hasFeedback:!0,valuePropName:"checked"},r.a.createElement(dt.a,{checkedChildren:"Virtual",unCheckedChildren:"Non-virtual",defaultChecked:!0})),r.a.createElement(R.a.Item,{name:"location",hasFeedback:!0,rules:[{required:!0,message:"Location is required."}]},r.a.createElement(M.a,{style:{width:"100%"},placeholder:"Location"})),r.a.createElement(R.a.Item,{name:"date",hasFeedback:!0,rules:[{required:!0,message:"Date is required."}]},r.a.createElement(bt,{style:{width:"100%"},showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm"})),r.a.createElement(R.a.Item,{name:"causes",hasFeedback:!0,rules:[{required:!0,message:"Causes are required."}]},r.a.createElement(Qe.a,{mode:"multiple",placeholder:"Charitable cause(s)",value:o,onChange:u,style:{width:"100%"}},N.map((function(e){return r.a.createElement(Qe.a.Option,{key:e.id,value:e.id},e.name)})))),r.a.createElement(R.a.Item,{name:"attendeeCap",hasFeedback:!0,rules:[{required:!0,message:"Max number of attendees is required and must be a number."}]},r.a.createElement(pt.a,{style:{width:"100%"},placeholder:"Maximum number of attendees"})),r.a.createElement(R.a.Item,{name:"description",hasFeedback:!0,rules:[{required:!0,message:"Description is required."}]},r.a.createElement(ft,{row:6,style:{width:"100%"},placeholder:"Event description"})),r.a.createElement(R.a.Item,{name:"instructions",hasFeedback:!0,rules:[{required:!0,message:"Instructions is required."}]},r.a.createElement(ft,{row:6,style:{width:"100%"},placeholder:"Provide volunteers with instructions (i.e. how to get there, what to bring, etc.)"})),r.a.createElement(R.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"event-form-button",loading:a},"Create")))},gt=(a(496),function(){return K("/new-event"),r.a.createElement("div",{className:"event-container"},r.a.createElement(A.a.Title,{level:2},"Create an event"),r.a.createElement(vt,null))}),ht=a(613),Et=a(329),yt=(a(497),A.a.Paragraph);var kt=function(e){var t=e.isAdmin,a=e.item,c=e.removeFaq,l=e.orgId,i=Object(n.useState)((null===a||void 0===a?void 0:a.question)||""),s=Object(Le.a)(i,2),o=s[0],u=s[1],m=Object(n.useState)((null===a||void 0===a?void 0:a.answer)||""),d=Object(Le.a)(m,2),b=d[0],v=d[1],g=Object(n.useState)(!!(null===a||void 0===a?void 0:a.is_public)),h=Object(Le.a)(g,2),E=h[0],y=h[1],k=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(t),e.prev=1,e.next=4,O.post("faq/upsert/",{id:null===a||void 0===a?void 0:a.id,question:t,answer:b,org_id:l});case 4:D.b.success("Question updated"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),D.b.error("Question failed to update");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(t),e.prev=1,e.next=4,O.post("faq/upsert/",{id:null===a||void 0===a?void 0:a.id,question:o,answer:t,is_public:E,org_id:l});case 4:D.b.success("Answer updated"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),D.b.error("Answer failed to update");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(t),e.prev=1,e.next=4,O.post("faq/upsert/",{id:null===a||void 0===a?void 0:a.id,question:o,answer:b,is_public:t,org_id:l});case 4:D.b.success("FAQ updated"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),D.b.error("FAQ failed to update");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.delete("faq/delete/",{params:{id:null===a||void 0===a?void 0:a.id}});case 3:c(null===a||void 0===a?void 0:a.id),D.b.success("FAQ deleted"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),D.b.error("FAQ failed to delete");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(ht.a,{style:{marginTop:8,marginBottom:8},loading:!a,actions:t&&[r.a.createElement(Et.a,{onClick:x,key:"delete"})]},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(yt,{style:{float:"left",verticalAlign:"top",fontWeight:700}},"Question: "),"  ",r.a.createElement("div",{style:{marginLeft:4,flexGrow:100}},r.a.createElement(yt,{style:{width:"100%"},editable:!!t&&{onChange:function(e){return k(e)}}},o))),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(yt,{style:{float:"left",verticalAlign:"top",fontWeight:700}},"Answer: "),"  ",r.a.createElement("div",{style:{marginLeft:4,flexGrow:100}},r.a.createElement(yt,{style:{width:"100%"},editable:!!t&&{onChange:function(e){return w(e)}}},b))),t&&r.a.createElement(dt.a,{checkedChildren:"Public",unCheckedChildren:"Hidden",onChange:function(e){return j(e)},defaultChecked:null===a||void 0===a?void 0:a.is_public}))},wt=A.a.Title;var Ot=function(e){var t=e.isAdmin,a=e.orgId,c=Object(n.useState)([]),l=Object(Le.a)(c,2),i=l[0],s=l[1],o=function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("organization/get-faq/",{params:{org_id:t}});case 3:a=e.sent,s(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),u=function(e){s(i.filter((function(t){return t.id!==e})))};Object(n.useEffect)((function(){a&&o(a)}),[a]);var m=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.post("faq/upsert/",{org_id:a,question:"question",answer:"answer"});case 2:t=e.sent,s([].concat(Object(L.a)(i),[{id:t.data.id,question:"question",answer:"answer"}]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(wt,{level:4},"Frequently asked questions"),i.map((function(e){return r.a.createElement(kt,{isAdmin:t,key:e.id,item:e,removeFaq:u,orgId:a})})),t&&r.a.createElement(P.a,{style:{width:"100%"},type:"primary",onClick:function(){m()}},"Add New FAQ"))},jt=a(627),xt=(a(498),a(499),A.a.Paragraph);var _t=function(e){var t=e.item,a=Object(n.useState)(!1),c=Object(Le.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(!1),o=Object(Le.a)(s,2),u=o[0],m=o[1],d=Object(n.useState)(!1),b=Object(Le.a)(d,2),v=b[0],g=b[1],h=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!0),e.prev=1,!a){e.next=8;break}return e.next=5,O.post("attendees/delete/",{user_id:localStorage.getItem("user_id"),event:t});case 5:D.b.success("Unjoined event"),e.next=11;break;case 8:return e.next=10,O.post("attendees/create/",{user_id:localStorage.getItem("user_id"),event:t});case 10:D.b.success("Joined event");case 11:i(!a),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),n=a?"Join failed":"Unjoin failed",D.b.error(n);case 18:m(!1);case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,a){return e.apply(this,arguments)}}(),[]),E=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("events/get-register-status/",{params:{user_id:localStorage.getItem("user_id"),event:t.id}});case 3:a=e.sent,i(!1),1==a.data&&i(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[]);Object(n.useEffect)((function(){E()}),[E]);var y=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(!0);try{g(!a)}catch(t){"Viewmore failed",D.b.error("Viewmore failed")}m(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[]),k=l?"Unjoin":"Join",w={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"},j=new Date(t.begindate),x=new Date(t.enddate),_=t.virtual?"Yes.":"No.",S=t.attendee_count<t.attendee_cap||l?r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"event-form-button",onClick:function(){return h(t.id,l)},loading:u},k):r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"event-unjoinable-form-button",disabled:!0},k);return v?r.a.createElement(ht.a,{className:"event-card",title:t.name,bordered:!0},r.a.createElement(xt,null,r.a.createElement("b",null,"Location: "),t.location),r.a.createElement(xt,null,r.a.createElement("b",null,"Date: "),j.toLocaleString("en-US",w)," - ",x.toLocaleString("en-US",w)),r.a.createElement(xt,null,r.a.createElement("b",null,"Description: "),t.description),r.a.createElement(xt,null,r.a.createElement("b",null,"Virtual? "),_),r.a.createElement(xt,null,r.a.createElement("b",null,"Instructions: "),t.instructions),r.a.createElement(xt,null,r.a.createElement("b",null,"No. of Attendees: "),t.attendee_count,"/",t.attendee_cap),r.a.createElement("p",{style:{color:"#1890ff"}},">>",r.a.createElement(P.a,{type:"link",className:"event-viewmore-form-button",onClick:function(){return y(t.id,v)}},"View Less")),S):r.a.createElement(ht.a,{className:"event-card",title:t.name,bordered:!0},r.a.createElement(xt,null,r.a.createElement("b",null,"Location: "),t.location),r.a.createElement(xt,null,r.a.createElement("b",null,"Date: "),j.toLocaleString("en-US",w)," - ",x.toLocaleString("en-US",w)),r.a.createElement(xt,null,r.a.createElement("b",null,"Description: "),t.description.substring(0,50),"..."),r.a.createElement("p",{style:{color:"#1890ff"}},">>",r.a.createElement(P.a,{type:"link",className:"event-viewmore-form-button",onClick:function(){return y(t.id,v)}},"View More")),S)},St=Qe.a.Option,It=function(e){var t=e.orgId,a=Object(n.useState)([]),c=Object(Le.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)([]),o=Object(Le.a)(s,2),u=o[0],m=o[1],d=Object(n.useState)([]),b=Object(Le.a)(d,2),v=(b[0],b[1],Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("events/get-by-org/",{params:{orgId:t}});case 3:a=e.sent,i(a.data),m(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[i,t]));Object(n.useEffect)((function(){v()}),[t,v]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a.Title,{level:4},"Upcoming events"),r.a.createElement(jt.b,null,r.a.createElement("input",{onChange:function(e){return function(e){var t=l;if(""!==e){var a;a=t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})),m(a)}else m(t)}(e.target.value)},placeholder:"Search for events",className:"search"}),"Filter by Virtual:",r.a.createElement(Qe.a,{defaultValue:"none",style:{width:120},onChange:function(e){return function(e){var t=l;if("virtual"==e){var a;a=t.filter((function(e){return e.virtual})),m(a)}else if("inperson"==e){var n;n=t.filter((function(e){return!e.virtual})),m(n)}else m(t)}(e)},size:"small"},r.a.createElement(St,{value:"none"},"Select All"),r.a.createElement(St,{value:"virtual"},"Virtual"),r.a.createElement(St,{value:"inperson"},"Not Virtual")),"Filter by Open:",r.a.createElement(Qe.a,{defaultValue:"none",style:{width:120},onChange:function(e){return function(e){var t=l;if("open"==e){var a;a=t.filter((function(e){return e.attendee_count<e.attendee_cap})),m(a)}else if("filled"==e){var n;n=t.filter((function(e){return!(e.attendee_count<e.attendee_cap)})),m(n)}else m(t)}(e)},size:"small"},r.a.createElement(St,{value:"none"},"Select All"),r.a.createElement(St,{value:"open"},"Open"),r.a.createElement(St,{value:"filled"},"Filled"))),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",overflowY:"scroll"}},u.map((function(e,t){return r.a.createElement(_t,{key:t,item:e})}))))},Ct=a(331),Nt=a(605),Ft=a(612),qt=a(330),Tt=A.a.Paragraph,At=(A.a.Title,function(e){var t=e.org,a=Object(n.useState)([]),c=Object(Le.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(!1),o=Object(Le.a)(s,2),u=o[0],m=o[1],d=Object(n.useState)(""),b=Object(Le.a)(d,2),v=b[0],g=b[1],h=Object(n.useRef)(),E=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===t||void 0===t?void 0:t.id)){e.next=11;break}return e.prev=1,e.next=4,O.get("organization/get-causes/",{params:{orgId:null===t||void 0===t?void 0:t.id}});case 4:a=e.sent,i(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[i,t]);Object(n.useEffect)((function(){E()}),[t,E]);var y=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=l.filter((function(e){return e.id!==t})),i(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[l,i]),k=Object(n.useCallback)((function(){var e=v&&-1===l.map((function(e){return e.name})).indexOf(v)?[].concat(Object(L.a)(l),[{name:v,id:e.length}]):l;i(e),m(!1),g("")}),[i,g,m,l]),w=r.a.createElement(r.a.Fragment,null,l.map((function(e){return r.a.createElement(Ct.a,{key:e.id,color:"blue",closable:!0,onClose:function(t){t.preventDefault(),y(e.id)}},e.name)})),u&&r.a.createElement(M.a,{ref:h,type:"text",size:"small",style:{width:78},value:v,onChange:function(e){g(e.target.value)},onBlur:k,onPressEnter:k}),!u&&r.a.createElement(Ct.a,{onClick:function(){m(!0)},className:"site-tag-plus"},r.a.createElement(qt.a,null)," New Tag"));return r.a.createElement(et.a,{loading:!t,active:!0},r.a.createElement(Nt.a,{title:"About ".concat(null===t||void 0===t?void 0:t.name),className:"site-page-header",tags:w},r.a.createElement(Ft.b,null,(null===t||void 0===t?void 0:t.website)&&r.a.createElement(Ft.b.Item,{label:"Website"},r.a.createElement("a",{href:t.website},t.website)),(null===t||void 0===t?void 0:t.phone)&&r.a.createElement(Ft.b.Item,{label:"Telephone"},t.phone),(null===t||void 0===t?void 0:t.email)&&r.a.createElement(Ft.b.Item,{label:"Email"},r.a.createElement("a",{href:"mailto:".concat(t.email)},t.email)),(null===t||void 0===t?void 0:t.address)&&r.a.createElement(Ft.b.Item,{label:"Street Address"},t.address)),r.a.createElement(Tt,{editable:!0},null===t||void 0===t?void 0:t.description)))}),Lt=a(48),Dt=a(600),Rt=a(601),Mt=A.a.Title;Qe.a.Option;var Pt=function(e){var t=e.orgId,a=Object(n.useState)([]),c=Object(Le.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(!0),o=Object(Le.a)(s,2),u=o[0],m=o[1],d=localStorage.getItem("user_id"),b=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("organization/get-members/",{params:{org_id:t}});case 3:(a=e.sent).data.forEach((function(e){return e.key=e.id})),i(a.data),m(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[t]),v=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.delete("member/delete/",{params:{member_id:t}});case 3:e.sent,i(l.filter((function(e){return e.key!==t}))),D.b.success("Member deleted"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),D.b.error("Member could not be deleted.");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[l]);Object(n.useEffect)((function(){t&&b(t)}),[t]);var g=[{title:"First",dataIndex:["user","first_name"],key:"first"},{title:"Last",dataIndex:["user","last_name"],key:"last"},{title:"Email",dataIndex:["user","email"],key:"email"},{title:"Role",dataIndex:"role",key:"role",render:function(e,t){return 1===t.member_type?"Admin":"Member"}},{title:"Status",dataIndex:"status",key:"status",render:function(e,t){return"Active"}},{title:"Action",key:"action",render:function(e,t){return parseInt(d)===t.user.id?r.a.createElement(Lt.a,{title:"Cannot delete your own user."},r.a.createElement(P.a,{type:"primary",danger:!0,disabled:!0},"Delete")):r.a.createElement(Dt.a,{title:"Are you sure you want to delete this member?",onConfirm:function(){return v(t.key)},okText:"Yes",cancelText:"No",disabled:parseInt(d)===t.user.id},r.a.createElement(P.a,{type:"primary",danger:!0},"Delete"))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Mt,{level:4},"Members"),r.a.createElement(Rt.a,{columns:g,dataSource:l,loading:u}))},Vt=function(e){var t=e.isAdmin,a=e.orgId,c=Object(n.useState)([]),l=Object(Le.a)(c,2),i=l[0],s=l[1],o=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("eventFeedback/get-by-org/",{params:{orgId:a,isAdmin:t,userId:localStorage.getItem("user_id")}});case 3:n=e.sent,s(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[a,t]);Object(n.useEffect)((function(){o()}),[o,a]);var u={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a.Title,{level:4},"Event Feedback"),r.a.createElement(Rt.a,{dataSource:i,columns:[{title:"Event Name",dataIndex:"event__name",key:"event__name",sorter:function(e,t){return e.event__name.localeCompare(t.event__name)}},{title:"Volunteer Name",dataIndex:"name",key:"name",sorter:function(e,t){return e.name.localeCompare(t.name)}},{title:"Volunteer Email",dataIndex:"username__email",key:"username__email",sorter:function(e,t){return e.username__email.localeCompare(t.username__email)}},{title:"Overall Experience",dataIndex:"overall",key:"overall",filters:[{text:"Poor",value:"Poor"},{text:"Fair",value:"Fair"},{text:"Average",value:"Average"},{text:"Good",value:"Good"},{text:"Excellent",value:"Excellent"}],filterMultiple:!0,onFilter:function(e,t){return t.overall===e}},{title:"Satisfaction",dataIndex:"satisfaction",key:"satisfaction",filters:[{text:"Very Dissatisfed",value:"Very Dissatisfied"},{text:"Dissatisfied",value:"Dissatisfied"},{text:"Neutral",value:"Neutral"},{text:"Satisfied",value:"Satisfied"},{text:"Very Satisfied",value:"Very Satisfied"}],filterMultiple:!0,onFilter:function(e,t){return t.satisfaction===e}},{title:"Recommend Likelihood",dataIndex:"likely",key:"likely",filters:[{text:"Very Unlikely",value:"Very Unlikely"},{text:"Somewhat Unlikely",value:"Somewhat Unlikely"},{text:"Neutral",value:"Neutral"},{text:"Somewhat Likely",value:"Somewhat Likely"},{text:"Very Likely",value:"Very Likely"}],filterMultiple:!0,onFilter:function(e,t){return t.likely===e}},{title:"Met Expectations",dataIndex:"expectations",key:"expectations",filters:[{text:"Yes",value:"Yes"},{text:"No",value:"No"}],filterMultiple:!0,onFilter:function(e,t){return t.expectations===e}},{title:"Future Volunteer",dataIndex:"future",key:"future",filters:[{text:"Yes",value:"Yes"},{text:"No",value:"No"}],filterMultiple:!0,onFilter:function(e,t){return t.future===e}}],expandedRowRender:function(e){return r.a.createElement("p",null,r.a.createElement("b",null,"Event Details"),r.a.createElement("br",null),"Name: ",e.event__name,r.a.createElement("br",null),"Location: ",e.event__location,r.a.createElement("br",null),"Date: ",new Date(e.event__begindate).toLocaleString("en-US",u)," - ",new Date(e.event__enddate).toLocaleString("en-US",u),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Additional Feedback"),r.a.createElement("br",null),"What could we have done better?",r.a.createElement("br",null),e.better,r.a.createElement("br",null),r.a.createElement("br",null),"Is there anything else we should know about your volunteer experience?",r.a.createElement("br",null),e.experience,r.a.createElement("br",null))}}))},zt=a(85),Ut=a.n(zt);var Wt=function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a.Title,{level:5},"Summary"),r.a.createElement(Ut.a,{data:[{type:"funnel",y:["Number of Members","Members who Attended Events","Members who Provided Feedback"],x:t}],layout:{margin:{l:250},width:800}}))};var Yt=function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a.Title,{level:5},"Volunteer Leaderboard"),r.a.createElement(Rt.a,{columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Events Attended",dataIndex:"count",key:"count",defaultSortOrder:"descend",sorter:function(e,t){return e.count-t.count}},{title:"Volunteer Hours",dataIndex:"total",key:"total",defaultSortOrder:"descend",sorter:function(e,t){return e.total-t.total}}],pagination:{pageSize:5},expandedRowRender:function(e){return r.a.createElement("p",{style:{margin:0}},r.a.createElement("b",null,"Events Attended: "),e.event_list)},dataSource:t}))};var Gt=function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ut.a,{data:[{type:"pie",labels:t.ratings_arr[0],values:t.ratings_arr[1]}],layout:{width:360,height:270,title:"Rating"}}),r.a.createElement(Ut.a,{data:[{type:"pie",labels:t.satisfactions_arr[0],values:t.satisfactions_arr[1]}],layout:{width:360,height:270,title:"Satisfaction"}}),r.a.createElement(Ut.a,{data:[{type:"pie",labels:t.likely_arr[0],values:t.likely_arr[1]}],layout:{width:360,height:270,title:"Recommend Likelihood"}}),r.a.createElement(Ut.a,{data:[{type:"pie",labels:t.expectations_arr[0],values:t.expectations_arr[1]}],layout:{width:360,height:270,title:"Met Expectations"}}),r.a.createElement(Ut.a,{data:[{type:"pie",labels:t.future_arr[0],values:t.future_arr[1]}],layout:{width:360,height:270,title:"Future Volunteer"}}))};var Ht=function(e){var t=e.data,a={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a.Title,{level:5},"Event Leaderboard"),r.a.createElement(Rt.a,{columns:[{title:"Event",dataIndex:"event__name",key:"event__name"},{title:"Volunteers",dataIndex:"count",key:"count",defaultSortOrder:"descend",sorter:function(e,t){return e.count-t.count}},{title:"Average Rating",dataIndex:"avg_rating",key:"avg_rating",defaultSortOrder:"descend",sorter:function(e,t){return e.count-t.count}},{title:"Average Satisfaction",dataIndex:"avg_satisfaction",key:"avg_satisfaction",defaultSortOrder:"descend",sorter:function(e,t){return e.total-t.total}}],pagination:{pageSize:5},expandedRowRender:function(e){return r.a.createElement("p",null,r.a.createElement("b",null,"Event Details"),r.a.createElement("br",null),"Name: ",e.event__name,r.a.createElement("br",null),"Location: ",e.event__location,r.a.createElement("br",null),"Date: ",new Date(e.event__begindate).toLocaleString("en-US",a)," - ",new Date(e.event__enddate).toLocaleString("en-US",a),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Attendes: "),e.attendees,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Gt,{data:e}))},dataSource:t}))};var Bt=function(e){var t=e.data,a=[{title:"",dataIndex:"label",key:"label",ellipsis:!0,render:function(e){return r.a.createElement("b",null,e)}},{title:"Count",dataIndex:"count",key:"count",ellipsis:!0},{title:"Hours",dataIndex:"hours",key:"hours",ellipsis:!0}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a.Title,{level:5},"Volunteer Breakdown"),r.a.createElement(Rt.a,{dataSource:t,columns:a,expandedRowRender:function(e){return r.a.createElement("p",{style:{margin:0}},r.a.createElement("b",null,"Volunteer Names: "),e.name)},rowExpandable:function(e){return"Total"!==e.label},pagination:!1}),r.a.createElement("br",null),r.a.createElement("br",null))},Qt=function(e){var t=e.orgId,a=Object(n.useState)([0,0,0,0]),c=Object(Le.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)([]),o=Object(Le.a)(s,2),u=o[0],m=o[1],d=Object(n.useState)([]),b=Object(Le.a)(d,2),v=b[0],g=b[1],h=Object(n.useState)([]),E=Object(Le.a)(h,2),y=E[0],k=E[1],w=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("analytics/volunteer-funnel/",{params:{org_id:t}});case 3:a=e.sent,i(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t]);Object(n.useEffect)((function(){t&&w(t)}),[]);var j=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("analytics/volunteer-breakdown/",{params:{org_id:t}});case 3:a=e.sent,m(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t]);Object(n.useEffect)((function(){t&&j(t)}),[]);var x=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("analytics/volunteer-leaderboard/",{params:{org_id:t}});case 3:a=e.sent,g(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t]);Object(n.useEffect)((function(){t&&x(t)}),[]);var _=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("analytics/event-leaderboard/",{params:{org_id:t}});case 3:a=e.sent,k(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t]);return Object(n.useEffect)((function(){t&&_(t)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a.Title,{level:4},"Analytics"),r.a.createElement(Wt,{data:l}),r.a.createElement(Bt,{data:u}),r.a.createElement(Yt,{data:v}),r.a.createElement(Ht,{data:y}))},Kt=a(608),Jt=A.a.Title,Xt=Qe.a.Option;var Zt=function(e){var t=e.orgId,a=Object(n.useState)([]),c=Object(Le.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(!0),o=Object(Le.a)(s,2),u=o[0],m=o[1],d=(localStorage.getItem("user_id"),Object(n.useState)(!1)),b=Object(Le.a)(d,2),v=b[0],g=b[1],h=Object(n.useState)(!1),E=Object(Le.a)(h,2),y=E[0],k=E[1],w=Object(n.useState)([]),j=Object(Le.a)(w,2),x=j[0],_=j[1],S=Object(n.useState)(0),I=Object(Le.a)(S,2),C=I[0],N=I[1],F=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("organization/get-invites/",{params:{org_id:t}});case 3:(a=e.sent).data.forEach((function(e){return e.key=e.id})),i(a.data),m(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[t]),q=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),e.next=4,O.post("member/invite/",{emails:x,member_type:C,org_id:t});case 4:_([]),F(),D.b.success("Invitation sent"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),D.b.error("Invitations could not be sent.");case 13:k(!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])}))),[x,F,_,C,t,k]),T=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.delete("invite/delete/",{params:{invite_id:t}});case 3:e.sent,i(l.filter((function(e){return e.key!==t}))),D.b.success("Invitation deleted"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),D.b.error("Invitation could not be deleted.");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[l]);Object(n.useEffect)((function(){t&&F(t)}),[t]);var A=[{title:"Email",dataIndex:"email",key:"email"},{title:"Role",dataIndex:"role",key:"role",render:function(e,t){return 1===t.member_type?"Admin":"Member"}},{title:"Status",dataIndex:"status",key:"status",render:function(e,t){return"Active"}},{title:"Resend",key:"resend",render:function(e,t){return r.a.createElement(Dt.a,{title:"Are you sure you want to delete this member?",onConfirm:function(){},okText:"Yes",cancelText:"No"},r.a.createElement(P.a,{type:"primary"},"Resend"))}},{title:"Delete",key:"delete",render:function(e,t){return r.a.createElement(Dt.a,{title:"Are you sure you want to delete this invitation?",onConfirm:function(){return T(t.key)},okText:"Yes",cancelText:"No"},r.a.createElement(P.a,{type:"primary",danger:!0},"Delete"))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(Ee.a,{justify:"space-between"},r.a.createElement(Jt,{level:4},"Outstanding invites"),r.a.createElement(P.a,{type:"primary",icon:r.a.createElement(qt.a,null),onClick:function(){return g(!0)}},"Invite new members")),r.a.createElement(Rt.a,{columns:A,dataSource:l,loading:u})),r.a.createElement(Kt.a,{visible:v,title:"Invite new members",onOk:function(){},onCancel:function(){return g(!1)},footer:[r.a.createElement(P.a,{key:"back",onClick:function(){return g(!1)}},"Close"),r.a.createElement(P.a,{key:"submit",type:"primary",loading:y,onClick:q},"Send")]},r.a.createElement(Qe.a,{title:"hello:",defaultValue:0,style:{width:"100%",marginBottom:8},onChange:N,placeholder:"Member Type"},r.a.createElement(Xt,{value:0},"Member"),r.a.createElement(Xt,{value:1},"Admin")),r.a.createElement(Qe.a,{mode:"tags",style:{width:"100%"},onChange:function(e){return _(e)},tokenSeparators:[","],placeholder:"Emails",allowClear:!0},[])))},$t=a(602),ea=a(221),ta=a.n(ea),aa=(a(504),{Complete:r.a.createElement(ta.a,{color:"green"},"Complete"),Rejected:r.a.createElement(ta.a,{color:"red"},"Rejected"),Pending:r.a.createElement(ta.a,{color:"orange"},"Pending Approval"),None:r.a.createElement("p",null)}),na=function(e){var t=e.status;return aa[t]},ra=a(619);var ca=function(e){var t=e.orgId,a=e.fileList,c=Object(n.useState)([]),l=Object(Le.a)(c,2),i=l[0],s=l[1],o=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("clearances/get-user-files/",{params:{userId:localStorage.getItem("user_id"),orgId:t}});case 3:a=e.sent,n=a.data,r=n.map((function(e){return{uid:e.id,orgFormId:e.org_file,status:e.status,url:e.url,comment:e.comment}})),s(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),[t]);Object(n.useEffect)((function(){o(t)}),[t]);var u={listType:"text",fileList:[],onChange:function(e){var t=Object(L.a)(e.fileList);t=t.map((function(e){return e.response&&(e.url=e.response.data.filled_form),e})),s(t)}},m=[{title:"Incomplete File",dataIndex:"incomplete_file",key:"incomplete_file",render:function(e){return e?r.a.createElement("a",{target:"_blank",href:e},e.split("/").slice(-1)[0].split("?")[0]):null}},{title:"Your Uploaded File",dataIndex:"uploaded_file",key:"uploaded_file",render:function(e){return e?r.a.createElement("a",{target:"_blank",href:e},e.split("/").slice(-1)[0].split("?")[0]):null}},{title:"Status",dataIndex:"status",key:"status",render:function(e,t){return r.a.createElement(na,{status:t.status})}},{title:"Comment",dataIndex:"comment",key:"comment",render:function(e,t){return r.a.createElement("p",null,e)}},{title:"Upload New File",key:"upload",render:function(e){return r.a.createElement($t.a,Object.assign({},u,{customRequest:function(){var a=Object(f.a)(p.a.mark((function a(n){var r,c;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(r=new FormData).append("org_file_id",e.key),r.append("user_id",localStorage.getItem("user_id")),r.append("filled_form",n.file,n.file.name),r.append("status","Pending"),r.append("comment","N/A"),a.prev=6,a.next=9,O.post("clearances/upload-user-file",r,{headers:{"Content-Type":"multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW"}});case 9:c=a.sent,n.onSuccess(c,n.file),o(t),D.b.success("File uploaded"),a.next=19;break;case 15:a.prev=15,a.t0=a.catch(6),D.b.success("File failed to upload"),console.log(a.t0);case 19:case"end":return a.stop()}}),a,null,[[6,15]])})));return function(e){return a.apply(this,arguments)}}()}),r.a.createElement(P.a,{icon:r.a.createElement(ra.a,null)}," Upload "))}}];function d(e,t){return i.filter((function(e){return e.orgFormId==t})).length>0?i.filter((function(e){return e.orgFormId==t}))[0][e]:"status"==e?"None":null}var b=a.map((function(e,t){return{key:e.uid,incomplete_file:e.url,uploaded_file:d("url",e.uid),status:d("status",e.uid),comment:d("comment",e.uid)}}));return console.log(b),r.a.createElement("div",null,r.a.createElement(Rt.a,{columns:m,dataSource:b}))};A.a.Title;var la=function(e){var t=e.isAdmin,a=e.orgId,c=e.eId,l=Object(n.useState)([]),i=Object(Le.a)(l,2),s=i[0],o=i[1],u=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("clearances/get-org-files-for-event/",{params:{orgId:t,eventId:c}});case 3:a=e.sent,n=a.data,console.log("files",n),r=n.map((function(e){return{key:e.id,uid:e.id,name:e.url.split("/").slice(-1)[0].split("?")[0],status:"done",url:e.url,event:e.event,eventName:e.event__name}})),console.log(r),o(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),[a]);Object(n.useEffect)((function(){u(a)}),[a]);var m={listType:"picture",fileList:s,onChange:function(e){var t=Object(L.a)(e.fileList);t=t.map((function(e){return e.response&&(e.url=e.response.data.empty_form),e})),o(t)},customRequest:function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("empty_form",t.file,t.file.name),n.append("orgId",a),n.append("eventId",c),e.prev=4,e.next=7,O.post("clearances/upload-org-file",n,{headers:{"Content-Type":"multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW"}});case 7:r=e.sent,t.onSuccess(r,t.file),D.b.success("File uploaded"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),D.b.success("File failed to upload"),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}()};return r.a.createElement("div",null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement($t.a,m,r.a.createElement(P.a,{icon:r.a.createElement(ra.a,null)},"Upload New Form"))):r.a.createElement(ca,{orgId:a,fileList:s}))},ia=A.a.Title;var sa=function(e){var t=e.isAdmin,a=e.orgId,c=Object(n.useState)(!0),l=Object(Le.a)(c,2),i=l[0],s=l[1],o=Object(n.useState)([]),u=Object(Le.a)(o,2),m=u[0],d=u[1],b={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"},v=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("events/get-by-org/",{params:{orgId:a}});case 3:t=e.sent,(n=t.data).map((function(e){e.bdate=new Date(e.begindate).toLocaleString("en-US",b),e.edate=new Date(e.enddate).toLocaleString("en-US",b)})),d(n),s(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[d,a]);return Object(n.useEffect)((function(){v()}),[a,v]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ia,{level:4},"Manage clearances for upcoming events"),r.a.createElement(Rt.a,{columns:[{title:"Event",dataIndex:"name",key:"name"},{title:"Start Date",dataIndex:"bdate",key:"bdate"},{title:"End Date",dataIndex:"edate",key:"edate"}],dataSource:m,loading:i,expandedRowRender:function(e){return r.a.createElement(la,{isAdmin:t,orgId:a,eId:e.id})}}))},oa=a(158),ua=A.a.Paragraph;var ma=function(e){var t=e.orgId,a=e.eId,c=Object(n.useState)([]),l=Object(Le.a)(c,2),i=l[0],s=l[1],o=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("clearances/get-user-files-for-org/",{params:{orgId:t,eventId:a}});case 3:n=e.sent,r=n.data,c=r.map((function(e,t){return{key:e.id,user:e.user__email,url:e.url,status:e.status,comment:e.comment}})),s(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),[t]);Object(n.useEffect)((function(){o(t)}),[t]);var u=[{title:"User",dataIndex:"user",key:"user",render:function(e){return r.a.createElement("p",null,e)}},{title:"File",dataIndex:"url",key:"url",render:function(e){return e?r.a.createElement("a",{target:"_blank",href:e},e.split("/").slice(-1)[0].split("?")[0]):null}},{title:"Action",key:"action",render:function(e,t,a){return r.a.createElement(oa.a.Group,{defaultValue:t.status,onChange:function(e){return function(e,t){console.log(e.target.value),console.log(t);var a=e.target.value;try{O.post("clearances/set-status-user-file/",{id:t.key,status:a})}catch(n){console.error(n)}}(e,t)},buttonStyle:"solid"},r.a.createElement(oa.a.Button,{value:"Complete"},"Accept"),r.a.createElement(oa.a.Button,{value:"Rejected"},"Reject"))}},{title:"Comment",dataIndex:"comment",key:"comment",render:function(e,a,n){return r.a.createElement("div",{style:{marginLeft:4,flexGrow:100}},r.a.createElement(ua,{style:{width:"100%"},editable:{onChange:function(e){return function(e,a){var n=e;try{O.post("clearances/set-status-user-file/",{id:a.key,comment:n});o(t)}catch(r){console.error(r)}}(e,a)}}},a.comment))}}];return r.a.createElement("div",null,r.a.createElement(Rt.a,{columns:u,dataSource:i}))},da=A.a.Title;var pa=function(e){var t=e.orgId,a=Object(n.useState)(!0),c=Object(Le.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)([]),o=Object(Le.a)(s,2),u=o[0],m=o[1],d=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("events/get-by-org/",{params:{orgId:t}});case 3:a=e.sent,(n=a.data).map((function(e){e.bdate=new Date(e.begindate).toLocaleString("en-US",b),e.edate=new Date(e.enddate).toLocaleString("en-US",b)})),m(n),i(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[m,t]);Object(n.useEffect)((function(){d()}),[t,d]);var b={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(da,{level:4},"Manage uploaded clearances"),r.a.createElement(Rt.a,{columns:[{title:"Event",dataIndex:"name",key:"name"},{title:"Start Date",dataIndex:"bdate",key:"bdate"},{title:"End Date",dataIndex:"edate",key:"edate"}],dataSource:u,loading:l,expandedRowRender:function(e){return r.a.createElement(ma,{orgId:t,eId:e.id})}}))},fa=(a(576),M.a.TextArea),ba=A.a.Title;var va=function(e){var t=e.orgId,a=Object(n.useState)([]),c=Object(Le.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)(!0),u=Object(Le.a)(o,2),m=u[0],d=u[1],b=Object(n.useState)([]),v=Object(Le.a)(b,2),g=v[0],h=v[1],E=Object(i.c)(),y=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("organization/get-members/",{params:{org_id:t}});case 3:(a=e.sent).data.forEach((function(e){return e.key=e.id})),s(a.data),d(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[t]);Object(n.useEffect)((function(){t&&y(t)}),[y,t]);var k=Object(n.useCallback)((function(e,t){h(t)}),[]),w=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(g),e.prev=1,e.next=4,O.post("member/email/",{subject:t.subject,body:t.body,membersList:g});case 4:E(Y("Email sent","success")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),E(Y("Email not sent","error"));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),[E,g]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ba,{level:4},"Email members"),r.a.createElement(Rt.a,{className:"member-table",rowSelection:{onChange:k},columns:[{title:"First",dataIndex:["user","first_name"],key:"first",width:"25%"},{title:"Last",dataIndex:["user","last_name"],key:"last",width:"25%"},{title:"Email",dataIndex:["user","email"],key:"email",width:"25%"},{title:"Role",dataIndex:"role",key:"role",render:function(e,t){return 1===t.member_type?"Admin":"Member"},width:"25%"}],dataSource:l,loading:m}),r.a.createElement(R.a,{name:"org",className:"org-form",initialValues:{remember:!0},onFinish:w},r.a.createElement(R.a.Item,{name:"subject",hasFeedback:!0,rules:[{required:!0,message:"Email subject is required."}]},r.a.createElement(M.a,{placeholder:"Email subject"})),r.a.createElement(R.a.Item,{name:"body",hasFeedback:!0,rules:[{required:!0,message:"Email body is required."}]},r.a.createElement(fa,{row:6,style:{width:"100%"},placeholder:"Email body here..."})),r.a.createElement(R.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"org-form-button"},"Send email"))))},ga=A.a.Title;var ha=function(e){var t=e.orgId,a=Object(n.useState)([]),c=Object(Le.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(!0),o=Object(Le.a)(s,2),u=o[0],m=o[1],d=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("event/get-attendees/",{params:{org_id:t}});case 3:a=e.sent,i(a.data),m(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[t]);Object(n.useEffect)((function(){d()}),[]);var b={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ga,{level:4},"Attendees"),r.a.createElement(Rt.a,{columns:[{title:"Upcoming Event",dataIndex:"events__name",key:"events__name"},{title:"Attendees",dataIndex:"count",key:"count"},{title:"Cap",dataIndex:"events__attendee_cap",key:"events__attendee_cap"}],dataSource:l,loading:u,expandedRowRender:function(e){return r.a.createElement("p",null,r.a.createElement("b",null,"Event Details"),r.a.createElement("br",null),"Name: ",e.events__name,r.a.createElement("br",null),"Location: ",e.events__location,r.a.createElement("br",null),"Date: ",new Date(e.events__begindate).toLocaleString("en-US",b)," - ",new Date(e.events__enddate).toLocaleString("en-US",b),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Attendees: "),e.attendees)}}))},Ea=(a(577),A.a.Title),ya=st.a.TabPane;var ka=function(e){var t=e.member,a=e.orgId,c=Object(n.useState)(null),l=Object(Le.a)(c,2),i=l[0],s=l[1],o=Object(n.useState)("home"),u=Object(Le.a)(o,2),m=u[0],d=u[1],p=1===(null===t||void 0===t?void 0:t.member_type);return Object(n.useEffect)((function(){a&&(t&&s(t.organization),d("home"))}),[d,a,t]),r.a.createElement(r.a.Fragment,null,i&&r.a.createElement(Ea,{style:{textAlign:"center"},level:2},i.name),r.a.createElement(st.a,{activeKey:m,onChange:function(e){d(e),Q("/"+e)},style:{height:"100%"}},r.a.createElement(ya,{tab:"Home",key:"home",style:{height:"100%"}},r.a.createElement(At,{org:i})),p&&r.a.createElement(ya,{tab:"Invites",key:"invites"},r.a.createElement(Zt,{orgId:a})),r.a.createElement(ya,{tab:"Events",key:"events"},r.a.createElement(It,{orgId:a,viewmore:!1,eventId:-1})),r.a.createElement(ya,{tab:"Event Clearances",key:"clearance"},r.a.createElement(sa,{isAdmin:p,orgId:a})),p&&r.a.createElement(ya,{tab:"Attendees",key:"attendees"},r.a.createElement(ha,{orgId:a})),p&&r.a.createElement(ya,{tab:"Attendee Clearances",key:"clearance_table"},r.a.createElement(pa,{orgId:a})),r.a.createElement(ya,{tab:"Feedback",key:"feedback"},r.a.createElement(Vt,{isAdmin:null===t||void 0===t?void 0:t.member_type,orgId:a})),p&&r.a.createElement(ya,{tab:"Analytics",key:"analytics"},r.a.createElement(Qt,{orgId:a})),r.a.createElement(ya,{tab:"FAQ",key:"faq"},r.a.createElement(Ot,{isAdmin:p,orgId:a})),p&&r.a.createElement(ya,{tab:"Members",key:"members"},r.a.createElement(Pt,{orgId:a})),p&&r.a.createElement(ya,{tab:"Communication",key:"member_emails"},r.a.createElement(va,{orgId:a}))))};var wa=function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a.Title,{level:5},"Event Leaderboard"),r.a.createElement(Rt.a,{columns:[{title:"Event",dataIndex:"event__name",key:"event__name"},{title:"Nonprofit",dataIndex:"event__organizations__name",key:"event__organizations__name"},{title:"Rating",dataIndex:"overall",key:"overall",sorter:function(e,t){return e.overall-t.overall},defaultSortOrder:"descend"},{title:"Satisfaction",dataIndex:"satisfaction",key:"satisfaction",sorter:function(e,t){return e.satisfaction-t.satisfaction},defaultSortOrder:"descend"}],pagination:{pageSize:5},dataSource:t}))};var Oa=function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a.Title,{level:5},"Nonprofit Breakdown"),r.a.createElement(Rt.a,{columns:[{title:"Nonprofit",dataIndex:"events__organizations__name",key:"events__organizations__name"},{title:"Events",dataIndex:"count",key:"count",sorter:function(e,t){return e.count-t.count},defaultSortOrder:"descend"},{title:"Hours",dataIndex:"hours",key:"hours",sorter:function(e,t){return e.hours-t.hours},defaultSortOrder:"descend"}],pagination:{pageSize:5},expandedRowRender:function(e){return r.a.createElement("p",{style:{margin:0}},r.a.createElement("b",null,"Events Attended: "),e.events)},dataSource:t}))};var ja=function(e){var t=e.data,a=[{title:"",dataIndex:"label",key:"label",ellipsis:!0,render:function(e){return r.a.createElement("b",null,e)}},{title:"Nonprofits",dataIndex:"nonprofits",key:"nonprofits",ellipsis:!0},{title:"Events",dataIndex:"events",key:"events",ellipsis:!0},{title:"Hours",dataIndex:"hours",key:"hours",ellipsis:!0}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a.Title,{level:5},"Summary"),r.a.createElement(Rt.a,{dataSource:t,columns:a,expandedRowRender:function(e){return r.a.createElement("p",{style:{margin:0}},r.a.createElement("b",null,"Nonprofits: "),e.nonprofits_list,r.a.createElement("br",null),r.a.createElement("b",null,"Events: "),e.events_list,r.a.createElement("br",null))},pagination:!1}),r.a.createElement("br",null),r.a.createElement("br",null))},xa=a(324);var _a=function(e){var t=e.data,a=[{title:"Start Date",dataIndex:"begindate",key:"begindate",defaultSortOrder:"descend"},{title:"End Date",dataIndex:"enddate",key:"enddate",defaultSortOrder:"ascend"},{title:"Hours Completed",dataIndex:"completed",key:"completed"},{title:"Goal Hours",dataIndex:"hours",key:"hours"},{title:"Progress",dataIndex:"progress",key:"progress",render:function(e,t){return r.a.createElement(xa.a,{percent:t.progress})}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a.Title,{level:5},"Goals"),r.a.createElement(Rt.a,{columns:a,pagination:{pageSize:5},dataSource:t}))},Sa=function(){var e=localStorage.getItem("user_id"),t=Object(n.useState)([]),a=Object(Le.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)([]),s=Object(Le.a)(i,2),o=s[0],u=s[1],m=Object(n.useState)([]),d=Object(Le.a)(m,2),b=d[0],v=d[1],g=Object(n.useState)([]),h=Object(Le.a)(g,2),E=h[0],y=h[1],k=Object(n.useState)([]),w=Object(Le.a)(k,2),j=w[0],x=w[1],_=Object(n.useCallback)(Object(f.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.get("analytics/get-monthly-hours/",{params:{user:e}});case 3:a=t.sent,l(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e]);Object(n.useEffect)((function(){_()}),[]),K("/volunteer-analytics");var S=Object(n.useCallback)(Object(f.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.get("analytics/volunteer-summary/",{params:{user:e}});case 3:a=t.sent,u(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e]);Object(n.useEffect)((function(){S()}),[]);var I=Object(n.useCallback)(Object(f.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.get("analytics/get-volunteer-goals/",{params:{user:e}});case 3:a=t.sent,v(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e]);Object(n.useEffect)((function(){I()}),[]);var C=Object(n.useCallback)(Object(f.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.get("analytics/nonprofit-breakdown/",{params:{user:e}});case 3:a=t.sent,y(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e]);Object(n.useEffect)((function(){C()}),[]);var N=Object(n.useCallback)(Object(f.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.get("analytics/volunteer-event-leaderboard/",{params:{user:e}});case 3:a=t.sent,x(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e]);return Object(n.useEffect)((function(){N()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a.Title,{level:2},"Analytics"),r.a.createElement(Ut.a,{data:[{type:"scatter",marker:{color:"blue"},x:c[0],y:c[1],row:1,col:1},{type:"bar",marker:{color:"blue"},x:c[2],y:c[3],xaxis:"x2",yaxis:"y2",row:1,col:2}],layout:{grid:{rows:1,columns:2,pattern:"independent"},showlegend:!1,title:"Volunteer Hours"}}),r.a.createElement(ja,{data:o}),r.a.createElement(_a,{data:b}),r.a.createElement(Oa,{data:E}),r.a.createElement(wa,{data:j}))},Ia=a(615),Ca=a(317),Na=A.a.Paragraph;var Fa=function(e){var t=e.item,a=Object(n.useState)([!1]),c=Object(Le.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(!1),o=Object(Le.a)(s,2),u=o[0],m=o[1],d=Object(n.useState)(!1),b=Object(Le.a)(d,2),v=b[0],g=b[1],h=Object(n.useState)(0),E=Object(Le.a)(h,2),y=E[0],k=E[1],w=function(){i(!l)},j=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,O.post("attendees/delete/",{user_id:localStorage.getItem("user_id"),event:t});case 4:D.b.success("Unjoined event"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),"Unjoin failed",D.b.error("Unjoin failed");case 11:m(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),[]),x=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,O.get("events/get-event-attendee-count/",{params:{event:t.events__id}});case 4:n=e.sent,k(n.data),g(!a),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),"Viewmore failed",D.b.error("Viewmore failed");case 13:m(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),[]),_={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"},S=new Date(t.events__begindate),I=new Date(t.events__enddate),C=t.events__virtual?"Yes.":"No.";return v?r.a.createElement(Ca.a,{content:r.a.createElement("div",null,r.a.createElement(A.a.Title,{level:4},t.events__name),r.a.createElement(Na,null,r.a.createElement("b",null,"Location: "),t.events__location),r.a.createElement(Na,null,r.a.createElement("b",null,"Date: "),S.toLocaleString("en-US",_)," - ",I.toLocaleString("en-US",_)),r.a.createElement(Na,null,r.a.createElement("b",null,"Description: "),t.events__description),r.a.createElement(Na,null,r.a.createElement("b",null,"Virtual? "),C),r.a.createElement(Na,null,r.a.createElement("b",null,"Instructions: "),t.events__instructions),r.a.createElement(Na,null,r.a.createElement("b",null,"No. of Attendees: "),y,"/",t.events__attendee_cap),r.a.createElement("p",{style:{color:"#1890ff"}},">>",r.a.createElement(P.a,{type:"link",className:"event-viewmore-form-button",onClick:function(){return x(v)}},"View Less")),r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"event-form-button",onClick:function(){return j(t.events__id)},loading:u},"Unjoin"),r.a.createElement("a",{onClick:w},"Close")),trigger:"click",visible:!l},r.a.createElement(P.a,{type:"link",className:"event-viewmore-form-button",onClick:w},"> ",t.events__name)):r.a.createElement(Ca.a,{content:r.a.createElement("div",null,r.a.createElement(A.a.Title,{level:4},t.events__name),r.a.createElement(Na,null,r.a.createElement("b",null,"Location: "),t.events__location),r.a.createElement(Na,null,r.a.createElement("b",null,"Date: "),S.toLocaleString("en-US",_)," - ",I.toLocaleString("en-US",_)),r.a.createElement(Na,null,r.a.createElement("b",null,"Description: "),t.events__description.substring(0,50),"..."),r.a.createElement("p",{style:{color:"#1890ff"}},r.a.createElement(P.a,{type:"link",className:"event-viewmore-form-button",onClick:function(){return x(v)}},"View More")),r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"event-form-button",onClick:function(){return j(t.events__id)},loading:u},"Unjoin"),r.a.createElement("a",{onClick:w},"Close")),trigger:"click",visible:!l},r.a.createElement(P.a,{type:"link",className:"event-viewmore-form-button",onClick:w},"> ",t.events__name))},qa=function(){var e=Object(n.useState)([]),t=Object(Le.a)(e,2),a=t[0],c=t[1];K("/calendar");var l=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("attendees/get-volunteer-events/",{params:{user_id:localStorage.getItem("user_id")}});case 3:t=e.sent,c(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]);return Object(n.useEffect)((function(){l()}),[]),r.a.createElement("div",{align:"center"},r.a.createElement(A.a.Title,{level:2},"View My Events"),r.a.createElement(Ia.a,{dateCellRender:function(e){var t=function(e){return a.filter((function(t){var a=new Date(t.events__begindate),n=new Date(t.events__enddate);return console.log("date issue "+e.year()),e.month()<=n.getMonth()&&e.month()>=a.getMonth()&&e.date()<=n.getDate()&&e.date()>=a.getDate()&&e.year()<=n.getFullYear()&&e.year()>=a.getFullYear()}))||[]}(e);return r.a.createElement("ul",{className:"events"},t.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(Fa,{key:t,item:e}))})))},monthCellRender:function(e){var t=function(e){return a.filter((function(t){var a=new Date(t.events__begindate),n=new Date(t.events__enddate);return e.month()<=n.getMonth()&&e.month()>=a.getMonth()&&e.year()<=n.getFullYear()&&e.year()>=a.getFullYear()}))||[]}(e);return r.a.createElement("ul",{className:"events"},t.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(Fa,{key:t,item:e}))})))}}))},Ta=mt.a.RangePicker,Aa=function(){var e=Object(i.c)(),t=Object(n.useCallback)(function(){var t=Object(f.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.post("user/create-goal/",{user_id:localStorage.getItem("user_id"),hours:a.hours,date:a.date});case 3:e(Y("Goal created","success")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e(Y("Goal creation failed","error"));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),[e]);return r.a.createElement(R.a,{name:"goal",className:"goal-form",initialValues:{remember:!0},onFinish:t},r.a.createElement(R.a.Item,{name:"hours",hasFeedback:!0,rules:[{required:!0,message:"Hours is required and must be a number."}]},r.a.createElement(M.a,{style:{width:"100%"},placeholder:"Volunteer Hours",type:"tel"})),r.a.createElement(R.a.Item,{name:"date",hasFeedback:!0,rules:[{required:!0,message:"Date is required."}]},r.a.createElement(Ta,{style:{width:"100%"}})),r.a.createElement(R.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"org-form-button"},"Set volunteering goal")))},La=(a(592),function(){return K("/set-goal"),r.a.createElement("div",{className:"goal-container"},r.a.createElement(A.a.Title,{level:2},"Set volunteering goal"),r.a.createElement(Aa,null))}),Da=function(e){var t=e.member,a=e.context;switch(a){case"create-org":return r.a.createElement(Xe,null);case"settings":return r.a.createElement(ut,null);case"create-event":return r.a.createElement(gt,null);case"set-goals":return r.a.createElement(La,null);case"calendar":return r.a.createElement(qa,null);case"view-analytics":return r.a.createElement(Sa,null);default:var n=parseInt(a);if(isNaN(n))return r.a.createElement(Xe,null);var c=t.filter((function(e){return e.organization.id===n}))[0];return r.a.createElement(ka,{member:c,orgId:n})}},Ra=T.a.Content,Ma=T.a.Sider,Pa=function(){var e=Object(n.useState)([]),t=Object(Le.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),s=Object(Le.a)(l,2),o=s[0],u=s[1],m=Object(n.useState)([]),d=Object(Le.a)(m,2),b=d[0],v=d[1],g=Object(i.d)((function(e){return e.alerts}),i.b),h=Object(i.c)(),E=Object(n.useCallback)((function(e){setTimeout((function(){return h(G(e))}),500)}),[h]),y=g.map((function(e){return r.a.createElement(q.a,{key:e.id,type:e.alert_type,message:e.message,banner:!0,closable:!0,onClose:function(){return E(e.id)}})})),k=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t,a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("user/get-member/",{params:{user_id:localStorage.getItem("user_id")}});case 3:t=e.sent,(a=t.data).length>0?(u(a),v([null===(n=a[0])||void 0===n||null===(r=n.organization)||void 0===r?void 0:r.id.toString()])):v(["create"]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[v,u]);return Object(n.useEffect)((function(){k()}),[k]),r.a.createElement(T.a,{style:{minHeight:"100vh"}},r.a.createElement(Ma,{width:240,style:{background:"#fff"}},r.a.createElement(Be,{selectedKeys:b,setSelectedKeys:v,member:o,setFeedContext:function(e){c(e)}})),r.a.createElement(T.a,null,y,r.a.createElement(T.a,{style:{padding:"24px",height:"100%"}},r.a.createElement(Ra,{style:{background:"#fff",padding:24,margin:0,display:"flex",flexDirection:"column"}},r.a.createElement(Da,{member:o,context:a})))))},Va=a(609),za=a(319),Ua=a(56),Wa=function(e){var t=e.invite,a=Object(m.f)(),c=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(t.email,n.first_name,n.last_name,n.password,t.id);case 3:a.push("/login"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[a,t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{name:"auth",className:"auth-form",initialValues:{remember:!0},onFinish:c},r.a.createElement(R.a.Item,null,r.a.createElement(M.a.Group,{compact:!0},r.a.createElement(R.a.Item,{name:"first_name",noStyle:!0,rules:[{required:!0,message:"First name is required"}]},r.a.createElement(M.a,{style:{width:"50%"},placeholder:"First name"})),r.a.createElement(R.a.Item,{name:"last_name",noStyle:!0,rules:[{required:!0,message:"Last name is required"}]},r.a.createElement(M.a,{style:{width:"50%"},placeholder:"Last name"})))),r.a.createElement(R.a.Item,{name:"password",hasFeedback:!0,rules:[{required:!0,message:"Password is a required field."},{min:12,message:"Password must be at least 12 characters long."}]},r.a.createElement(M.a,{prefix:r.a.createElement(z.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),r.a.createElement(R.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password."},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("Passwords do not match."):Promise.resolve()}}}]},r.a.createElement(M.a,{prefix:r.a.createElement(z.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Confirm password"})),r.a.createElement(R.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"auth-form-button"},"Create Account"))))},Ya=function(e){var t,a,c,l,i=e.isRegister,s=e.invite,o=e.user,u="Join ".concat(null!==(t=null===s||void 0===s||null===(a=s.organization)||void 0===a?void 0:a.name)&&void 0!==t?t:"Organization"),d="".concat(i?"Welcome!":"Hey there!"," You've been invited to join ").concat(null!==(c=null===s||void 0===s||null===(l=s.organization)||void 0===l?void 0:l.name)&&void 0!==c?c:"a new organization"," on VolunteerSense.\n    ").concat(i?"Get started my making an account.":"Do you want to join this organization?"),b=Object(m.f)(),v=i?te.a:$.a,g=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.post("invite/accept/",{invite_id:s.id,user_id:o.id});case 3:e.sent,b.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[o,s]),h=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.delete("invite/reject/",{params:{invite_id:s.id}});case 3:e.sent,b.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[o,s]);return r.a.createElement(T.a,{style:{height:"100vh"}},r.a.createElement(T.a.Content,{className:"auth-content"},r.a.createElement("div",{className:"auth-container"},r.a.createElement(et.a,{active:!0,loading:!s,paragraph:!1},r.a.createElement(A.a.Title,{level:2},u)),r.a.createElement(et.a,{active:!0,loading:!s,title:!1},r.a.createElement(A.a.Paragraph,{level:2},d)),r.a.createElement("img",{className:"auth-logo",src:v,alt:u+" logo"}),i?r.a.createElement(Wa,{invite:s}):r.a.createElement(jt.b,{style:{width:"100%"}},r.a.createElement(P.a,{style:{width:196},type:"primary",onClick:g},"Join"),r.a.createElement(P.a,{style:{width:196},type:"primary",danger:!0,onClick:h},"Decline Invitation")))))},Ga=1,Ha=2,Ba=3,Qa=4,Ka=function(){var e=Object(n.useState)(Ga),t=Object(Le.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),i=Object(Le.a)(l,2),s=i[0],o=i[1],u=Object(n.useState)(null),m=Object(Le.a)(u,2),d=m[0],b=m[1];Object(n.useEffect)((function(){v()}),[]);var v=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t,a,n,r,l,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=window.location.search,a=t.split(/[?&=]/),n="",r=0;case 5:if(!(r<a.length-1)){e.next=12;break}if("rt"!==a[r]){e.next=9;break}return n=a[r+1],e.abrupt("break",12);case 9:r++,e.next=5;break;case 12:if(""===n){e.next=20;break}return l="invite/validate/".concat(t),e.next=16,O.get(l);case 16:200===(i=e.sent).status?(console.log(i.data.user),""!==i.data.user.email?(c(Ba),o(i.data.user)):c(Ha),b(i.data.invite)):c(Qa),e.next=21;break;case 20:c(Qa);case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),c(Qa);case 26:case"end":return e.stop()}}),e,null,[[0,23]])}))),[c]),g=r.a.createElement(Ua.a,{style:{fontSize:24},spin:!0});switch(a){case Qa:return r.a.createElement(Va.a,{status:"error",title:"Failed to join organization",subTitle:"Your invitation token may be expired, or otherwise invalid. Contact the group administrator to receive another invitation.",extra:[r.a.createElement(P.a,{key:"home",href:"/"},"Return home")]});case Ga:return r.a.createElement(za.a,{indicator:g});default:return r.a.createElement(Ya,{isRegister:a===Ha,invite:d,user:s})}},Ja=1,Xa=2,Za=3,$a=function(){var e=Object(n.useState)(Ja),t=Object(Le.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){l()}),[]);var l=function(){var e=Object(f.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.location.search,a="users/activate/".concat(t),e.next=5,O.get(a);case 5:c(Xa),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c(Za);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),i=r.a.createElement(Ua.a,{style:{fontSize:24},spin:!0});switch(a){case Xa:return r.a.createElement(Va.a,{status:"success",title:"Successfully activated account",extra:[r.a.createElement(P.a,{type:"primary",key:"login",href:"/login"},"Login"),r.a.createElement(P.a,{key:"home",href:"/"},"Return home")]});case Za:return r.a.createElement(Va.a,{status:"error",title:"Failed to activate account",subTitle:"Your activation token may be expired, or otherwise invalid.",extra:[r.a.createElement(P.a,{type:"primary",key:"resend",href:"/"},"Resend confirmation email"),r.a.createElement(P.a,{key:"home",href:"/"},"Return home")]});default:return r.a.createElement(za.a,{indicator:i})}},en=(a(593),M.a.TextArea),tn=function(){var e=Object(n.useState)(!1),t=Object(Le.a)(e,2),a=t[0],c=t[1],l=Object(i.c)(),s=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,O.post("eventFeedback/create/",{id:new URLSearchParams(window.location.search).get("attendee_id"),overall:t.overall,satisfaction:t.satisfaction,likely:t.likely,expectations:t.expectations,future:t.future,better:t.better,experience:t.experience});case 4:console.log("here feedback"),l(Y("Feedback submitted","success")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l(Y("Feedback submission failed","error"));case 11:c(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),[l]),o=Object(n.useState)([]),u=Object(Le.a)(o,2),m=u[0],d=u[1];Object(n.useEffect)((function(){b()}),[]);var b=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("event/get-event-by-id/",{params:{attendee_id:new URLSearchParams(window.location.search).get("attendee_id")}});case 3:t=e.sent,d(t.data[0]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),v=[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],g={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return r.a.createElement(R.a,{name:"event-feedback",className:"event-feedback-form",initialValues:{remember:!0},onFinish:s},r.a.createElement("p",null,r.a.createElement("strong",null,"Name: "),m.username__first_name," ",m.username__last_name,r.a.createElement("br",null),r.a.createElement("strong",null,"Email: "),m.username__email,r.a.createElement("br",null),r.a.createElement("strong",null,"Organization: ")," ",m.events__organizations__name,r.a.createElement("br",null),r.a.createElement("strong",null,"Event: "),m.events__name," ",r.a.createElement("br",null),r.a.createElement("strong",null,"Location: "),m.events__location,r.a.createElement("br",null),r.a.createElement("strong",null,"Date: "),new Date(m.events__begindate).toLocaleString("en-US",g)," - ",new Date(m.events__enddate).toLocaleString("en-US",g),r.a.createElement("br",null)),r.a.createElement("p",null,"How would you rate your overall experience?"),r.a.createElement(R.a.Item,{name:"overall",hasFeedback:!0,rules:[{required:!0,message:"Overall experience rating required."}]},r.a.createElement(oa.a.Group,{options:[{label:"Poor",value:1},{label:"Fair",value:2},{label:"Average",value:3},{label:"Good",value:4},{label:"Excellent",value:5}],optionType:"button",buttonStyle:"solid"})),r.a.createElement("p",null,"How satisfied did you feel after volunteering?"),r.a.createElement(R.a.Item,{name:"satisfaction",hasFeedback:!0,rules:[{required:!0,message:"Satisfiaction rating required."}]},r.a.createElement(oa.a.Group,{options:[{label:"Very Dissatisfied",value:1},{label:"Dissatisfied",value:2},{label:"Neutral",value:3},{label:"Satisfied",value:4},{label:"Very Satisfied",value:5}],optionType:"button",buttonStyle:"solid"})),r.a.createElement("p",null,"How likely are you to recommend future volunteer opportunities to your friends?"),r.a.createElement(R.a.Item,{name:"likely",hasFeedback:!0,rules:[{required:!0,message:"Recommend rating required."}]},r.a.createElement(oa.a.Group,{options:[{label:"Very Unlikely",value:1},{label:"Somewhat Unlikely",value:2},{label:"Neutral",value:3},{label:"Somewhat Likely",value:4},{label:"Very Likely",value:5}],optionType:"button",buttonStyle:"solid"})),r.a.createElement("p",null,"Did the experience meet your expectations?"),r.a.createElement(R.a.Item,{name:"expectations",hasFeedback:!0,rules:[{required:!0,message:"Expectations rating required."}]},r.a.createElement(oa.a.Group,{options:v})),r.a.createElement("p",null,"Do you plan to volunteer with us again in the future?"),r.a.createElement(R.a.Item,{name:"future",hasFeedback:!0,rules:[{required:!0,message:"Future rating required."}]},r.a.createElement(oa.a.Group,{options:v})),r.a.createElement("p",null,"What could we have done better?"),r.a.createElement(R.a.Item,{name:"better",hasFeedback:!0},r.a.createElement(en,{row:6,style:{width:"100%"},placeholder:"Response here"})),r.a.createElement("p",null,"Is there anything else we should know about your volunteer experience?"),r.a.createElement(R.a.Item,{name:"experience",hasFeedback:!0},r.a.createElement(en,{row:6,style:{width:"100%"},placeholder:"Response here"})),r.a.createElement(R.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"event-feedback-form-button",loading:a},"Submit feedback")))},an=(a(594),function(){return K("/feedback-form"),r.a.createElement("div",{className:"event-feedback-container"},r.a.createElement(A.a.Title,{level:2},"Event Feedback"),r.a.createElement(tn,null))});a(595);var nn=function(){return r.a.createElement(ae,{isRegister:!0})},rn=function(){return r.a.createElement(ae,{isRegister:!1})},cn=function(){return Object(n.useEffect)((function(){document.title="VolunteerSense"}),[]),r.a.createElement("main",null,r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",render:function(){return localStorage.getItem("access_token")?r.a.createElement(Pa,null):r.a.createElement(Ae,null)}}),r.a.createElement(m.a,{path:"/login",component:rn}),r.a.createElement(m.a,{path:"/register",component:nn}),r.a.createElement(m.a,{path:"/activate",component:$a}),r.a.createElement(m.a,{path:"/invite",component:Ka}),r.a.createElement(m.a,{path:"/feedback",component:an})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ln=Object(s.c)(o);B.a.initialize("UA-189701909-1"),l.a.render(r.a.createElement(i.a,{store:ln},r.a.createElement(u.a,null,r.a.createElement(cn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},87:function(e,t,a){}},[[335,1,2]]]);
//# sourceMappingURL=main.5003258e.chunk.js.map