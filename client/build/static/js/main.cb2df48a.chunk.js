(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{115:function(e,t,a){},199:function(e,t,a){},263:function(e,t,a){},277:function(e,t,a){},334:function(e,t,a){},527:function(e,t,a){},536:function(e,t,a){},537:function(e,t,a){},544:function(e,t,a){},545:function(e,t,a){},552:function(e,t,a){},553:function(e,t,a){},609:function(e,t,a){},610:function(e,t,a){},613:function(e,t,a){},614:function(e,t,a){},615:function(e,t,a){},616:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),l=a.n(c),i=a(53),s=a(131),o=Object(s.b)({alerts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ALERT":return e.concat([t]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==t.id}));default:return e}}}),u=a(87),m=(a(334),a(50)),d=a(7),p=a.n(d),f=a(10),b=a(286),v=a.n(b),h=a(223),g=a.n(h),E=localStorage.getItem("access_token"),y=v.a.create({baseURL:"http://127.0.0.1:8000/api/",timeout:2e4,headers:{Authorization:"JWT "+E,"Content-Type":"application/json",accept:"application/json"}});y.interceptors.response.use((function(e){return e}),function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.config,!t.response||401!==t.response.status||a.url!==y.baseURL+"token/refresh/"){e.next=4;break}return window.location.href="/login/",e.abrupt("return",Promise.reject(t));case 4:if(!t.response||401!==t.response.status||"token_not_valid"!==t.response.data.code){e.next=21;break}return n=localStorage.getItem("refresh_token"),e.prev=6,e.next=9,y.post("/token/refresh/",{refresh:n});case 9:return r=e.sent,localStorage.setItem("access_token",r.data.access),localStorage.setItem("refresh_token",r.data.refresh),y.defaults.headers.Authorization="JWT "+r.data.access,a.headers.Authorization="JWT "+r.data.access,e.abrupt("return",y(a));case 17:return e.prev=17,e.t0=e.catch(6),window.location.href="/login/",e.abrupt("return",Promise.reject(t));case 21:return e.abrupt("return",Promise.reject(t));case 22:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}());function k(e){y.defaults.headers.Authorization="JWT "+e.data.access,localStorage.setItem("access_token",e.data.access),localStorage.setItem("refresh_token",e.data.refresh),localStorage.setItem("user_id",e.data.user_id)}g()(y,{retries:0,retryDelay:function(){return 1e3+1e3*Math.random()},retryCondition:g.a.isRetryableError});var w=y;function O(e,t,a,n){return j.apply(this,arguments)}function j(){return(j=Object(f.a)(p.a.mark((function e(t,a,n,r){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.post("users/create/",{email:t,first_name:a,last_name:n,password:r});case 2:return c=e.sent,localStorage.setItem("user",c.data),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t,a,n,r){return _.apply(this,arguments)}function _(){return(_=Object(f.a)(p.a.mark((function e(t,a,n,r,c){var l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(c),e.next=4,w.post("users/create-from-invite/",{email:t,first_name:a,last_name:n,password:r,invite_id:c});case 4:return l=e.sent,localStorage.setItem("user",l.data),e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return S.apply(this,arguments)}function S(){return(S=Object(f.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.post("token/obtain/",{email:t,password:a});case 2:return n=e.sent,localStorage.setItem("email",t),k(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return N.apply(this,arguments)}function N(){return(N=Object(f.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("user_id"),e.next=3,w.post("users/reset-password/",{user_id:n,old_password:t,new_password:a});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F,q=a(617),T=a(624),A=a(24),P=a(623),z=a(630),M=a(46),L=a(637),R=a(638),W=(a(63),a(199),function(e){var t=e.isRegister,a=Object(m.f)(),c=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=6;break}return e.next=4,O(n.email,n.first_name,n.last_name,n.password);case 4:e.next=9;break;case 6:return e.next=8,I(n.email,n.password);case 8:a.push("/");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),[t,a]),l=t?"Create account":"Log in",i=t?r.a.createElement(r.a.Fragment,null,"Already have an account? ",r.a.createElement(u.b,{to:"/login"},"Log in")):r.a.createElement(r.a.Fragment,null,"New user? ",r.a.createElement(u.b,{to:"/register"},"Create account"));return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{name:"auth",className:"auth-form",initialValues:{remember:!0},onFinish:c},"   ",t&&r.a.createElement(P.a.Item,null,r.a.createElement(z.a.Group,{compact:!0},r.a.createElement(P.a.Item,{name:"first_name",noStyle:!0,rules:[{required:!0,message:"First name is required"}]},r.a.createElement(z.a,{style:{width:"50%"},placeholder:"First name"})),r.a.createElement(P.a.Item,{name:"last_name",noStyle:!0,rules:[{required:!0,message:"Last name is required"}]},r.a.createElement(z.a,{style:{width:"50%"},placeholder:"Last name"})))),r.a.createElement(P.a.Item,{name:"email",hasFeedback:!0,rules:[{required:!0,message:"Email is a required field."},{type:"email",message:"Not a valid email."}]},r.a.createElement(z.a,{prefix:r.a.createElement(L.a,{className:"site-form-item-icon"}),placeholder:"Email"})),r.a.createElement(P.a.Item,{name:"password",hasFeedback:t,rules:[{required:!0,message:"Password is a required field."}].concat(Object(A.a)(t?[{min:12,message:"Password must be at least 12 characters long."}]:[]))},r.a.createElement(z.a,{prefix:r.a.createElement(R.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),t&&r.a.createElement(P.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password."},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("Passwords do not match."):Promise.resolve()}}}]},r.a.createElement(z.a,{prefix:r.a.createElement(R.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Confirm password"})),r.a.createElement(P.a.Item,null,r.a.createElement(M.a,{type:"primary",htmlType:"submit",className:"auth-form-button"},l),i,!t&&r.a.createElement(u.b,{className:"auth-form-forgot",to:"/register"},"Forgot password?"))))}),D=a.p+"static/media/login.8cc1ab77.svg",V=a.p+"static/media/register.c74b0f91.svg",U=(a(263),function(e){var t=e.isRegister,a=t?"Create account":"Log in",n=t?V:D;return r.a.createElement(q.a,{style:{height:"100vh"}},r.a.createElement(q.a.Content,{className:"auth-content"},r.a.createElement("div",{className:"auth-container"},r.a.createElement(T.a.Title,{level:2},a),r.a.createElement("img",{className:"auth-logo",src:n,alt:a+" logo"}),r.a.createElement(W,{isRegister:t}))))}),Q=a(11),G=a(12),Y=a(13),B=a(19),K=a(228),J=a(18),H=a(55),X=a(89),Z=a(4),$=/^http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w-./?%&=]*)?/,ee=function(e,t){var a=0===e.name.indexOf("title")?"h1":"div";a=e.href?"a":a;var n="string"===typeof e.children&&e.children.match($)?r.a.createElement("img",{src:e.children,alt:"img"}):e.children;return 0===e.name.indexOf("button")&&"object"===typeof e.children&&(n=r.a.createElement(M.a,Object(Z.a)({},e.children))),r.a.createElement(a,Object(Z.a)({key:t.toString()},e),n)},te=X.a.Item,ae=X.a.SubMenu,ne=function(e){Object(Y.a)(a,e);var t=Object(B.a)(a);function a(e){var n;return Object(Q.a)(this,a),(n=t.call(this,e)).phoneClick=function(){var e=!n.state.phoneOpen;n.setState({phoneOpen:e})},n.state={phoneOpen:void 0},n}return Object(G.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dataSource,n=t.isMobile,c=Object(J.a)(t,["dataSource","isMobile"]),l=this.state.phoneOpen,i=a.Menu.children.map((function(e){var t=e.children,a=e.subItem,n=Object(J.a)(e,["children","subItem"]);return a?r.a.createElement(ae,Object.assign({key:e.name},n,{title:r.a.createElement("div",Object.assign({},t,{className:"header3-item-block ".concat(t.className).trim()}),t.children.map(ee)),popupClassName:"header3-item-child"}),a.map((function(e,t){var a=e.children,n=a.href?r.a.createElement("a",a,a.children.map(ee)):r.a.createElement("div",a,a.children.map(ee));return r.a.createElement(te,Object.assign({key:e.name||t.toString()},e),n)}))):r.a.createElement(te,Object.assign({key:e.name},n),r.a.createElement("a",Object.assign({},t,{className:"header3-item-block ".concat(t.className).trim()}),t.children.map(ee)))})),s=void 0===l?300:null;return r.a.createElement(H.a,Object.assign({component:"header",animation:{opacity:0,type:"from"}},a.wrapper,c),r.a.createElement("div",Object.assign({},a.page,{className:"".concat(a.page.className).concat(l?" open":"")}),r.a.createElement(H.a,Object.assign({animation:{x:-30,type:"from",ease:"easeOutQuad"}},a.logo),r.a.createElement("img",{width:"100%",src:a.logo.children,alt:"img"})),n&&r.a.createElement("div",Object.assign({},a.mobileMenu,{onClick:function(){e.phoneClick()}}),r.a.createElement("em",null),r.a.createElement("em",null),r.a.createElement("em",null)),r.a.createElement(H.a,Object.assign({},a.Menu,{animation:n?{x:0,height:0,duration:300,onComplete:function(t){e.state.phoneOpen&&(t.target.style.height="auto")},ease:"easeInOutQuad"}:null,moment:s,reverse:!!l}),r.a.createElement(X.a,{mode:n?"inline":"horizontal",defaultSelectedKeys:["sub0"],theme:"light"},i))))}}]),a}(r.a.Component),re=a(191),ce=function(e){Object(Y.a)(a,e);var t=Object(B.a)(a);function a(){return Object(Q.a)(this,a),t.apply(this,arguments)}return Object(G.a)(a,[{key:"render",value:function(){var e=Object.assign({},this.props),t=e.dataSource;delete e.dataSource,delete e.isMobile;var a={queue:"bottom",one:{y:"+=30",opacity:0,type:"from",ease:"easeOutQuad"}};return r.a.createElement("div",Object.assign({},e,t.wrapper),r.a.createElement("div",t.page,r.a.createElement(re.a,Object.assign({key:"text",type:a.queue,leaveReverse:!0,ease:["easeOutQuad","easeInQuad"]},t.childWrapper,{componentProps:{md:t.childWrapper.md,xs:t.childWrapper.xs}}),t.childWrapper.children.map(ee)),r.a.createElement(H.a,Object.assign({animation:a.one,key:"title"},t.image),r.a.createElement("img",{src:t.image.children,width:"100%",alt:"img"}))))}}]),a}(r.a.PureComponent),le=a(144),ie=a(83),se=a(185),oe=a.n(se),ue=function(e){Object(Y.a)(a,e);var t=Object(B.a)(a);function a(){return Object(Q.a)(this,a),t.apply(this,arguments)}return Object(G.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dataSource,a=(e.isMobile,Object(J.a)(e,["dataSource","isMobile"])),n=t.wrapper,c=t.titleWrapper,l=t.page,i=t.OverPack,s=t.childWrapper;return r.a.createElement("div",Object.assign({},a,n),r.a.createElement("div",l,r.a.createElement("div",c,c.children.map(ee)),r.a.createElement(oe.a,i,r.a.createElement(re.a,{type:"bottom",key:"block",leaveReverse:!0,component:le.a,componentProps:s},s.children.map((function(e,t){var a=e.children,n=Object(J.a)(e,["children"]);return r.a.createElement(ie.a,Object.assign({key:t.toString()},n),r.a.createElement("div",a,a.children.map(ee)))}))))))}}]),a}(r.a.PureComponent),me=function(e){Object(Y.a)(a,e);var t=Object(B.a)(a);function a(){return Object(Q.a)(this,a),t.apply(this,arguments)}return Object(G.a)(a,[{key:"render",value:function(){var e=Object.assign({},this.props),t=e.dataSource;return delete e.dataSource,delete e.isMobile,r.a.createElement("div",Object.assign({},e,t.wrapper),r.a.createElement(oe.a,t.OverPack,r.a.createElement(H.a,t.links,t.links.children.map((function(e,t){return r.a.createElement("a",Object.assign({key:t.toString()},e),r.a.createElement("img",{src:e.children,height:"100%",alt:"img"}))}))),r.a.createElement(H.a,Object.assign({animation:{x:"+=30",opacity:0,type:"from"},key:"copyright"},t.copyright),t.copyright.children.map((function(e,t){return r.a.createElement(0===e.name.indexOf("title")?"h1":"div",Object(Z.a)({key:t.toString()},e),"string"===typeof e.children&&e.children.match($)?r.a.createElement("img",{src:e.children,alt:"img"}):e.children)})))))}}]),a}(r.a.PureComponent),de=a.p+"static/media/landing.453343af.svg",pe={wrapper:{className:"header3 home-page-wrapper jzih1dpqqrg-editor_css"},page:{className:"home-page"},logo:{className:"header3-logo jzjgnya1gmn-editor_css",children:a.p+"static/media/volunteersense.8b371f19.png"},Menu:{className:"header3-menu",children:[{name:"item1",className:"header3-item",children:{href:"/login",children:[{children:r.a.createElement("p",null,"Log in"),name:"text"}]}},{name:"item2",className:"header3-item",children:{href:"/register",children:[{children:r.a.createElement("p",null,"Register"),name:"text"}]}}]},mobileMenu:{className:"header3-mobile-menu"}},fe={wrapper:{className:"home-page-wrapper banner5"},page:{className:"home-page banner5-page"},childWrapper:{className:"banner5-title-wrapper",children:[{name:"title",children:"Connect with your volunteers",className:"banner5-title"},{name:"explain",className:"banner5-explain",children:"Build and engage your community with our volunteer management system."},{name:"button",className:"banner5-button-wrapper",children:{href:"#Feature0_0",className:"banner5-button",type:"primary",children:"Learn more"}}]},image:{className:"banner5-image",children:de}},be={wrapper:{className:"home-page-wrapper content0-wrapper"},page:{className:"home-page content0"},OverPack:{playScale:.3,className:""},titleWrapper:{className:"title-wrapper",children:[{name:"title",children:"About VolunteerSense"},{name:"explain",children:"Our secret recipe for wrangling your volunteers."}]},childWrapper:{className:"content0-block-wrapper",children:[{name:"block0",className:"content0-block",md:8,xs:24,children:{className:"content0-block-item",children:[{name:"image",className:"content0-block-icon",children:"https://zos.alipayobjects.com/rmsportal/WBnVOjtIlGWbzyQivuyq.png"},{name:"title",className:"content0-block-title",children:"Recruit"},{name:"content",children:"Easily onboard new volunteers and track their progress in signing required clearances."}]}},{name:"block1",className:"content0-block",md:8,xs:24,children:{className:"content0-block-item",children:[{name:"image",className:"content0-block-icon",children:"https://zos.alipayobjects.com/rmsportal/YPMsLQuCEXtuEkmXTTdk.png"},{name:"title",className:"content0-block-title",children:"Engage"},{name:"content",children:"Alert your community about new opportunities to get involved."}]}},{name:"block2",className:"content0-block",md:8,xs:24,children:{className:"content0-block-item",children:[{name:"image",className:"content0-block-icon",children:"https://zos.alipayobjects.com/rmsportal/EkXWVvAaFJKCzhMmQYiX.png"},{name:"title",className:"content0-block-title",children:"Retain"},{name:"content",children:"Remind your volunteers about upcoming events and solicit their feedback."}]}}]}},ve={wrapper:{className:"home-page-wrapper footer2-wrapper"},OverPack:{className:"home-page footer2",playScale:.05},copyright:{className:"copyright",children:[{name:"copyright",children:"Copyright \xa9 VolunteerSense",className:"copyright-text"}]},links:{className:"links",children:[]}};a(527);Object(K.enquireScreen)((function(e){F=e}));var he=("undefined"!==typeof window?window:{}).location,ge=void 0===he?{}:he,Ee=function(e){Object(Y.a)(a,e);var t=Object(B.a)(a);function a(e){var n;return Object(Q.a)(this,a),(n=t.call(this,e)).state={isMobile:F,show:!ge.port},n}return Object(G.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(K.enquireScreen)((function(t){e.setState({isMobile:!!t})})),ge.port&&setTimeout((function(){e.setState({show:!0})}),500)}},{key:"render",value:function(){var e=this,t=[r.a.createElement(ne,{id:"Nav3_0",key:"Nav3_0",dataSource:pe,isMobile:this.state.isMobile}),r.a.createElement(ce,{id:"Banner5_0",key:"Banner5_0",dataSource:fe,isMobile:this.state.isMobile}),r.a.createElement(ue,{id:"Feature0_0",key:"Feature0_0",dataSource:be,isMobile:this.state.isMobile}),r.a.createElement(me,{id:"Footer2_0",key:"Footer2_0",dataSource:ve,isMobile:this.state.isMobile})];return r.a.createElement("div",{className:"templates-wrapper",ref:function(t){e.dom=t}},this.state.show&&t)}}]),a}(r.a.Component),ye=a(5),ke=a(632),we=a(295),Oe=a.n(we);function je(e,t){return{type:"ADD_ALERT",id:Oe.a.generate(),message:e,alert_type:t}}var xe=a(639),_e=a(640),Ie=a(641),Se=a(642),Ce=a(643),Ne=a(644),Fe=(a(536),X.a.Divider),qe=X.a.Item,Te=X.a.SubMenu,Ae=function(e){var t=e.selectedKeys,a=e.setSelectedKeys,c=e.setFeedContext,l=e.member,i=Object(m.f)(),s=function(e){a([e.key])},o=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.post("token/blacklist/",{refresh_token:localStorage.getItem("refresh_token")});case 2:localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user_id"),w.defaults.headers.Authorization=null,i.push("/login");case 4:case"end":return e.stop()}}),e)}))),[i]);Object(n.useEffect)((function(){var e;c(null!==(e=t[0])&&void 0!==e?e:"")}),[t,c]);var u=l.map((function(e){var t,a;return r.a.createElement(qe,{key:null===e||void 0===e||null===(t=e.organization)||void 0===t?void 0:t.id},null===e||void 0===e||null===(a=e.organization)||void 0===a?void 0:a.name)}));return r.a.createElement("div",{className:"menu-container"},r.a.createElement(X.a,{mode:"inline",theme:"dark",selectedKeys:t,onSelect:s},r.a.createElement(Te,{title:"Take action",icon:r.a.createElement(xe.a,null)},r.a.createElement(qe,{className:"action-submenu-item",key:"create-event",icon:r.a.createElement(_e.a,null)},"Create event"),r.a.createElement(qe,{className:"action-submenu-item",key:"create-org",icon:r.a.createElement(Ie.a,null)},"Create organization"),r.a.createElement(qe,{className:"action-submenu-item",key:"find",icon:r.a.createElement(Se.a,null)},"Find service opportunities")),r.a.createElement(Fe,null)),r.a.createElement(X.a,{mode:"inline",theme:"dark",selectedKeys:t,onSelect:s},u),r.a.createElement(X.a,{mode:"inline",theme:"dark",selectedKeys:t,onSelect:s},r.a.createElement(Fe,null),r.a.createElement(qe,{key:"settings",icon:r.a.createElement(Ce.a,null)},"Manage user settings"),r.a.createElement(qe,{key:"logout",icon:r.a.createElement(Ne.a,null),onClick:o},"Logout")))},Pe=a(160),ze=(a(537),z.a.TextArea),Me=function(){var e=Object(n.useState)([]),t=Object(ye.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),s=Object(ye.a)(l,2),o=s[0],u=s[1],m=Object(i.c)(),d=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("causes/get/");case 3:t=e.sent,u(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[u]);Object(n.useEffect)((function(){d()}),[d]);var b=Object(n.useMemo)((function(){return o.filter((function(e){return!a.includes(e)}))}),[a,o]),v=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.post("organization/create/",{name:t.name,causes:t.causes,description:t.description,website:t.website,phone:t.phone,address:t.address,email:t.email});case 3:return e.next=5,w.post("member/create/",{user_id:localStorage.getItem("user_id"),organization:t.name,member_type:1,status:0});case 5:m(je("Organization created","success")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),m(je("Organization creation failed","error"));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[m]);return r.a.createElement(P.a,{name:"org",className:"org-form",initialValues:{remember:!0},onFinish:v},r.a.createElement(P.a.Item,{name:"name",hasFeedback:!0,rules:[{required:!0,message:"Organization name is required."}]},r.a.createElement(z.a,{style:{width:"100%"},placeholder:"Organization name",maxLength:128})),r.a.createElement(P.a.Item,{name:"causes",hasFeedback:!0},r.a.createElement(Pe.a,{mode:"multiple",placeholder:"Charitable cause(s)",value:a,onChange:c},b.map((function(e){return r.a.createElement(Pe.a.Option,{key:e.id,value:e.id},e.name)})))),r.a.createElement(P.a.Item,{name:"website"},r.a.createElement(z.a,{style:{width:"100%"},placeholder:"Website"})),r.a.createElement(P.a.Item,{name:"phone"},r.a.createElement(z.a,{style:{width:"100%"},placeholder:"Telephone"})),r.a.createElement(P.a.Item,{name:"email",hasFeedback:!0,rules:[{type:"email",message:"Not a valid email."}]},r.a.createElement(z.a,{placeholder:"Email"})),r.a.createElement(P.a.Item,{name:"address"},r.a.createElement(ze,{style:{width:"100%"},placeholder:"Street Address",autoSize:!0})),r.a.createElement(P.a.Item,{name:"description",hasFeedback:!0,rules:[{required:!0,message:"Organization description is required."}]},r.a.createElement(ze,{row:6,style:{width:"100%"},placeholder:"Describe your organization..."})),r.a.createElement(P.a.Item,null,r.a.createElement(M.a,{type:"primary",htmlType:"submit",className:"org-form-button"},"Create organization")))},Le=(a(115),function(){return r.a.createElement("div",{className:"org-container"},r.a.createElement(T.a.Title,{level:2},"Create organization"),r.a.createElement(Me,null))}),Re=T.a.Text,We=function(e){var t=e.user,a=Object(i.c)(),c=Object(n.useState)(!1),l=Object(ye.a)(c,2),s=l[0],o=l[1],u=Object(n.useState)(null===t||void 0===t?void 0:t.first_name),m=Object(ye.a)(u,2),d=m[0],b=m[1],v=Object(n.useState)(null===t||void 0===t?void 0:t.last_name),h=Object(ye.a)(v,2),g=h[0],E=h[1],y=Object(n.useState)(null===t||void 0===t?void 0:t.email),k=Object(ye.a)(y,2),O=k[0],j=k[1];Object(n.useEffect)((function(){b(null===t||void 0===t?void 0:t.first_name),E(null===t||void 0===t?void 0:t.last_name),j(null===t||void 0===t?void 0:t.email)}),[t]);var x=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=13;break}return e.prev=1,e.next=4,w.post("users/update/",{user_id:localStorage.getItem("user_id"),first_name:d,last_name:g,email:O});case 4:o(!1),a(je("Profile update success","success")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a(je("Profile update failed","error"));case 11:e.next=14;break;case 13:o(!0);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),[s,o,a,O,d,g]),_=function(e,t){return r.a.createElement(le.a,{style:{marginBottom:"8px"}},r.a.createElement(ie.a,{span:4},r.a.createElement(Re,null,e,":")),r.a.createElement(ie.a,{span:20},r.a.createElement(Re,null,t)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,Object.assign({name:"update-profile",onFinish:x,requiredMark:!1,initialValues:{first_name:d,last_name:g,email:O}},{labelCol:{span:4},labelAlign:"left"}),s?r.a.createElement(P.a.Item,{label:"Name"},r.a.createElement(z.a.Group,{compact:!0},r.a.createElement(P.a.Item,{name:"first_name",noStyle:!0,rules:[{required:!0,message:"First name is required"}]},r.a.createElement(z.a,{style:{width:"50%"},placeholder:"First name",value:d,onChange:function(e){b(e.target.value)}})),r.a.createElement(P.a.Item,{name:"last_name",noStyle:!0,rules:[{required:!0,message:"Last name is required"}]},r.a.createElement(z.a,{style:{width:"50%"},placeholder:"Last name",value:g,onChange:function(e){E(e.target.value)}})))):_("Name","".concat(d," ").concat(g)),s?r.a.createElement(P.a.Item,{label:"Email",name:"email",hasFeedback:!0,rules:[{required:!0,message:"Email is a required field."},{type:"email",message:"Not a valid email."}]},r.a.createElement(z.a,{placeholder:"Email",value:O,onChange:function(e){j(e.target.value)}})):_("Email",O),r.a.createElement(P.a.Item,null,r.a.createElement(M.a.Group,{style:{width:"100%"}},r.a.createElement(M.a,{style:{width:s?"50%":"100%",transition:"none"},type:"primary",htmlType:"submit"},s?"Update":"Edit"),r.a.createElement(M.a,{style:{width:"50%",transition:"none"},type:"secondary",onClick:function(){o(!1)},hidden:!s},"Cancel")))))},De=a(625),Ve=a(618);var Ue=function(){var e=Object(n.useState)(null),t=Object(ye.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){l()}),[]);var l=function(){var e=Object(f.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("user_id"),a="users/get/?user_id=".concat(t),e.next=4,w.get(a);case 4:n=e.sent,c(n.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{maxWidth:"600px"}},r.a.createElement(T.a.Title,{level:4},"Update Profile"),r.a.createElement(De.a,{active:!0,loading:!a,paragraph:{rows:3,width:"auto"},title:!1},r.a.createElement(We,{user:a}))),r.a.createElement(Ve.a,null))},Qe=function(){var e=Object(i.c)(),t=Object(n.useCallback)(function(){var t=Object(f.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C(a.old_password,a.new_password);case 3:e(je("Password reset success","success")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e(je("Old password incorrect","error"));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),[e]),a=Object(n.useCallback)(Object(f.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a="users/forgot-password/?user_id="+localStorage.getItem("user_id"),t.next=4,w.get(a);case 4:e(je("Password reset link sent to email","success")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e(je("Password reset email failed to send","error"));case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{name:"reset-password",className:"reset-password-form",initialValues:{remember:!0},onFinish:t},r.a.createElement(P.a.Item,{name:"old_password",hasFeedback:!0,rules:[{required:!0,message:"Old password is a required field."}]},r.a.createElement(z.a,{prefix:r.a.createElement(R.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Old password"})),r.a.createElement(P.a.Item,{name:"new_password",hasFeedback:!0,rules:[{required:!0,message:"New password is a required field."},{min:12,message:"Password must be at least 12 characters long."}]},r.a.createElement(z.a,{prefix:r.a.createElement(R.a,{className:"site-form-item-icon"}),type:"password",placeholder:"New password"})),r.a.createElement(P.a.Item,{name:"confirm",dependencies:["new_password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your new password."},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("new_password")!==a?Promise.reject("Passwords do not match."):Promise.resolve()}}}]},r.a.createElement(z.a,{prefix:r.a.createElement(R.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Confirm password"})),r.a.createElement(P.a.Item,null,r.a.createElement(M.a,{type:"primary",htmlType:"submit",className:"auth-form-button"},"Submit"),"Forgot password?",r.a.createElement(M.a,{type:"link",style:{paddingLeft:4,paddingRight:4},onClick:a},"Send a password reset email"))))};var Ge=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{maxWidth:"600px"}},r.a.createElement(T.a.Title,{level:4},"Reset password"),r.a.createElement(Qe,null)),r.a.createElement(Ve.a,null))},Ye=a(233),Be=Ye.a.TabPane,Ke=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a.Title,{level:3},"Manage user settings"),r.a.createElement(Ye.a,{defaultActiveKey:"1"},r.a.createElement(Be,{tab:"Profile",key:"1"},r.a.createElement(Ue,null)),r.a.createElement(Be,{tab:"Security",key:"2"},r.a.createElement(Ge,null))))},Je=(a(277),a(322)),He=a(631),Xe=(a(544),T.a.Paragraph);var Ze=function(e){var t=e.item,a=Object(n.useState)(!1),c=Object(ye.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(!1),o=Object(ye.a)(s,2),u=o[0],m=o[1],d=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!0),e.prev=1,!a){e.next=8;break}return e.next=5,w.post("attendees/delete/",{user_id:localStorage.getItem("user_id"),event:t});case 5:Je.b.success("Unjoined event"),e.next=11;break;case 8:return e.next=10,w.post("attendees/create/",{user_id:localStorage.getItem("user_id"),event:t});case 10:Je.b.success("Joined event");case 11:i(!a),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),n=a?"Join failed":"Unjoin failed",Je.b.error(n);case 18:m(!1);case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,a){return e.apply(this,arguments)}}(),[]),b=l?"Unjoin":"Join",v={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"},h=new Date(t.begindate),g=new Date(t.enddate);return r.a.createElement(He.a,{className:"event-card",title:t.name,bordered:!0},r.a.createElement(Xe,null,r.a.createElement("b",null,"Location: "),t.location),r.a.createElement(Xe,null,r.a.createElement("b",null,"Date: "),h.toLocaleString("en-US",v)," - ",g.toLocaleString("en-US",v)),r.a.createElement(Xe,null,r.a.createElement("b",null,"Description: "),t.description),r.a.createElement(M.a,{type:"primary",htmlType:"submit",className:"event-form-button",onClick:function(){return d(t.id,l)},loading:u},b))},$e=function(){var e=Object(n.useState)([]),t=Object(ye.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){l()}),[]);var l=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("events/get/");case 3:t=e.sent,c(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),i=a.map((function(e){return r.a.createElement(Ze,{key:e.id,item:e})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a.Title,{style:{textAlign:"center"},level:2},"Find service opportunities"),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",overflowY:"scroll"}},i))},et=a(621),tt=a(634),at=(a(545),z.a.TextArea),nt=et.a.RangePicker,rt=function(){var e=Object(n.useState)(!1),t=Object(ye.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),s=Object(ye.a)(l,2),o=s[0],u=s[1],m=Object(n.useState)([]),d=Object(ye.a)(m,2),b=d[0],v=d[1],h=Object(n.useState)([]),g=Object(ye.a)(h,2),E=g[0],y=g[1],k=Object(n.useState)([]),O=Object(ye.a)(k,2),j=O[0],x=O[1],_=Object(i.c)(),I=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("causes/get/");case 3:t=e.sent,v(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[v]),S=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("admin/get-orgs/",{params:{user_id:localStorage.getItem("user_id")}});case 3:t=e.sent,x(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[x]);Object(n.useEffect)((function(){I(),S()}),[I,S]);var C=Object(n.useMemo)((function(){return j.filter((function(e){return!E.includes(e)}))}),[E,j]),N=Object(n.useMemo)((function(){return b.filter((function(e){return!o.includes(e)}))}),[o,b]),F=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,w.post("event/create/",{name:t.name,virtual:t.virtual,location:t.location,causes:t.causes,organizations:t.organizations,date:t.date,description:t.description});case 4:_(je("Event created","success")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),_(je("Event creation failed","error"));case 10:c(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),[_,c]);return r.a.createElement(P.a,{name:"event",className:"event-form",initialValues:{remember:!0},onFinish:F},r.a.createElement(P.a.Item,{name:"organizations",hasFeedback:!0,rules:[{required:!0,message:"Organization name is required."}]},r.a.createElement(Pe.a,{mode:"multiple",placeholder:"Organization(s)",value:E,onChange:y,style:{width:"100%"}},C.map((function(e){return r.a.createElement(Pe.a.Option,{key:e.id,value:e.id},e.name)})))),r.a.createElement(P.a.Item,{name:"name",hasFeedback:!0,rules:[{required:!0,message:"Event name is required."}]},r.a.createElement(z.a,{style:{width:"100%"},placeholder:"Event name"})),r.a.createElement(P.a.Item,{name:"virtual",hasFeedback:!0,valuePropName:"checked"},r.a.createElement(tt.a,{checkedChildren:"Virtual",unCheckedChildren:"Non-virtual",defaultChecked:!0})),r.a.createElement(P.a.Item,{name:"location",hasFeedback:!0,rules:[{required:!0,message:"Location is required."}]},r.a.createElement(z.a,{style:{width:"100%"},placeholder:"Location"})),r.a.createElement(P.a.Item,{name:"date",hasFeedback:!0,rules:[{required:!0,message:"Date is required."}]},r.a.createElement(nt,{style:{width:"100%"},showTime:!0})),r.a.createElement(P.a.Item,{name:"causes",hasFeedback:!0,rules:[{required:!0,message:"Causes are required."}]},r.a.createElement(Pe.a,{mode:"multiple",placeholder:"Charitable cause(s)",value:o,onChange:u,style:{width:"100%"}},N.map((function(e){return r.a.createElement(Pe.a.Option,{key:e.id,value:e.id},e.name)})))),r.a.createElement(P.a.Item,{name:"description",hasFeedback:!0,rules:[{required:!0,message:"Description is required."}]},r.a.createElement(at,{row:6,style:{width:"100%"},placeholder:"Event description"})),r.a.createElement(P.a.Item,null,r.a.createElement(M.a,{type:"primary",htmlType:"submit",className:"event-form-button",loading:a},"Create event")))},ct=(a(552),function(){return r.a.createElement("div",{className:"event-container"},r.a.createElement(T.a.Title,{level:2},"Create event"),r.a.createElement(rt,null))}),lt=a(636),it=(a(553),T.a.Paragraph);var st=function(e){var t=e.isAdmin,a=e.item,c=e.removeFaq,l=Object(n.useState)((null===a||void 0===a?void 0:a.question)||""),i=Object(ye.a)(l,2),s=i[0],o=i[1],u=Object(n.useState)((null===a||void 0===a?void 0:a.answer)||""),m=Object(ye.a)(u,2),d=m[0],b=m[1],v=Object(n.useState)(!!(null===a||void 0===a?void 0:a.is_public)),h=Object(ye.a)(v,2),g=h[0],E=h[1],y=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(t),e.prev=1,e.next=4,w.post("faq/upsert/",{id:null===a||void 0===a?void 0:a.id,question:t,answer:d});case 4:Je.b.success("Question updated"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Je.b.error("Question failed to update");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(t),e.prev=1,e.next=4,w.post("faq/upsert/",{id:null===a||void 0===a?void 0:a.id,question:s,answer:t,is_public:g});case 4:Je.b.success("Answer updated"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Je.b.error("Answer failed to update");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(t),e.prev=1,e.next=4,w.post("faq/upsert/",{id:null===a||void 0===a?void 0:a.id,question:s,answer:d,is_public:t});case 4:Je.b.success("FAQ updated"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Je.b.error("FAQ failed to update");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.delete("faq/delete/",{params:{id:null===a||void 0===a?void 0:a.id}});case 3:c(null===a||void 0===a?void 0:a.id),Je.b.success("FAQ deleted"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Je.b.error("FAQ failed to delete");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(He.a,{style:{marginTop:8,marginBottom:8},loading:!a,actions:t&&[r.a.createElement(lt.a,{onClick:j,key:"delete"})]},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(it,{style:{float:"left",verticalAlign:"top",fontWeight:700}},"Question: "),"  ",r.a.createElement("div",{style:{marginLeft:4,flexGrow:100}},r.a.createElement(it,{style:{width:"100%"},editable:!!t&&{onChange:function(e){return y(e)}}},s))),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(it,{style:{float:"left",verticalAlign:"top",fontWeight:700}},"Answer: "),"  ",r.a.createElement("div",{style:{marginLeft:4,flexGrow:100}},r.a.createElement(it,{style:{width:"100%"},editable:!!t&&{onChange:function(e){return k(e)}}},d))),t&&r.a.createElement(tt.a,{checkedChildren:"Public",unCheckedChildren:"Hidden",onChange:function(e){return O(e)},defaultChecked:null===a||void 0===a?void 0:a.is_public}))},ot=T.a.Title;var ut=function(e){var t=e.isAdmin,a=e.orgId,c=Object(n.useState)([]),l=Object(ye.a)(c,2),i=l[0],s=l[1];console.log("isAdmin",t);var o=function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("organization/get-faq/",{params:{org_id:t}});case 3:a=e.sent,s(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),u=function(e){s(i.filter((function(t){return t.id!==e})))};Object(n.useEffect)((function(){a&&o(a)}),[a]);var m=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.post("faq/upsert/",{org_id:a,question:"question",answer:"answer"});case 2:t=e.sent,s([].concat(Object(A.a)(i),[{id:t.data.id,question:"question",answer:"answer"}]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(ot,{level:4},"Frequently asked questions"),i.map((function(e){return r.a.createElement(st,{isAdmin:t,key:e.id,item:e,removeFaq:u})})),t&&r.a.createElement(M.a,{style:{width:"100%"},type:"primary",onClick:function(){m()}},"Add New FAQ"))},mt=function(e){var t=e.orgId,a=Object(n.useState)([]),c=Object(ye.a)(a,2),l=c[0],i=c[1],s=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("events/get-by-org/",{params:{orgId:t}});case 3:a=e.sent,i(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[i,t]);Object(n.useEffect)((function(){s()}),[t,s]);var o=l.map((function(e){return r.a.createElement(Ze,{key:e.id,item:e})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a.Title,{level:4},"Upcoming events"),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",overflowY:"scroll"}},o))},dt=a(323),pt=a(626),ft=a(628),bt=a(633),vt=T.a.Paragraph,ht=(T.a.Title,function(e){var t=e.org,a=Object(n.useState)([]),c=Object(ye.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(!1),o=Object(ye.a)(s,2),u=o[0],m=o[1],d=Object(n.useState)(""),b=Object(ye.a)(d,2),v=b[0],h=b[1],g=Object(n.useRef)(),E=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===t||void 0===t?void 0:t.id)){e.next=11;break}return e.prev=1,e.next=4,w.get("organization/get-causes/",{params:{orgId:null===t||void 0===t?void 0:t.id}});case 4:a=e.sent,i(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[i,t]);Object(n.useEffect)((function(){E()}),[t,E]);var y=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=l.filter((function(e){return e.id!==t})),i(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[l,i]),k=Object(n.useCallback)((function(){var e=v&&-1===l.map((function(e){return e.name})).indexOf(v)?[].concat(Object(A.a)(l),[{name:v,id:e.length}]):l;i(e),m(!1),h("")}),[i,h,m,l]),O=r.a.createElement(r.a.Fragment,null,l.map((function(e){return r.a.createElement(dt.a,{key:e.id,color:"blue",closable:!0,onClose:function(t){t.preventDefault(),y(e.id)}},e.name)})),u&&r.a.createElement(z.a,{ref:g,type:"text",size:"small",style:{width:78},value:v,onChange:function(e){h(e.target.value)},onBlur:k,onPressEnter:k}),!u&&r.a.createElement(dt.a,{onClick:function(){m(!0)},className:"site-tag-plus"},r.a.createElement(bt.a,null)," New Tag"));return r.a.createElement(De.a,{loading:!t,active:!0},r.a.createElement(pt.a,{title:"About ".concat(null===t||void 0===t?void 0:t.name),className:"site-page-header",tags:O},r.a.createElement(ft.a,null,(null===t||void 0===t?void 0:t.website)&&r.a.createElement(ft.a.Item,{label:"Website"},r.a.createElement("a",{href:t.website},t.website)),(null===t||void 0===t?void 0:t.phone)&&r.a.createElement(ft.a.Item,{label:"Telephone"},t.phone),(null===t||void 0===t?void 0:t.email)&&r.a.createElement(ft.a.Item,{label:"Email"},r.a.createElement("a",{href:"mailto:".concat(t.email)},t.email)),(null===t||void 0===t?void 0:t.address)&&r.a.createElement(ft.a.Item,{label:"Street Address"},t.address)),r.a.createElement(vt,{editable:!0},null===t||void 0===t?void 0:t.description)))}),gt=a(60),Et=a(619),yt=a(620),kt=T.a.Title;Pe.a.Option;var wt=function(e){var t=e.orgId,a=Object(n.useState)([]),c=Object(ye.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(!0),o=Object(ye.a)(s,2),u=o[0],m=o[1],d=localStorage.getItem("user_id"),b=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("organization/get-members/",{params:{org_id:t}});case 3:(a=e.sent).data.forEach((function(e){return e.key=e.id})),i(a.data),m(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[t]),v=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.delete("member/delete/",{params:{member_id:t}});case 3:e.sent,i(l.filter((function(e){return e.key!==t}))),Je.b.success("Member deleted"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),Je.b.error("Member could not be deleted.");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[l]);Object(n.useEffect)((function(){t&&b(t)}),[t]);var h=[{title:"First",dataIndex:["user","first_name"],key:"first"},{title:"Last",dataIndex:["user","last_name"],key:"last"},{title:"Email",dataIndex:["user","email"],key:"email"},{title:"Role",dataIndex:"role",key:"role",render:function(e,t){return 1===t.member_type?"Admin":"Member"}},{title:"Status",dataIndex:"status",key:"status",render:function(e,t){return"Active"}},{title:"Action",key:"action",render:function(e,t){return parseInt(d)===t.user.id?r.a.createElement(gt.a,{title:"Cannot delete your own user."},r.a.createElement(M.a,{type:"primary",danger:!0,disabled:!0},"Delete")):r.a.createElement(Et.a,{title:"Are you sure you want to delete this member?",onConfirm:function(){return v(t.key)},okText:"Yes",cancelText:"No",disabled:parseInt(d)===t.user.id},r.a.createElement(M.a,{type:"primary",danger:!0},"Delete"))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt,{level:4},"Members"),r.a.createElement(yt.a,{columns:h,dataSource:l,loading:u}))},Ot=function(e){var t=e.isAdmin,a=e.orgId,c=Object(n.useState)([]),l=Object(ye.a)(c,2),i=l[0],s=l[1],o=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("eventFeedback/get-by-org/",{params:{orgId:a,isAdmin:t,userId:localStorage.getItem("user_id")}});case 3:n=e.sent,s(n.data),console.log("response",n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[s,a]);Object(n.useEffect)((function(){o()}),[a]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a.Title,{level:4},"Event Feedback"),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",overflowY:"scroll"}},r.a.createElement(yt.a,{dataSource:i,columns:[{title:"Event Name",dataIndex:"event__name",key:"event__name"},{title:"Event Location",dataIndex:"event__location",key:"event__location"},{title:"Event Start Date",dataIndex:"event__begindate",key:"event__begindate"},{title:"Event End Date",dataIndex:"event__enddate",key:"event__enddate"},{title:"User Email",dataIndex:"username__email",key:"uesrname__email"},{title:"User First Name",dataIndex:"username__first_name",key:"username__first_name"},{title:"User Last Name",dataIndex:"username__last_name",key:"username__last_name"},{title:"Overall",dataIndex:"overall",key:"overall"},{title:"Satisfaction",dataIndex:"satisfaction",key:"satisfaction"},{title:"Likely",dataIndex:"likely",key:"likely"},{title:"Expectations",dataIndex:"expectations",key:"expectations"},{title:"Future",dataIndex:"future",key:"future"},{title:"Better",dataIndex:"better",key:"better"},{title:"Experience",dataIndex:"experience",key:"experience"}]}),";"))},jt=a(231),xt=a.n(jt),_t=function(e){var t=e.orgId,a=Object(n.useState)([]),c=Object(ye.a)(a,2),l=c[0],i=c[1],s=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("organization/get-member-counts-by-org/",{params:{orgId:t}});case 3:a=e.sent,i(a.data),console.log("response",a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[i,t]);Object(n.useEffect)((function(){s()}),[t,s]);var o=Object(n.useState)([]),u=Object(ye.a)(o,2),m=u[0],d=u[1],b=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("events/get-attendee-counts-by-event/",{params:{orgId:t}});case 3:a=e.sent,d(a.data),console.log("response2",a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[d,m,t]);return Object(n.useEffect)((function(){b()}),[t,b]),r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a.Title,{level:4},"Analytics"),r.a.createElement(xt.a,{data:[{type:"bar",x:["admins","members"],y:l}],layout:{width:480,height:360,title:"User Count (Admin vs. Members)"}}),r.a.createElement(xt.a,{data:[{type:"bar",x:m[0],y:m[1]}],layout:{width:480,height:360,title:"Event Attendees Count"}}))},It=a(627),St=T.a.Title,Ct=Pe.a.Option;var Nt=function(e){var t=e.orgId,a=Object(n.useState)([]),c=Object(ye.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(!0),o=Object(ye.a)(s,2),u=o[0],m=o[1],d=(localStorage.getItem("user_id"),Object(n.useState)(!1)),b=Object(ye.a)(d,2),v=b[0],h=b[1],g=Object(n.useState)(!1),E=Object(ye.a)(g,2),y=E[0],k=E[1],O=Object(n.useState)([]),j=Object(ye.a)(O,2),x=j[0],_=j[1],I=Object(n.useState)(0),S=Object(ye.a)(I,2),C=S[0],N=S[1],F=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("organization/get-invites/",{params:{org_id:t}});case 3:(a=e.sent).data.forEach((function(e){return e.key=e.id})),i(a.data),m(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[t]),q=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),e.next=4,w.post("member/invite/",{emails:x,member_type:C,org_id:t});case 4:_([]),F(),Je.b.success("Invitation sent"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),Je.b.error("Invitations could not be sent.");case 13:k(!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])}))),[x,F,_,C,t,k]),T=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.delete("invite/delete/",{params:{invite_id:t}});case 3:e.sent,i(l.filter((function(e){return e.key!==t}))),Je.b.success("Invitation deleted"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),Je.b.error("Invitation could not be deleted.");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[l]);Object(n.useEffect)((function(){t&&F(t)}),[t]);var A=[{title:"Email",dataIndex:"email",key:"email"},{title:"Role",dataIndex:"role",key:"role",render:function(e,t){return 1===t.member_type?"Admin":"Member"}},{title:"Status",dataIndex:"status",key:"status",render:function(e,t){return"Active"}},{title:"Resend",key:"resend",render:function(e,t){return r.a.createElement(Et.a,{title:"Are you sure you want to delete this member?",onConfirm:function(){},okText:"Yes",cancelText:"No"},r.a.createElement(M.a,{type:"primary"},"Resend"))}},{title:"Delete",key:"delete",render:function(e,t){return r.a.createElement(Et.a,{title:"Are you sure you want to delete this invitation?",onConfirm:function(){return T(t.key)},okText:"Yes",cancelText:"No"},r.a.createElement(M.a,{type:"primary",danger:!0},"Delete"))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(le.a,{justify:"space-between"},r.a.createElement(St,{level:4},"Outstanding invites"),r.a.createElement(M.a,{type:"primary",icon:r.a.createElement(bt.a,null),onClick:function(){return h(!0)}},"Invite new members")),r.a.createElement(yt.a,{columns:A,dataSource:l,loading:u})),r.a.createElement(It.a,{visible:v,title:"Invite new members",onOk:function(){},onCancel:function(){return h(!1)},footer:[r.a.createElement(M.a,{key:"back",onClick:function(){return h(!1)}},"Close"),r.a.createElement(M.a,{key:"submit",type:"primary",loading:y,onClick:q},"Send")]},r.a.createElement(Pe.a,{title:"hello:",defaultValue:0,style:{width:"100%",marginBottom:8},onChange:N,placeholder:"Member Type"},r.a.createElement(Ct,{value:0},"Member"),r.a.createElement(Ct,{value:1},"Admin")),r.a.createElement(Pe.a,{mode:"tags",style:{width:"100%"},onChange:function(e){return _(e)},tokenSeparators:[","],placeholder:"Emails",allowClear:!0},[])))},Ft=a(622),qt=a(196),Tt=a.n(qt),At=(a(573),{Complete:r.a.createElement(Tt.a,{color:"green"},"Complete"),Rejected:r.a.createElement(Tt.a,{color:"red"},"Rejected"),Pending:r.a.createElement(Tt.a,{color:"orange"},"Pending Approval"),None:r.a.createElement("p",null)}),Pt=function(e){var t=e.status;return At[t]},zt=a(646);var Mt=function(e){var t=e.orgId,a=e.fileList,c=e.messageHandler,l=Object(n.useState)([]),i=Object(ye.a)(l,2),s=i[0],o=i[1],u=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("clearances/get-user-files/",{params:{userId:localStorage.getItem("user_id"),orgId:t}});case 3:a=e.sent,n=a.data,console.log("files",n),r=n.map((function(e){return{uid:e.id,orgFormId:e.org_file,name:e.filled_form.split("/").slice(-1).pop(),status:e.status,url:e.filled_form}})),o(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),[t]);Object(n.useEffect)((function(){u(t)}),[t]);var m={action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture",onChange:function(e){u(t),c(e)}},d=[{title:"Uncompleted File",dataIndex:"file",key:"file",render:function(e){return r.a.createElement("a",{href:"http://localhost:8080/"+e},e)}},{title:"Your Uploaded File",dataIndex:"uploaded_file",key:"uploaded_file",render:function(e){return r.a.createElement("a",{href:"http://localhost:8080/"+e},e)}},{title:"Status",dataIndex:"status",key:"status",render:function(e,t){return r.a.createElement(Pt,{status:t.status})}},{title:"Upload New File",key:"upload",render:function(e){return r.a.createElement(Ft.a,Object.assign({},m,{beforeUpload:function(t){var a=new FormData;return a.append("org_file_id",e.key),a.append("user_id",localStorage.getItem("user_id")),a.append("filled_form",t,t.name),a.append("status","Pending"),w.post("clearances/upload-user-file",a,{headers:{"Content-Type":"multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW"}}).then((function(e){return e.thumbnail}))}}),r.a.createElement(M.a,{icon:r.a.createElement(zt.a,null)}," Upload "))}}];function b(e,t){if(console.log("ufl",s.filter((function(e){return e.orgFormId==t}))),s.filter((function(e){return e.orgFormId==t})).length>0){var a=s.filter((function(e){return e.orgFormId==t}))[0];if("name"==e)return a.name;if("status"==e)return a.status}return"status"==e?"None":null}var v=a.map((function(e,t){return{key:e.uid,file:e.name,uploaded_file:b("name",e.uid),status:b("status",e.uid)}}));return r.a.createElement("div",null,r.a.createElement(yt.a,{columns:d,dataSource:v}))},Lt=T.a.Title;var Rt=function(e){var t=e.isAdmin,a=e.orgId,c=Object(n.useState)([]),l=Object(ye.a)(c,2),i=l[0],s=l[1],o=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("clearances/get-org-files/",{params:{orgId:t}});case 3:a=e.sent,n=a.data,r=n.map((function(e){return{uid:e.id,name:e.empty_form.split("/").slice(-1).pop(),status:"done",url:e.empty_form}})),s(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),[a]);function u(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?Je.b.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&Je.b.error("".concat(e.file.name," file upload failed."))}Object(n.useEffect)((function(){o(a)}),[a]);var m={listType:"picture",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",fileList:i,onChange:function(e){u(e);var t=Object(A.a)(e.fileList);t=t.map((function(e){return e.response&&(e.url="http://localhost:8080/"+e.name),e})),s(t)},previewFile:function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("empty_form",t,t.name),n.append("orgId",a),e.prev=3,e.next=6,w.post("clearances/upload-org-file",n,{headers:{"Content-Type":"multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW"}}).then((function(e){return e.thumbnail}));case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(3),console.log("upload failed");case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()};return r.a.createElement("div",null,r.a.createElement(Lt,{level:4},"Clearances"),t?r.a.createElement(r.a.Fragment,null,r.a.createElement(Lt,{level:2},"Add Form"),r.a.createElement(Ft.a,m,r.a.createElement(M.a,{icon:r.a.createElement(zt.a,null)},"Upload New Form"))):r.a.createElement(Mt,{orgId:a,fileList:i,messageHandler:u}))},Wt=a(190);var Dt=function(e){var t=e.orgId,a=Object(n.useState)([]),c=Object(ye.a)(a,2),l=c[0],i=c[1],s=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("clearances/get-user-files-for-org/",{params:{orgId:t}});case 3:a=e.sent,n=a.data,r=n.map((function(e,t){return{key:e.id,user:e.user__email,file:e.filled_form.split("/").slice(-1).pop(),status:e.status}})),console.log(r),i(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),[t]);Object(n.useEffect)((function(){s(t)}),[t]);var o=[{title:"User",dataIndex:"user",key:"user",render:function(e){return r.a.createElement("p",null,e)}},{title:"File",dataIndex:"file",key:"file",render:function(e){return r.a.createElement("a",{href:"http://localhost:8080/"+e},e)}},{title:"Action",key:"action",render:function(e,t,a){return r.a.createElement(Wt.a.Group,{defaultValue:t.status,onChange:function(e){return function(e,t){console.log(e.target.value),console.log(t);var a=e.target.value;try{w.post("clearances/set-status-user-file/",{id:t.key,status:a})}catch(n){console.error(n)}}(e,t)},buttonStyle:"solid"},r.a.createElement(Wt.a.Button,{value:"Complete"},"Accept"),r.a.createElement(Wt.a.Button,{value:"Rejected"},"Reject"))}}];return r.a.createElement("div",null,r.a.createElement(yt.a,{columns:o,dataSource:l}))},Vt=(a(609),z.a.TextArea),Ut=T.a.Title;var Qt=function(e){var t=e.orgId,a=Object(n.useState)([]),c=Object(ye.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)(!0),u=Object(ye.a)(o,2),m=u[0],d=u[1],b=Object(n.useState)([]),v=Object(ye.a)(b,2),h=v[0],g=v[1],E=Object(i.c)(),y=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("organization/get-members/",{params:{org_id:t}});case 3:(a=e.sent).data.forEach((function(e){return e.key=e.id})),s(a.data),d(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[t]);Object(n.useEffect)((function(){t&&y(t)}),[y,t]);var k=Object(n.useCallback)((function(e,t){g(t)}),[]),O=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(h),e.prev=1,e.next=4,w.post("member/email/",{subject:t.subject,body:t.body,membersList:h});case 4:E(je("Email sent","success")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),E(je("Email not sent","error"));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),[E,h]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ut,{level:4},"Email Members"),r.a.createElement(yt.a,{className:"member-table",rowSelection:{onChange:k},columns:[{title:"First",dataIndex:["user","first_name"],key:"first",width:"25%"},{title:"Last",dataIndex:["user","last_name"],key:"last",width:"25%"},{title:"Email",dataIndex:["user","email"],key:"email",width:"25%"},{title:"Role",dataIndex:"role",key:"role",render:function(e,t){return 1===t.member_type?"Admin":"Member"},width:"25%"}],dataSource:l,loading:m}),r.a.createElement(P.a,{name:"org",className:"org-form",initialValues:{remember:!0},onFinish:O},r.a.createElement(P.a.Item,{name:"subject",hasFeedback:!0,rules:[{required:!0,message:"Email subject is required."}]},r.a.createElement(z.a,{placeholder:"Email subject"})),r.a.createElement(P.a.Item,{name:"body",hasFeedback:!0,rules:[{required:!0,message:"Email body is required."}]},r.a.createElement(Vt,{row:6,style:{width:"100%"},placeholder:"Email body here..."})),r.a.createElement(P.a.Item,null,r.a.createElement(M.a,{type:"primary",htmlType:"submit",className:"org-form-button"},"Send email"))))},Gt=(a(610),T.a.Title),Yt=Ye.a.TabPane;var Bt=function(e){var t=e.member,a=e.orgId,c=Object(n.useState)(null),l=Object(ye.a)(c,2),i=l[0],s=l[1],o=Object(n.useState)("home"),u=Object(ye.a)(o,2),m=u[0],d=u[1],p=1===(null===t||void 0===t?void 0:t.member_type);return Object(n.useEffect)((function(){a&&(t&&s(t.organization),d("home"))}),[d,a,t]),r.a.createElement(r.a.Fragment,null,i&&r.a.createElement(Gt,{style:{textAlign:"center"},level:2},i.name),r.a.createElement(Ye.a,{activeKey:m,onChange:d,style:{height:"100%"}},r.a.createElement(Yt,{tab:"Home",key:"home",style:{height:"100%"}},r.a.createElement(ht,{org:i})),r.a.createElement(Yt,{tab:"Events",key:"events"},r.a.createElement(mt,{orgId:a})),r.a.createElement(Yt,{tab:"FAQ",key:"faq"},r.a.createElement(ut,{isAdmin:p,orgId:a})),r.a.createElement(Yt,{tab:"Feedback",key:"feedback"},r.a.createElement(Ot,{isAdmin:null===t||void 0===t?void 0:t.member_type,orgId:a})),r.a.createElement(Yt,{tab:"Analytics",key:"analytics"},r.a.createElement(_t,{orgId:a})),r.a.createElement(Yt,{tab:"Clearances",key:"clearance"},r.a.createElement(Rt,{isAdmin:p,orgId:a})),p&&r.a.createElement(Yt,{tab:"Clearance Table",key:"clearance_table"},r.a.createElement(Dt,{orgId:a})),p&&r.a.createElement(Yt,{tab:"Members",key:"members"},r.a.createElement(wt,{orgId:a})),p&&r.a.createElement(Yt,{tab:"Invites",key:"invites"},r.a.createElement(Nt,{orgId:a})),p&&r.a.createElement(Yt,{tab:"Communication",key:"member_emails"},r.a.createElement(Qt,{orgId:a}))))},Kt=function(e){var t=e.member,a=e.context;switch(a){case"create-org":return r.a.createElement(Le,null);case"find":return r.a.createElement($e,null);case"settings":return r.a.createElement(Ke,null);case"create-event":return r.a.createElement(ct,null);default:var n=parseInt(a);if(isNaN(n))return r.a.createElement(Le,null);var c=t.filter((function(e){return e.organization.id===n}))[0];return r.a.createElement(Bt,{member:c,orgId:n})}},Jt=q.a.Content,Ht=q.a.Sider,Xt=function(){var e=Object(n.useState)([]),t=Object(ye.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),s=Object(ye.a)(l,2),o=s[0],u=s[1],m=Object(n.useState)([]),d=Object(ye.a)(m,2),b=d[0],v=d[1],h=Object(i.d)((function(e){return e.alerts}),i.b),g=Object(i.c)(),E=Object(n.useCallback)((function(e){setTimeout((function(){return g(function(e){return{type:"REMOVE_ALERT",id:e}}(e))}),500)}),[g]),y=h.map((function(e){return r.a.createElement(ke.a,{key:e.id,type:e.alert_type,message:e.message,banner:!0,closable:!0,onClose:function(){return E(e.id)}})})),k=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t,a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("user/get-member/",{params:{user_id:localStorage.getItem("user_id")}});case 3:t=e.sent,(a=t.data).length>0?(u(a),v([null===(n=a[0])||void 0===n||null===(r=n.organization)||void 0===r?void 0:r.id.toString()])):v(["create"]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[v,u]);return Object(n.useEffect)((function(){k()}),[k]),r.a.createElement(q.a,{style:{minHeight:"100vh"}},r.a.createElement(Ht,{width:240,style:{background:"#fff"}},r.a.createElement(Ae,{selectedKeys:b,setSelectedKeys:v,member:o,setFeedContext:function(e){c(e)}})),r.a.createElement(q.a,null,y,r.a.createElement(q.a,{style:{padding:"24px",height:"100%"}},r.a.createElement(Jt,{style:{background:"#fff",padding:24,margin:0,display:"flex",flexDirection:"column"}},r.a.createElement(Kt,{member:o,context:a})))))},Zt=a(629),$t=a(308),ea=a(645),ta=a(635),aa=function(e){var t=e.invite,a=Object(m.f)(),c=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(t.email,n.first_name,n.last_name,n.password,t.id);case 3:a.push("/login"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[a,t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{name:"auth",className:"auth-form",initialValues:{remember:!0},onFinish:c},r.a.createElement(P.a.Item,null,r.a.createElement(z.a.Group,{compact:!0},r.a.createElement(P.a.Item,{name:"first_name",noStyle:!0,rules:[{required:!0,message:"First name is required"}]},r.a.createElement(z.a,{style:{width:"50%"},placeholder:"First name"})),r.a.createElement(P.a.Item,{name:"last_name",noStyle:!0,rules:[{required:!0,message:"Last name is required"}]},r.a.createElement(z.a,{style:{width:"50%"},placeholder:"Last name"})))),r.a.createElement(P.a.Item,{name:"password",hasFeedback:!0,rules:[{required:!0,message:"Password is a required field."},{min:12,message:"Password must be at least 12 characters long."}]},r.a.createElement(z.a,{prefix:r.a.createElement(R.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),r.a.createElement(P.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password."},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("Passwords do not match."):Promise.resolve()}}}]},r.a.createElement(z.a,{prefix:r.a.createElement(R.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Confirm password"})),r.a.createElement(P.a.Item,null,r.a.createElement(M.a,{type:"primary",htmlType:"submit",className:"auth-form-button"},"Create Account"))))},na=function(e){var t,a,c,l,i=e.isRegister,s=e.invite,o=e.user,u="Join ".concat(null!==(t=null===s||void 0===s||null===(a=s.organization)||void 0===a?void 0:a.name)&&void 0!==t?t:"Organization"),d="".concat(i?"Welcome!":"Hey there!"," You've been invited to join ").concat(null!==(c=null===s||void 0===s||null===(l=s.organization)||void 0===l?void 0:l.name)&&void 0!==c?c:"a new organization"," on VolunteerSense.\n    ").concat(i?"Get started my making an account.":"Do you want to join this organization?"),b=Object(m.f)(),v=i?V:D,h=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.post("invite/accept/",{invite_id:s.id,user_id:o.id});case 3:e.sent,b.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[o,s]),g=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.delete("invite/reject/",{params:{invite_id:s.id}});case 3:e.sent,b.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[o,s]);return r.a.createElement(q.a,{style:{height:"100vh"}},r.a.createElement(q.a.Content,{className:"auth-content"},r.a.createElement("div",{className:"auth-container"},r.a.createElement(De.a,{active:!0,loading:!s,paragraph:!1},r.a.createElement(T.a.Title,{level:2},u)),r.a.createElement(De.a,{active:!0,loading:!s,title:!1},r.a.createElement(T.a.Paragraph,{level:2},d)),r.a.createElement("img",{className:"auth-logo",src:v,alt:u+" logo"}),i?r.a.createElement(aa,{invite:s}):r.a.createElement(ta.b,{style:{width:"100%"}},r.a.createElement(M.a,{style:{width:196},type:"primary",onClick:h},"Join"),r.a.createElement(M.a,{style:{width:196},type:"primary",danger:!0,onClick:g},"Decline Invitation")))))},ra=1,ca=2,la=3,ia=4,sa=function(){var e=Object(n.useState)(ra),t=Object(ye.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),i=Object(ye.a)(l,2),s=i[0],o=i[1],u=Object(n.useState)(null),m=Object(ye.a)(u,2),d=m[0],b=m[1];Object(n.useEffect)((function(){v()}),[]);var v=Object(n.useCallback)(Object(f.a)(p.a.mark((function e(){var t,a,n,r,l,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=window.location.search,a=t.split(/[?&=]/),n="",r=0;case 5:if(!(r<a.length-1)){e.next=12;break}if("rt"!==a[r]){e.next=9;break}return n=a[r+1],e.abrupt("break",12);case 9:r++,e.next=5;break;case 12:if(""===n){e.next=20;break}return l="invite/validate/".concat(t),e.next=16,w.get(l);case 16:200===(i=e.sent).status?(console.log(i.data.user),""!==i.data.user.email?(c(la),o(i.data.user)):c(ca),b(i.data.invite)):c(ia),e.next=21;break;case 20:c(ia);case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),c(ia);case 26:case"end":return e.stop()}}),e,null,[[0,23]])}))),[c]),h=r.a.createElement(ea.a,{style:{fontSize:24},spin:!0});switch(a){case ia:return r.a.createElement(Zt.a,{status:"error",title:"Failed to join organization",subTitle:"Your invitation token may be expired, or otherwise invalid. Contact the group administrator to receive another invitation.",extra:[r.a.createElement(M.a,{key:"home",href:"/"},"Return home")]});case ra:return r.a.createElement($t.a,{indicator:h});default:return r.a.createElement(na,{isRegister:a===ca,invite:d,user:s})}},oa=1,ua=2,ma=3,da=function(){var e=Object(n.useState)(oa),t=Object(ye.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){l()}),[]);var l=function(){var e=Object(f.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.location.search,a="users/activate/".concat(t),e.next=5,w.get(a);case 5:c(ua),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c(ma);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),i=r.a.createElement(ea.a,{style:{fontSize:24},spin:!0});switch(a){case ua:return r.a.createElement(Zt.a,{status:"success",title:"Successfully activated account",extra:[r.a.createElement(M.a,{type:"primary",key:"login",href:"/login"},"Login"),r.a.createElement(M.a,{key:"home",href:"/"},"Return home")]});case ma:return r.a.createElement(Zt.a,{status:"error",title:"Failed to activate account",subTitle:"Your activation token may be expired, or otherwise invalid.",extra:[r.a.createElement(M.a,{type:"primary",key:"resend",href:"/"},"Resend confirmation email"),r.a.createElement(M.a,{key:"home",href:"/"},"Return home")]});default:return r.a.createElement($t.a,{indicator:i})}},pa=(a(613),z.a.TextArea),fa=function(){var e=Object(n.useState)(!1),t=Object(ye.a)(e,2),a=t[0],c=t[1],l=Object(i.c)(),s=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,w.post("eventFeedback/create/",{id:new URLSearchParams(window.location.search).get("attendee_id"),overall:t.overall,satisfaction:t.satisfaction,likely:t.likely,expectations:t.expectations,future:t.future,better:t.better,experience:t.experience});case 4:console.log("here feedback"),l(je("Feedback submitted","success")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l(je("Feedback submission failed","error"));case 11:c(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),[l]),o=Object(n.useState)([]),u=Object(ye.a)(o,2),m=u[0],d=u[1];Object(n.useEffect)((function(){b()}),[]);var b=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("event/get-event-by-id/",{params:{attendee_id:new URLSearchParams(window.location.search).get("attendee_id")}});case 3:t=e.sent,d(t.data[0]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),v=[{label:"Yes",value:"Yes"},{label:"No",value:"No"}];return r.a.createElement(P.a,{name:"event-feedback",className:"event-feedback-form",initialValues:{remember:!0},onFinish:s},r.a.createElement("p",null,r.a.createElement("strong",null,"Name: "),m.username__first_name," ",m.username__last_name,r.a.createElement("br",null),r.a.createElement("strong",null,"Email: "),m.username__email,r.a.createElement("br",null),r.a.createElement("strong",null,"Organization: ")," ",m.events__organizations__name,r.a.createElement("br",null),r.a.createElement("strong",null,"Event: "),m.events__name," ",r.a.createElement("br",null),r.a.createElement("strong",null,"Location: "),m.events__location,r.a.createElement("br",null),r.a.createElement("strong",null,"Date: "),m.events__begindate,"-",m.events__enddate,r.a.createElement("br",null)),r.a.createElement("p",null,"How would you rate your overall experience?"),r.a.createElement(P.a.Item,{name:"overall",hasFeedback:!0,rules:[{required:!0,message:"Overall experience rating required."}]},r.a.createElement(Wt.a.Group,{options:[{label:"Poor",value:"Poor"},{label:"Fair",value:"Fair"},{label:"Average",value:"Average"},{label:"Good",value:"Good"},{label:"Excellent",value:"Excellent"}],optionType:"button",buttonStyle:"solid"})),r.a.createElement("p",null,"How satisfied did you feel after volunteering?"),r.a.createElement(P.a.Item,{name:"satisfaction",hasFeedback:!0,rules:[{required:!0,message:"Satisfiaction rating required."}]},r.a.createElement(Wt.a.Group,{options:[{label:"Very Dissatisfied",value:"Very Dissatisfied"},{label:"Dissatisfied",value:"Dissatisfied"},{label:"Neutral",value:"Neutral"},{label:"Satisfied",value:"Satisfied"},{label:"Very Satisfied",value:"Very Satisfied"}],optionType:"button",buttonStyle:"solid"})),r.a.createElement("p",null,"How likely are you to recommend future volunteer opportunities to your friends?"),r.a.createElement(P.a.Item,{name:"likely",hasFeedback:!0,rules:[{required:!0,message:"Recommend rating required."}]},r.a.createElement(Wt.a.Group,{options:[{label:"Very Unlikely",value:"Very Unlikely"},{label:"Somewhat Unlikely",value:"Somewhat Unlikely"},{label:"Neutral",value:"Neutral"},{label:"Somewhat Likely",value:"Somewhat Likely"},{label:"Very Likely",value:"Very Likely"}],optionType:"button",buttonStyle:"solid"})),r.a.createElement("p",null,"Did the experience meet your expectations?"),r.a.createElement(P.a.Item,{name:"expectations",hasFeedback:!0,rules:[{required:!0,message:"Expectations rating required."}]},r.a.createElement(Wt.a.Group,{options:v})),r.a.createElement("p",null,"Do you plan to volunteer with us again in the future?"),r.a.createElement(P.a.Item,{name:"future",hasFeedback:!0,rules:[{required:!0,message:"Future rating required."}]},r.a.createElement(Wt.a.Group,{options:v})),r.a.createElement("p",null,"What could we have done better?"),r.a.createElement(P.a.Item,{name:"better",hasFeedback:!0},r.a.createElement(pa,{row:6,style:{width:"100%"},placeholder:"Response here"})),r.a.createElement("p",null,"Is there anything else you\u2019d like for us to know about your volunteer experience?"),r.a.createElement(P.a.Item,{name:"experience",hasFeedback:!0},r.a.createElement(pa,{row:6,style:{width:"100%"},placeholder:"Response here"})),r.a.createElement(P.a.Item,null,r.a.createElement(M.a,{type:"primary",htmlType:"submit",className:"event-feedback-form-button",loading:a},"Submit feedback")))},ba=(a(614),function(){return r.a.createElement("div",{className:"event-feedback-container"},r.a.createElement(T.a.Title,{level:2},"Event Feedback"),r.a.createElement(fa,null))});a(615);var va=function(){return r.a.createElement(U,{isRegister:!0})},ha=function(){return r.a.createElement(U,{isRegister:!1})},ga=function(){return r.a.createElement("main",null,r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",render:function(){return localStorage.getItem("access_token")?r.a.createElement(Xt,null):r.a.createElement(Ee,null)}}),r.a.createElement(m.a,{path:"/login",component:ha}),r.a.createElement(m.a,{path:"/register",component:va}),r.a.createElement(m.a,{path:"/activate",component:da}),r.a.createElement(m.a,{path:"/invite",component:sa}),r.a.createElement(m.a,{path:"/events",component:$e}),r.a.createElement(m.a,{path:"/NewEvent",component:ct}),r.a.createElement(m.a,{path:"/feed",component:Xt}),r.a.createElement(m.a,{path:"/EventFeedback",component:ba})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ea=Object(s.c)(o);l.a.render(r.a.createElement(i.a,{store:Ea},r.a.createElement(u.a,null,r.a.createElement(ga,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[616,1,2]]]);
//# sourceMappingURL=main.cb2df48a.chunk.js.map